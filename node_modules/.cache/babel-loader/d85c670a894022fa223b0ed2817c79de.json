{"ast":null,"code":"\"use strict\";\n\nfunction t(t) {\n  return t && \"object\" == typeof t && \"default\" in t ? t.default : t;\n}\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: !0\n});\n\nvar e,\n    n = t(require(\"jsbi\")),\n    r = require(\"@ethersproject/abi\"),\n    o = t(require(\"tiny-invariant\")),\n    u = require(\"@uniswap/swap-router-contracts/artifacts/contracts/interfaces/IApproveAndCall.sol/IApproveAndCall.json\"),\n    i = require(\"@uniswap/v3-sdk\"),\n    a = require(\"@uniswap/swap-router-contracts/artifacts/contracts/interfaces/IMulticallExtended.sol/IMulticallExtended.json\"),\n    c = require(\"@uniswap/sdk-core\"),\n    p = require(\"@uniswap/swap-router-contracts/artifacts/contracts/interfaces/IPeripheryPaymentsWithFeeExtended.sol/IPeripheryPaymentsWithFeeExtended.json\"),\n    s = require(\"@uniswap/swap-router-contracts/artifacts/contracts/interfaces/ISwapRouter02.sol/ISwapRouter02.json\"),\n    d = require(\"@uniswap/v2-sdk\"),\n    l = \"0x0000000000000000000000000000000000000001\",\n    m = \"0x0000000000000000000000000000000000000002\",\n    f = n.BigInt(0),\n    h = n.BigInt(1);\n\nfunction v(t) {\n  return Object.keys(t).some(function (t) {\n    return \"recipient\" === t;\n  });\n}\n\n(e = exports.ApprovalTypes || (exports.ApprovalTypes = {}))[e.NOT_REQUIRED = 0] = \"NOT_REQUIRED\", e[e.MAX = 1] = \"MAX\", e[e.MAX_MINUS_ONE = 2] = \"MAX_MINUS_ONE\", e[e.ZERO_THEN_MAX = 3] = \"ZERO_THEN_MAX\", e[e.ZERO_THEN_MAX_MINUS_ONE = 4] = \"ZERO_THEN_MAX_MINUS_ONE\";\n\nvar y = function () {\n  function t() {}\n\n  return t.encodeApproveMax = function (e) {\n    return t.INTERFACE.encodeFunctionData(\"approveMax\", [e.address]);\n  }, t.encodeApproveMaxMinusOne = function (e) {\n    return t.INTERFACE.encodeFunctionData(\"approveMaxMinusOne\", [e.address]);\n  }, t.encodeApproveZeroThenMax = function (e) {\n    return t.INTERFACE.encodeFunctionData(\"approveZeroThenMax\", [e.address]);\n  }, t.encodeApproveZeroThenMaxMinusOne = function (e) {\n    return t.INTERFACE.encodeFunctionData(\"approveZeroThenMaxMinusOne\", [e.address]);\n  }, t.encodeCallPositionManager = function (e) {\n    if (e.length > 0 || o(!1), 1 == e.length) return t.INTERFACE.encodeFunctionData(\"callPositionManager\", e);\n    var n = i.NonfungiblePositionManager.INTERFACE.encodeFunctionData(\"multicall\", [e]);\n    return t.INTERFACE.encodeFunctionData(\"callPositionManager\", [n]);\n  }, t.encodeAddLiquidity = function (e, r, o, u) {\n    var a = e.mintAmountsWithSlippage(u),\n        c = a.amount0,\n        p = a.amount1;\n    return n.lessThan(r.amount0.quotient, c) && (c = r.amount0.quotient), n.lessThan(r.amount1.quotient, p) && (p = r.amount1.quotient), v(o) ? t.INTERFACE.encodeFunctionData(\"mint\", [{\n      token0: e.pool.token0.address,\n      token1: e.pool.token1.address,\n      fee: e.pool.fee,\n      tickLower: e.tickLower,\n      tickUpper: e.tickUpper,\n      amount0Min: i.toHex(c),\n      amount1Min: i.toHex(p),\n      recipient: o.recipient\n    }]) : t.INTERFACE.encodeFunctionData(\"increaseLiquidity\", [{\n      token0: e.pool.token0.address,\n      token1: e.pool.token1.address,\n      amount0Min: i.toHex(c),\n      amount1Min: i.toHex(p),\n      tokenId: i.toHex(o.tokenId)\n    }]);\n  }, t.encodeApprove = function (e, n) {\n    switch (n) {\n      case exports.ApprovalTypes.MAX:\n        return t.encodeApproveMax(e.wrapped);\n\n      case exports.ApprovalTypes.MAX_MINUS_ONE:\n        return t.encodeApproveMaxMinusOne(e.wrapped);\n\n      case exports.ApprovalTypes.ZERO_THEN_MAX:\n        return t.encodeApproveZeroThenMax(e.wrapped);\n\n      case exports.ApprovalTypes.ZERO_THEN_MAX_MINUS_ONE:\n        return t.encodeApproveZeroThenMaxMinusOne(e.wrapped);\n\n      default:\n        throw \"Error: invalid ApprovalType\";\n    }\n  }, t;\n}();\n\ny.INTERFACE = new r.Interface(u.abi);\n\nvar A = function () {\n  function t() {}\n\n  return t.encodeMulticall = function (e, n) {\n    if (void 0 === n) return i.Multicall.encodeMulticall(e);\n\n    if (Array.isArray(e) || (e = [e]), \"string\" == typeof n && n.startsWith(\"0x\")) {\n      var r = function (t) {\n        if (!t.match(/^0x[0-9a-fA-F]{64}$/)) throw new Error(t + \" is not valid bytes32.\");\n        return t.toLowerCase();\n      }(n);\n\n      return t.INTERFACE.encodeFunctionData(\"multicall(bytes32,bytes[])\", [r, e]);\n    }\n\n    var o = i.toHex(n);\n    return t.INTERFACE.encodeFunctionData(\"multicall(uint256,bytes[])\", [o, e]);\n  }, t;\n}();\n\nfunction T(t) {\n  return i.toHex(t.multiply(1e4).quotient);\n}\n\nA.INTERFACE = new r.Interface(a.abi);\n\nvar w = function () {\n  function t() {}\n\n  return t.encodeUnwrapWETH9 = function (e, n, r) {\n    if (\"string\" == typeof n) return i.Payments.encodeUnwrapWETH9(e, n, r);\n\n    if (r) {\n      var o = T(r.fee),\n          u = c.validateAndParseAddress(r.recipient);\n      return t.INTERFACE.encodeFunctionData(\"unwrapWETH9WithFee(uint256,uint256,address)\", [i.toHex(e), o, u]);\n    }\n\n    return t.INTERFACE.encodeFunctionData(\"unwrapWETH9(uint256)\", [i.toHex(e)]);\n  }, t.encodeSweepToken = function (e, n, r, o) {\n    if (\"string\" == typeof r) return i.Payments.encodeSweepToken(e, n, r, o);\n\n    if (o) {\n      var u = T(o.fee),\n          a = c.validateAndParseAddress(o.recipient);\n      return t.INTERFACE.encodeFunctionData(\"sweepTokenWithFee(address,uint256,uint256,address)\", [e.address, i.toHex(n), u, a]);\n    }\n\n    return t.INTERFACE.encodeFunctionData(\"sweepToken(address,uint256)\", [e.address, i.toHex(n)]);\n  }, t.encodePull = function (e, n) {\n    return t.INTERFACE.encodeFunctionData(\"pull\", [e.address, i.toHex(n)]);\n  }, t.encodeWrapETH = function (e) {\n    return t.INTERFACE.encodeFunctionData(\"wrapETH\", [i.toHex(e)]);\n  }, t;\n}();\n\nfunction E(t, e, n, r, o, u, i) {\n  try {\n    var a = t[u](i),\n        c = a.value;\n  } catch (t) {\n    return void n(t);\n  }\n\n  a.done ? e(c) : Promise.resolve(c).then(r, o);\n}\n\nfunction x(t) {\n  return function () {\n    var e = this,\n        n = arguments;\n    return new Promise(function (r, o) {\n      var u = t.apply(e, n);\n\n      function i(t) {\n        E(u, r, o, i, a, \"next\", t);\n      }\n\n      function a(t) {\n        E(u, r, o, i, a, \"throw\", t);\n      }\n\n      i(void 0);\n    });\n  };\n}\n\nfunction g(t, e) {\n  t.prototype = Object.create(e.prototype), t.prototype.constructor = t, (Object.setPrototypeOf || function (t, e) {\n    return t.__proto__ = e, t;\n  })(t, e);\n}\n\nfunction I(t, e) {\n  (null == e || e > t.length) && (e = t.length);\n\n  for (var n = 0, r = new Array(e); n < e; n++) {\n    r[n] = t[n];\n  }\n\n  return r;\n}\n\nfunction P(t, e) {\n  var n = \"undefined\" != typeof Symbol && t[Symbol.iterator] || t[\"@@iterator\"];\n  if (n) return (n = n.call(t)).next.bind(n);\n\n  if (Array.isArray(t) || (n = function (t, e) {\n    if (t) {\n      if (\"string\" == typeof t) return I(t, void 0);\n      var n = Object.prototype.toString.call(t).slice(8, -1);\n      return \"Object\" === n && t.constructor && (n = t.constructor.name), \"Map\" === n || \"Set\" === n ? Array.from(t) : \"Arguments\" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? I(t, void 0) : void 0;\n    }\n  }(t)) || e && t && \"number\" == typeof t.length) {\n    n && (t = n);\n    var r = 0;\n    return function () {\n      return r >= t.length ? {\n        done: !0\n      } : {\n        done: !1,\n        value: t[r++]\n      };\n    };\n  }\n\n  throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nw.INTERFACE = new r.Interface(p.abi);\nvar k,\n    R,\n    N = (function (t) {\n  var e = function (t) {\n    var e = Object.prototype,\n        n = e.hasOwnProperty,\n        r = \"function\" == typeof Symbol ? Symbol : {},\n        o = r.iterator || \"@@iterator\",\n        u = r.asyncIterator || \"@@asyncIterator\",\n        i = r.toStringTag || \"@@toStringTag\";\n\n    function a(t, e, n) {\n      return Object.defineProperty(t, e, {\n        value: n,\n        enumerable: !0,\n        configurable: !0,\n        writable: !0\n      }), t[e];\n    }\n\n    try {\n      a({}, \"\");\n    } catch (t) {\n      a = function a(t, e, n) {\n        return t[e] = n;\n      };\n    }\n\n    function c(t, e, n, r) {\n      var o = Object.create((e && e.prototype instanceof d ? e : d).prototype),\n          u = new g(r || []);\n      return o._invoke = function (t, e, n) {\n        var r = \"suspendedStart\";\n        return function (o, u) {\n          if (\"executing\" === r) throw new Error(\"Generator is already running\");\n\n          if (\"completed\" === r) {\n            if (\"throw\" === o) throw u;\n            return {\n              value: void 0,\n              done: !0\n            };\n          }\n\n          for (n.method = o, n.arg = u;;) {\n            var i = n.delegate;\n\n            if (i) {\n              var a = w(i, n);\n\n              if (a) {\n                if (a === s) continue;\n                return a;\n              }\n            }\n\n            if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) {\n              if (\"suspendedStart\" === r) throw r = \"completed\", n.arg;\n              n.dispatchException(n.arg);\n            } else \"return\" === n.method && n.abrupt(\"return\", n.arg);\n            r = \"executing\";\n            var c = p(t, e, n);\n\n            if (\"normal\" === c.type) {\n              if (r = n.done ? \"completed\" : \"suspendedYield\", c.arg === s) continue;\n              return {\n                value: c.arg,\n                done: n.done\n              };\n            }\n\n            \"throw\" === c.type && (r = \"completed\", n.method = \"throw\", n.arg = c.arg);\n          }\n        };\n      }(t, n, u), o;\n    }\n\n    function p(t, e, n) {\n      try {\n        return {\n          type: \"normal\",\n          arg: t.call(e, n)\n        };\n      } catch (t) {\n        return {\n          type: \"throw\",\n          arg: t\n        };\n      }\n    }\n\n    t.wrap = c;\n    var s = {};\n\n    function d() {}\n\n    function l() {}\n\n    function m() {}\n\n    var f = {};\n    a(f, o, function () {\n      return this;\n    });\n    var h = Object.getPrototypeOf,\n        v = h && h(h(I([])));\n    v && v !== e && n.call(v, o) && (f = v);\n    var y = m.prototype = d.prototype = Object.create(f);\n\n    function A(t) {\n      [\"next\", \"throw\", \"return\"].forEach(function (e) {\n        a(t, e, function (t) {\n          return this._invoke(e, t);\n        });\n      });\n    }\n\n    function T(t, e) {\n      var r;\n\n      this._invoke = function (o, u) {\n        function i() {\n          return new e(function (r, i) {\n            !function r(o, u, i, a) {\n              var c = p(t[o], t, u);\n\n              if (\"throw\" !== c.type) {\n                var s = c.arg,\n                    d = s.value;\n                return d && \"object\" == typeof d && n.call(d, \"__await\") ? e.resolve(d.__await).then(function (t) {\n                  r(\"next\", t, i, a);\n                }, function (t) {\n                  r(\"throw\", t, i, a);\n                }) : e.resolve(d).then(function (t) {\n                  s.value = t, i(s);\n                }, function (t) {\n                  return r(\"throw\", t, i, a);\n                });\n              }\n\n              a(c.arg);\n            }(o, u, r, i);\n          });\n        }\n\n        return r = r ? r.then(i, i) : i();\n      };\n    }\n\n    function w(t, e) {\n      var n = t.iterator[e.method];\n\n      if (void 0 === n) {\n        if (e.delegate = null, \"throw\" === e.method) {\n          if (t.iterator.return && (e.method = \"return\", e.arg = void 0, w(t, e), \"throw\" === e.method)) return s;\n          e.method = \"throw\", e.arg = new TypeError(\"The iterator does not provide a 'throw' method\");\n        }\n\n        return s;\n      }\n\n      var r = p(n, t.iterator, e.arg);\n      if (\"throw\" === r.type) return e.method = \"throw\", e.arg = r.arg, e.delegate = null, s;\n      var o = r.arg;\n      return o ? o.done ? (e[t.resultName] = o.value, e.next = t.nextLoc, \"return\" !== e.method && (e.method = \"next\", e.arg = void 0), e.delegate = null, s) : o : (e.method = \"throw\", e.arg = new TypeError(\"iterator result is not an object\"), e.delegate = null, s);\n    }\n\n    function E(t) {\n      var e = {\n        tryLoc: t[0]\n      };\n      1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e);\n    }\n\n    function x(t) {\n      var e = t.completion || {};\n      e.type = \"normal\", delete e.arg, t.completion = e;\n    }\n\n    function g(t) {\n      this.tryEntries = [{\n        tryLoc: \"root\"\n      }], t.forEach(E, this), this.reset(!0);\n    }\n\n    function I(t) {\n      if (t) {\n        var e = t[o];\n        if (e) return e.call(t);\n        if (\"function\" == typeof t.next) return t;\n\n        if (!isNaN(t.length)) {\n          var r = -1,\n              u = function e() {\n            for (; ++r < t.length;) {\n              if (n.call(t, r)) return e.value = t[r], e.done = !1, e;\n            }\n\n            return e.value = void 0, e.done = !0, e;\n          };\n\n          return u.next = u;\n        }\n      }\n\n      return {\n        next: P\n      };\n    }\n\n    function P() {\n      return {\n        value: void 0,\n        done: !0\n      };\n    }\n\n    return l.prototype = m, a(y, \"constructor\", m), a(m, \"constructor\", l), l.displayName = a(m, i, \"GeneratorFunction\"), t.isGeneratorFunction = function (t) {\n      var e = \"function\" == typeof t && t.constructor;\n      return !!e && (e === l || \"GeneratorFunction\" === (e.displayName || e.name));\n    }, t.mark = function (t) {\n      return Object.setPrototypeOf ? Object.setPrototypeOf(t, m) : (t.__proto__ = m, a(t, i, \"GeneratorFunction\")), t.prototype = Object.create(y), t;\n    }, t.awrap = function (t) {\n      return {\n        __await: t\n      };\n    }, A(T.prototype), a(T.prototype, u, function () {\n      return this;\n    }), t.AsyncIterator = T, t.async = function (e, n, r, o, u) {\n      void 0 === u && (u = Promise);\n      var i = new T(c(e, n, r, o), u);\n      return t.isGeneratorFunction(n) ? i : i.next().then(function (t) {\n        return t.done ? t.value : i.next();\n      });\n    }, A(y), a(y, i, \"Generator\"), a(y, o, function () {\n      return this;\n    }), a(y, \"toString\", function () {\n      return \"[object Generator]\";\n    }), t.keys = function (t) {\n      var e = [];\n\n      for (var n in t) {\n        e.push(n);\n      }\n\n      return e.reverse(), function n() {\n        for (; e.length;) {\n          var r = e.pop();\n          if (r in t) return n.value = r, n.done = !1, n;\n        }\n\n        return n.done = !0, n;\n      };\n    }, t.values = I, g.prototype = {\n      constructor: g,\n      reset: function reset(t) {\n        if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = void 0, this.tryEntries.forEach(x), !t) for (var e in this) {\n          \"t\" === e.charAt(0) && n.call(this, e) && !isNaN(+e.slice(1)) && (this[e] = void 0);\n        }\n      },\n      stop: function stop() {\n        this.done = !0;\n        var t = this.tryEntries[0].completion;\n        if (\"throw\" === t.type) throw t.arg;\n        return this.rval;\n      },\n      dispatchException: function dispatchException(t) {\n        if (this.done) throw t;\n        var e = this;\n\n        function r(n, r) {\n          return i.type = \"throw\", i.arg = t, e.next = n, r && (e.method = \"next\", e.arg = void 0), !!r;\n        }\n\n        for (var o = this.tryEntries.length - 1; o >= 0; --o) {\n          var u = this.tryEntries[o],\n              i = u.completion;\n          if (\"root\" === u.tryLoc) return r(\"end\");\n\n          if (u.tryLoc <= this.prev) {\n            var a = n.call(u, \"catchLoc\"),\n                c = n.call(u, \"finallyLoc\");\n\n            if (a && c) {\n              if (this.prev < u.catchLoc) return r(u.catchLoc, !0);\n              if (this.prev < u.finallyLoc) return r(u.finallyLoc);\n            } else if (a) {\n              if (this.prev < u.catchLoc) return r(u.catchLoc, !0);\n            } else {\n              if (!c) throw new Error(\"try statement without catch or finally\");\n              if (this.prev < u.finallyLoc) return r(u.finallyLoc);\n            }\n          }\n        }\n      },\n      abrupt: function abrupt(t, e) {\n        for (var r = this.tryEntries.length - 1; r >= 0; --r) {\n          var o = this.tryEntries[r];\n\n          if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) {\n            var u = o;\n            break;\n          }\n        }\n\n        u && (\"break\" === t || \"continue\" === t) && u.tryLoc <= e && e <= u.finallyLoc && (u = null);\n        var i = u ? u.completion : {};\n        return i.type = t, i.arg = e, u ? (this.method = \"next\", this.next = u.finallyLoc, s) : this.complete(i);\n      },\n      complete: function complete(t, e) {\n        if (\"throw\" === t.type) throw t.arg;\n        return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), s;\n      },\n      finish: function finish(t) {\n        for (var e = this.tryEntries.length - 1; e >= 0; --e) {\n          var n = this.tryEntries[e];\n          if (n.finallyLoc === t) return this.complete(n.completion, n.afterLoc), x(n), s;\n        }\n      },\n      catch: function _catch(t) {\n        for (var e = this.tryEntries.length - 1; e >= 0; --e) {\n          var n = this.tryEntries[e];\n\n          if (n.tryLoc === t) {\n            var r = n.completion;\n\n            if (\"throw\" === r.type) {\n              var o = r.arg;\n              x(n);\n            }\n\n            return o;\n          }\n        }\n\n        throw new Error(\"illegal catch attempt\");\n      },\n      delegateYield: function delegateYield(t, e, n) {\n        return this.delegate = {\n          iterator: I(t),\n          resultName: e,\n          nextLoc: n\n        }, \"next\" === this.method && (this.arg = void 0), s;\n      }\n    }, t;\n  }(t.exports);\n\n  try {\n    regeneratorRuntime = e;\n  } catch (t) {\n    \"object\" == typeof globalThis ? globalThis.regeneratorRuntime = e : Function(\"r\", \"regeneratorRuntime = r\")(e);\n  }\n}(R = {\n  exports: {}\n}), R.exports);\n(k = exports.Protocol || (exports.Protocol = {})).V2 = \"V2\", k.V3 = \"V3\";\n\nvar _ = function (t) {\n  function e(e) {\n    var n;\n    return (n = t.call(this, e.pairs, e.input, e.output) || this).protocol = exports.Protocol.V2, n.pools = n.pairs, n;\n  }\n\n  return g(e, t), e;\n}(d.Route),\n    O = function (t) {\n  function e(e) {\n    var n;\n    return (n = t.call(this, e.pools, e.input, e.output) || this).protocol = exports.Protocol.V3, n.path = e.tokenPath, n;\n  }\n\n  return g(e, t), e;\n}(i.Route),\n    F = function () {\n  function t(t) {\n    var e = t.v2Routes,\n        n = t.v3Routes,\n        r = t.tradeType;\n    this.swaps = [], this.routes = [];\n\n    for (var u, a = P(e); !(u = a()).done;) {\n      var c = u.value,\n          p = c.inputAmount,\n          s = c.outputAmount,\n          l = new _(c.routev2);\n      this.routes.push(l), this.swaps.push({\n        route: l,\n        inputAmount: p,\n        outputAmount: s\n      });\n    }\n\n    for (var m, f = P(n); !(m = f()).done;) {\n      var h = m.value,\n          v = h.inputAmount,\n          y = h.outputAmount,\n          A = new O(h.routev3);\n      this.routes.push(A), this.swaps.push({\n        route: A,\n        inputAmount: v,\n        outputAmount: y\n      });\n    }\n\n    this.tradeType = r;\n    var T = this.swaps[0].inputAmount.currency,\n        w = this.swaps[0].outputAmount.currency;\n    this.swaps.every(function (t) {\n      return T.wrapped.equals(t.route.input.wrapped);\n    }) || o(!1), this.swaps.every(function (t) {\n      return w.wrapped.equals(t.route.output.wrapped);\n    }) || o(!1);\n\n    for (var E, x = this.swaps.map(function (t) {\n      return t.route.pools.length;\n    }).reduce(function (t, e) {\n      return t + e;\n    }, 0), g = new Set(), I = P(this.swaps); !(E = I()).done;) {\n      for (var k, R = E.value.route, N = P(R.pools); !(k = N()).done;) {\n        var F = k.value;\n        R.protocol == exports.Protocol.V3 ? g.add(i.Pool.getAddress(F.token0, F.token1, F.fee)) : g.add(d.Pair.getAddress(F.token0, F.token1));\n      }\n    }\n\n    x != g.size && o(!1);\n  }\n\n  var e,\n      n = t.prototype;\n  return n.minimumAmountOut = function (t, e) {\n    if (void 0 === e && (e = this.outputAmount), t.lessThan(f) && o(!1), this.tradeType === c.TradeType.EXACT_OUTPUT) return e;\n    var n = new c.Fraction(h).add(t).invert().multiply(e.quotient).quotient;\n    return c.CurrencyAmount.fromRawAmount(e.currency, n);\n  }, n.maximumAmountIn = function (t, e) {\n    if (void 0 === e && (e = this.inputAmount), t.lessThan(f) && o(!1), this.tradeType === c.TradeType.EXACT_INPUT) return e;\n    var n = new c.Fraction(h).add(t).multiply(e.quotient).quotient;\n    return c.CurrencyAmount.fromRawAmount(e.currency, n);\n  }, n.worstExecutionPrice = function (t) {\n    return new c.Price(this.inputAmount.currency, this.outputAmount.currency, this.maximumAmountIn(t).quotient, this.minimumAmountOut(t).quotient);\n  }, t.fromRoutes = function () {\n    var e = x(N.mark(function e(n, r, o) {\n      var u, a, c, p, s, l, m, f, h, v, y, A, T;\n      return N.wrap(function (e) {\n        for (;;) {\n          switch (e.prev = e.next) {\n            case 0:\n              for (u = [], a = [], c = P(n); !(p = c()).done;) {\n                m = new d.Trade(l = (s = p.value).routev2, s.amount, o), u.push({\n                  routev2: l,\n                  inputAmount: m.inputAmount,\n                  outputAmount: m.outputAmount\n                });\n              }\n\n              f = P(r);\n\n            case 4:\n              if ((h = f()).done) {\n                e.next = 13;\n                break;\n              }\n\n              return y = (v = h.value).routev3, A = v.amount, e.next = 8, i.Trade.fromRoute(y, A, o);\n\n            case 8:\n              a.push({\n                routev3: y,\n                inputAmount: (T = e.sent).inputAmount,\n                outputAmount: T.outputAmount\n              });\n\n            case 11:\n              e.next = 4;\n              break;\n\n            case 13:\n              return e.abrupt(\"return\", new t({\n                v2Routes: u,\n                v3Routes: a,\n                tradeType: o\n              }));\n\n            case 14:\n            case \"end\":\n              return e.stop();\n          }\n        }\n      }, e);\n    }));\n    return function (t, n, r) {\n      return e.apply(this, arguments);\n    };\n  }(), t.fromRoute = function () {\n    var e = x(N.mark(function e(n, r, o) {\n      var u, a, c, p;\n      return N.wrap(function (e) {\n        for (;;) {\n          switch (e.prev = e.next) {\n            case 0:\n              if (!(n instanceof d.Route)) {\n                e.next = 7;\n                break;\n              }\n\n              c = new d.Trade(n, r, o), u = [{\n                routev2: n,\n                inputAmount: c.inputAmount,\n                outputAmount: c.outputAmount\n              }], a = [], e.next = 13;\n              break;\n\n            case 7:\n              return e.next = 9, i.Trade.fromRoute(n, r, o);\n\n            case 9:\n              a = [{\n                routev3: n,\n                inputAmount: (p = e.sent).inputAmount,\n                outputAmount: p.outputAmount\n              }], u = [];\n\n            case 13:\n              return e.abrupt(\"return\", new t({\n                v2Routes: u,\n                v3Routes: a,\n                tradeType: o\n              }));\n\n            case 14:\n            case \"end\":\n              return e.stop();\n          }\n        }\n      }, e);\n    }));\n    return function (t, n, r) {\n      return e.apply(this, arguments);\n    };\n  }(), (e = [{\n    key: \"inputAmount\",\n    get: function get() {\n      if (this._inputAmount) return this._inputAmount;\n      var t = this.swaps[0].inputAmount.currency,\n          e = this.swaps.map(function (t) {\n        return t.inputAmount;\n      }).reduce(function (t, e) {\n        return t.add(e);\n      }, c.CurrencyAmount.fromRawAmount(t, 0));\n      return this._inputAmount = e, this._inputAmount;\n    }\n  }, {\n    key: \"outputAmount\",\n    get: function get() {\n      if (this._outputAmount) return this._outputAmount;\n      var t = this.swaps[0].outputAmount.currency,\n          e = this.swaps.map(function (t) {\n        return t.outputAmount;\n      }).reduce(function (t, e) {\n        return t.add(e);\n      }, c.CurrencyAmount.fromRawAmount(t, 0));\n      return this._outputAmount = e, this._outputAmount;\n    }\n  }, {\n    key: \"executionPrice\",\n    get: function get() {\n      var t;\n      return null != (t = this._executionPrice) ? t : this._executionPrice = new c.Price(this.inputAmount.currency, this.outputAmount.currency, this.inputAmount.quotient, this.outputAmount.quotient);\n    }\n  }, {\n    key: \"priceImpact\",\n    get: function get() {\n      if (this._priceImpact) return this._priceImpact;\n\n      for (var t, e = c.CurrencyAmount.fromRawAmount(this.outputAmount.currency, 0), n = P(this.swaps); !(t = n()).done;) {\n        var r = t.value;\n        e = e.add(r.route.midPrice.quote(r.inputAmount));\n      }\n\n      var o = e.subtract(this.outputAmount).divide(e);\n      return this._priceImpact = new c.Percent(o.numerator, o.denominator), this._priceImpact;\n    }\n  }]) && function (t, e) {\n    for (var n = 0; n < e.length; n++) {\n      var r = e[n];\n      r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(t, r.key, r);\n    }\n  }(t.prototype, e), t;\n}(),\n    b = n.BigInt(0),\n    M = function () {\n  function t() {}\n\n  return t.encodeV2Swap = function (e, n, r, o) {\n    var u = i.toHex(e.maximumAmountIn(n.slippageTolerance).quotient),\n        a = i.toHex(e.minimumAmountOut(n.slippageTolerance).quotient),\n        p = e.route.path.map(function (t) {\n      return t.address;\n    }),\n        s = r ? m : void 0 === n.recipient ? l : c.validateAndParseAddress(n.recipient);\n    return e.tradeType === c.TradeType.EXACT_INPUT ? t.INTERFACE.encodeFunctionData(\"swapExactTokensForTokens\", [u, o ? 0 : a, p, s]) : t.INTERFACE.encodeFunctionData(\"swapTokensForExactTokens\", [a, u, p, s]);\n  }, t.encodeV3Swap = function (e, n, r, o) {\n    for (var u, a = [], p = P(e.swaps); !(u = p()).done;) {\n      var s = u.value,\n          d = s.route,\n          f = s.outputAmount,\n          h = i.toHex(e.maximumAmountIn(n.slippageTolerance, s.inputAmount).quotient),\n          v = i.toHex(e.minimumAmountOut(n.slippageTolerance, f).quotient),\n          y = 1 === d.pools.length,\n          A = r ? m : void 0 === n.recipient ? l : c.validateAndParseAddress(n.recipient);\n      if (y) a.push(e.tradeType === c.TradeType.EXACT_INPUT ? t.INTERFACE.encodeFunctionData(\"exactInputSingle\", [{\n        tokenIn: d.tokenPath[0].address,\n        tokenOut: d.tokenPath[1].address,\n        fee: d.pools[0].fee,\n        recipient: A,\n        amountIn: h,\n        amountOutMinimum: o ? 0 : v,\n        sqrtPriceLimitX96: 0\n      }]) : t.INTERFACE.encodeFunctionData(\"exactOutputSingle\", [{\n        tokenIn: d.tokenPath[0].address,\n        tokenOut: d.tokenPath[1].address,\n        fee: d.pools[0].fee,\n        recipient: A,\n        amountOut: v,\n        amountInMaximum: h,\n        sqrtPriceLimitX96: 0\n      }]));else {\n        var T = i.encodeRouteToPath(d, e.tradeType === c.TradeType.EXACT_OUTPUT);\n        a.push(e.tradeType === c.TradeType.EXACT_INPUT ? t.INTERFACE.encodeFunctionData(\"exactInput\", [{\n          path: T,\n          recipient: A,\n          amountIn: h,\n          amountOutMinimum: o ? 0 : v\n        }]) : t.INTERFACE.encodeFunctionData(\"exactOutput\", [{\n          path: T,\n          recipient: A,\n          amountOut: v,\n          amountInMaximum: h\n        }]));\n      }\n    }\n\n    return a;\n  }, t.encodeSwaps = function (e, n, r) {\n    if (e instanceof F) {\n      e.swaps.every(function (t) {\n        return t.route.protocol == exports.Protocol.V3 || t.route.protocol == exports.Protocol.V2;\n      }) || o(!1);\n\n      for (var u, a = [], p = P(e.swaps); !(u = p()).done;) {\n        var s = u.value,\n            l = s.route,\n            m = s.inputAmount,\n            f = s.outputAmount;\n        l.protocol == exports.Protocol.V2 ? a.push(new d.Trade(l, e.tradeType == c.TradeType.EXACT_INPUT ? m : f, e.tradeType)) : l.protocol == exports.Protocol.V3 && a.push(i.Trade.createUncheckedTrade({\n          route: l,\n          inputAmount: m,\n          outputAmount: f,\n          tradeType: e.tradeType\n        }));\n      }\n\n      e = a;\n    }\n\n    Array.isArray(e) || (e = [e]);\n    var h = e.reduce(function (t, e) {\n      return t + (e instanceof i.Trade ? e.swaps.length : 1);\n    }, 0),\n        v = e[0];\n    e.every(function (t) {\n      return t.inputAmount.currency.equals(v.inputAmount.currency);\n    }) || o(!1), e.every(function (t) {\n      return t.outputAmount.currency.equals(v.outputAmount.currency);\n    }) || o(!1), e.every(function (t) {\n      return t.tradeType === v.tradeType;\n    }) || o(!1);\n    var y = [],\n        A = v.inputAmount.currency.isNative,\n        T = v.outputAmount.currency.isNative,\n        w = v.tradeType === c.TradeType.EXACT_INPUT && h > 2,\n        E = T || !!n.fee || !!r || w;\n    n.inputTokenPermit && (v.inputAmount.currency.isToken || o(!1), y.push(i.SelfPermit.encodePermit(v.inputAmount.currency, n.inputTokenPermit)));\n\n    for (var x, g = P(e); !(x = g()).done;) {\n      var I = x.value;\n      if (I instanceof d.Trade) y.push(t.encodeV2Swap(I, n, E, w));else for (var k, R = P(t.encodeV3Swap(I, n, E, w)); !(k = R()).done;) {\n        y.push(k.value);\n      }\n    }\n\n    var N = c.CurrencyAmount.fromRawAmount(v.inputAmount.currency, 0),\n        _ = c.CurrencyAmount.fromRawAmount(v.outputAmount.currency, 0),\n        O = e.reduce(function (t, e) {\n      return t.add(e.minimumAmountOut(n.slippageTolerance));\n    }, _),\n        b = e.reduce(function (t, e) {\n      return t.add(e.outputAmount);\n    }, _),\n        M = e.reduce(function (t, e) {\n      return t.add(e.maximumAmountIn(n.slippageTolerance));\n    }, N);\n\n    return {\n      calldatas: y,\n      sampleTrade: v,\n      routerMustCustody: E,\n      inputIsNative: A,\n      outputIsNative: T,\n      totalAmountIn: M,\n      minimumAmountOut: O,\n      quoteAmountOut: b\n    };\n  }, t.swapCallParameters = function (e, n) {\n    var r = t.encodeSwaps(e, n),\n        o = r.calldatas,\n        u = r.sampleTrade,\n        a = r.inputIsNative,\n        p = r.totalAmountIn,\n        s = r.minimumAmountOut;\n    return r.routerMustCustody && o.push(r.outputIsNative ? w.encodeUnwrapWETH9(s.quotient, n.recipient, n.fee) : w.encodeSweepToken(u.outputAmount.currency.wrapped, s.quotient, n.recipient, n.fee)), a && u.tradeType === c.TradeType.EXACT_OUTPUT && o.push(i.Payments.encodeRefundETH()), {\n      calldata: A.encodeMulticall(o, n.deadlineOrPreviousBlockhash),\n      value: i.toHex(a ? p.quotient : b)\n    };\n  }, t.swapAndAddCallParameters = function (e, n, r, u, a, p) {\n    var s = t.encodeSwaps(e, n, !0),\n        d = s.calldatas,\n        l = s.inputIsNative,\n        m = s.outputIsNative,\n        f = s.sampleTrade,\n        h = s.totalAmountIn,\n        v = s.quoteAmountOut,\n        T = s.minimumAmountOut;\n    n.outputTokenPermit && (v.currency.isToken || o(!1), d.push(i.SelfPermit.encodePermit(v.currency, n.outputTokenPermit)));\n    var E = f.route.chainId,\n        x = r.pool.token0 === h.currency.wrapped,\n        g = t.getPositionAmounts(r, x),\n        I = g.positionAmountIn,\n        P = g.positionAmountOut,\n        k = l ? c.WETH9[E] : I.currency.wrapped,\n        R = m ? c.WETH9[E] : P.currency.wrapped,\n        N = P.subtract(v.wrapped);\n    N.greaterThan(c.CurrencyAmount.fromRawAmount(P.currency, 0)) && d.push(m ? w.encodeWrapETH(N.quotient) : w.encodePull(R, N.quotient)), d.push(l ? w.encodeWrapETH(I.quotient) : w.encodePull(k, I.quotient)), a !== exports.ApprovalTypes.NOT_REQUIRED && d.push(y.encodeApprove(k, a)), p !== exports.ApprovalTypes.NOT_REQUIRED && d.push(y.encodeApprove(R, p));\n\n    var _,\n        O = i.Position.fromAmounts({\n      pool: r.pool,\n      tickLower: r.tickLower,\n      tickUpper: r.tickUpper,\n      amount0: x ? r.amount0.quotient.toString() : T.quotient.toString(),\n      amount1: x ? T.quotient.toString() : r.amount1.quotient.toString(),\n      useFullPrecision: !1\n    });\n\n    return d.push(y.encodeAddLiquidity(r, O, u, n.slippageTolerance)), d.push(l ? w.encodeUnwrapWETH9(b) : w.encodeSweepToken(k, b)), d.push(m ? w.encodeUnwrapWETH9(b) : w.encodeSweepToken(R, b)), _ = l ? h.wrapped.add(I.wrapped).quotient : m ? N.quotient : b, {\n      calldata: A.encodeMulticall(d, n.deadlineOrPreviousBlockhash),\n      value: _.toString()\n    };\n  }, t.getPositionAmounts = function (t, e) {\n    var n = t.mintAmounts,\n        r = n.amount1,\n        o = c.CurrencyAmount.fromRawAmount(t.pool.token0, n.amount0),\n        u = c.CurrencyAmount.fromRawAmount(t.pool.token1, r),\n        i = e ? [o, u] : [u, o];\n    return {\n      positionAmountIn: i[0],\n      positionAmountOut: i[1]\n    };\n  }, t;\n}();\n\nM.INTERFACE = new r.Interface(s.abi), exports.ADDRESS_THIS = m, exports.ApproveAndCall = y, exports.MSG_SENDER = l, exports.MulticallExtended = A, exports.ONE = h, exports.PaymentsExtended = w, exports.RouteV2 = _, exports.RouteV3 = O, exports.SwapRouter = M, exports.Trade = F, exports.ZERO = f, exports.isMint = v;","map":{"version":3,"sources":["../src/approveAndCall.ts","../src/constants.ts","../src/multicallExtended.ts","../src/paymentsExtended.ts","../src/entities/protocol.ts","../node_modules/regenerator-runtime/runtime.js","../src/entities/route.ts","../src/entities/trade.ts","../src/swapRouter.ts"],"names":["ApprovalTypes","isMint","options","Object","keys","some","k","ApproveAndCall","Interface","abi","encodeApproveMax","token","INTERFACE","encodeFunctionData","address","encodeApproveMaxMinusOne","encodeApproveZeroThenMax","encodeApproveZeroThenMaxMinusOne","encodeCallPositionManager","calldatas","invariant","length","encodedMulticall","NonfungiblePositionManager","encodeAddLiquidity","position","minimalPosition","addLiquidityOptions","slippageTolerance","amount0","amount0Min","amount1","amount1Min","mintAmountsWithSlippage","JSBI","lessThan","quotient","token0","pool","token1","fee","tickLower","tickUpper","toHex","recipient","tokenId","encodeApprove","approvalType","MAX","wrapped","MAX_MINUS_ONE","ZERO_THEN_MAX","ZERO_THEN_MAX_MINUS_ONE","MSG_SENDER","ADDRESS_THIS","ZERO","BigInt","ONE","bytes32","match","Error","toLowerCase","MulticallExtended","encodeMulticall","validation","Multicall","Array","isArray","startsWith","previousBlockhash","validateAndParseBytes32","deadline","encodeFeeBips","multiply","PaymentsExtended","encodeUnwrapWETH9","amountMinimum","feeOptions","Payments","feeBips","feeRecipient","validateAndParseAddress","encodeSweepToken","encodePull","amount","encodeWrapETH","Protocol","runtime","exports","Op","prototype","hasOwn","hasOwnProperty","undefined","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","obj","key","value","defineProperty","enumerable","configurable","writable","err","wrap","innerFn","outerFn","self","tryLocsList","Generator","generator","create","context","Context","_invoke","makeInvokeMethod","tryCatch","fn","arg","type","call","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","this","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","displayName","defineIteratorMethods","forEach","method","isGeneratorFunction","genFun","ctor","constructor","name","mark","setPrototypeOf","__proto__","awrap","__await","AsyncIterator","PromiseImpl","invoke","resolve","reject","record","result","then","unwrapped","error","previousPromise","callInvokeWithMethodAndArg","async","Promise","iter","next","done","state","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","TypeError","info","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","object","reverse","pop","iterable","iteratorMethod","isNaN","i","doneResult","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","catch","thrown","delegateYield","module","regeneratorRuntime","accidentalStrictMode","globalThis","Function","RouteV2","V2RouteSDK","V2","v2Route","pairs","input","output","pools","_this","RouteV3","V3RouteSDK","V3","v3Route","path","tokenPath","Trade","v2Routes","v3Routes","tradeType","swaps","routes","routev2","inputAmount","outputAmount","route","routev3","inputCurrency","currency","outputCurrency","every","equals","numPools","map","reduce","total","cur","poolAddressSet","Set","protocol","add","Pool","getAddress","Pair","size","_inputAmount","totalInputFromRoutes","CurrencyAmount","fromRawAmount","_outputAmount","totalOutputFromRoutes","_executionPrice","Price","_priceImpact","spotOutputAmount","midPrice","quote","priceImpact","subtract","divide","Percent","numerator","denominator","minimumAmountOut","amountOut","TradeType","EXACT_OUTPUT","slippageAdjustedAmountOut","Fraction","invert","maximumAmountIn","amountIn","EXACT_INPUT","slippageAdjustedAmountIn","worstExecutionPrice","fromRoutes","populatedV2Routes","populatedV3Routes","v2Trade","V2TradeSDK","v3Trade","V3TradeSDK","fromRoute","SwapRouter","encodeV2Swap","trade","routerMustCustody","performAggregatedSlippageCheck","encodeV3Swap","singleHop","tokenIn","tokenOut","amountOutMinimum","sqrtPriceLimitX96","amountInMaximum","encodeRouteToPath","encodeSwaps","trades","isSwapAndAdd","swap","v2Andv3Trades","V2Trade","V3Trade","createUncheckedTrade","numberOfTrades","sampleTrade","inputIsNative","isNative","outputIsNative","inputTokenPermit","isToken","SelfPermit","encodePermit","ZERO_IN","ZERO_OUT","sum","quoteAmountOut","totalAmountIn","swapCallParameters","encodeRefundETH","calldata","deadlineOrPreviousBlockhash","swapAndAddCallParameters","tokenInApprovalType","tokenOutApprovalType","totalAmountSwapped","outputTokenPermit","chainId","zeroForOne","positionAmountIn","positionAmountOut","getPositionAmounts","WETH9","amountOutRemaining","greaterThan","NOT_REQUIRED","Position","fromAmounts","toString","useFullPrecision","mintAmounts","currencyAmount0","currencyAmount1"],"mappings":"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","sourcesContent":["import { Interface } from '@ethersproject/abi'\nimport invariant from 'tiny-invariant'\nimport { abi } from '@uniswap/swap-router-contracts/artifacts/contracts/interfaces/IApproveAndCall.sol/IApproveAndCall.json'\nimport { Currency, Percent, Token } from '@uniswap/sdk-core'\nimport {\n  MintSpecificOptions,\n  IncreaseSpecificOptions,\n  NonfungiblePositionManager,\n  Position,\n  toHex,\n} from '@uniswap/v3-sdk'\nimport JSBI from 'jsbi'\n\n// condensed version of v3-sdk AddLiquidityOptions containing only necessary swap + add attributes\nexport type CondensedAddLiquidityOptions = Omit<MintSpecificOptions, 'createPool'> | IncreaseSpecificOptions\n\nexport enum ApprovalTypes {\n  NOT_REQUIRED = 0,\n  MAX = 1,\n  MAX_MINUS_ONE = 2,\n  ZERO_THEN_MAX = 3,\n  ZERO_THEN_MAX_MINUS_ONE = 4,\n}\n\n// type guard\nexport function isMint(options: CondensedAddLiquidityOptions): options is Omit<MintSpecificOptions, 'createPool'> {\n  return Object.keys(options).some((k) => k === 'recipient')\n}\n\nexport abstract class ApproveAndCall {\n  public static INTERFACE: Interface = new Interface(abi)\n\n  /**\n   * Cannot be constructed.\n   */\n  private constructor() {}\n\n  public static encodeApproveMax(token: Token): string {\n    return ApproveAndCall.INTERFACE.encodeFunctionData('approveMax', [token.address])\n  }\n\n  public static encodeApproveMaxMinusOne(token: Token): string {\n    return ApproveAndCall.INTERFACE.encodeFunctionData('approveMaxMinusOne', [token.address])\n  }\n\n  public static encodeApproveZeroThenMax(token: Token): string {\n    return ApproveAndCall.INTERFACE.encodeFunctionData('approveZeroThenMax', [token.address])\n  }\n\n  public static encodeApproveZeroThenMaxMinusOne(token: Token): string {\n    return ApproveAndCall.INTERFACE.encodeFunctionData('approveZeroThenMaxMinusOne', [token.address])\n  }\n\n  public static encodeCallPositionManager(calldatas: string[]): string {\n    invariant(calldatas.length > 0, 'NULL_CALLDATA')\n\n    if (calldatas.length == 1) {\n      return ApproveAndCall.INTERFACE.encodeFunctionData('callPositionManager', calldatas)\n    } else {\n      const encodedMulticall = NonfungiblePositionManager.INTERFACE.encodeFunctionData('multicall', [calldatas])\n      return ApproveAndCall.INTERFACE.encodeFunctionData('callPositionManager', [encodedMulticall])\n    }\n  }\n  /**\n   * Encode adding liquidity to a position in the nft manager contract\n   * @param position Forcasted position with expected amount out from swap\n   * @param minimalPosition Forcasted position with custom minimal token amounts\n   * @param addLiquidityOptions Options for adding liquidity\n   * @param slippageTolerance Defines maximum slippage\n   */\n  public static encodeAddLiquidity(\n    position: Position,\n    minimalPosition: Position,\n    addLiquidityOptions: CondensedAddLiquidityOptions,\n    slippageTolerance: Percent\n  ): string {\n    let { amount0: amount0Min, amount1: amount1Min } = position.mintAmountsWithSlippage(slippageTolerance)\n\n    // position.mintAmountsWithSlippage() can create amounts not dependenable in scenarios\n    // such as range orders. Allow the option to provide a position with custom minimum amounts\n    // for these scenarios\n    if (JSBI.lessThan(minimalPosition.amount0.quotient, amount0Min)) {\n      amount0Min = minimalPosition.amount0.quotient\n    }\n    if (JSBI.lessThan(minimalPosition.amount1.quotient, amount1Min)) {\n      amount1Min = minimalPosition.amount1.quotient\n    }\n\n    if (isMint(addLiquidityOptions)) {\n      return ApproveAndCall.INTERFACE.encodeFunctionData('mint', [\n        {\n          token0: position.pool.token0.address,\n          token1: position.pool.token1.address,\n          fee: position.pool.fee,\n          tickLower: position.tickLower,\n          tickUpper: position.tickUpper,\n          amount0Min: toHex(amount0Min),\n          amount1Min: toHex(amount1Min),\n          recipient: addLiquidityOptions.recipient,\n        },\n      ])\n    } else {\n      return ApproveAndCall.INTERFACE.encodeFunctionData('increaseLiquidity', [\n        {\n          token0: position.pool.token0.address,\n          token1: position.pool.token1.address,\n          amount0Min: toHex(amount0Min),\n          amount1Min: toHex(amount1Min),\n          tokenId: toHex(addLiquidityOptions.tokenId),\n        },\n      ])\n    }\n  }\n\n  public static encodeApprove(token: Currency, approvalType: ApprovalTypes): string {\n    switch (approvalType) {\n      case ApprovalTypes.MAX:\n        return ApproveAndCall.encodeApproveMax(token.wrapped)\n      case ApprovalTypes.MAX_MINUS_ONE:\n        return ApproveAndCall.encodeApproveMaxMinusOne(token.wrapped)\n      case ApprovalTypes.ZERO_THEN_MAX:\n        return ApproveAndCall.encodeApproveZeroThenMax(token.wrapped)\n      case ApprovalTypes.ZERO_THEN_MAX_MINUS_ONE:\n        return ApproveAndCall.encodeApproveZeroThenMaxMinusOne(token.wrapped)\n      default:\n        throw 'Error: invalid ApprovalType'\n    }\n  }\n}\n","import JSBI from 'jsbi'\n\nexport const MSG_SENDER = '0x0000000000000000000000000000000000000001'\nexport const ADDRESS_THIS = '0x0000000000000000000000000000000000000002'\n\nexport const ZERO = JSBI.BigInt(0)\nexport const ONE = JSBI.BigInt(1)\n","import { Interface } from '@ethersproject/abi'\nimport { BigintIsh } from '@uniswap/sdk-core'\nimport { abi } from '@uniswap/swap-router-contracts/artifacts/contracts/interfaces/IMulticallExtended.sol/IMulticallExtended.json'\nimport { Multicall, toHex } from '@uniswap/v3-sdk'\n\n// deadline or previousBlockhash\nexport type Validation = BigintIsh | string\n\nfunction validateAndParseBytes32(bytes32: string): string {\n  if (!bytes32.match(/^0x[0-9a-fA-F]{64}$/)) {\n    throw new Error(`${bytes32} is not valid bytes32.`)\n  }\n\n  return bytes32.toLowerCase()\n}\n\nexport abstract class MulticallExtended {\n  public static INTERFACE: Interface = new Interface(abi)\n\n  /**\n   * Cannot be constructed.\n   */\n  private constructor() {}\n\n  public static encodeMulticall(calldatas: string | string[], validation?: Validation): string {\n    // if there's no validation, we can just fall back to regular multicall\n    if (typeof validation === 'undefined') {\n      return Multicall.encodeMulticall(calldatas)\n    }\n\n    // if there is validation, we have to normalize calldatas\n    if (!Array.isArray(calldatas)) {\n      calldatas = [calldatas]\n    }\n\n    // this means the validation value should be a previousBlockhash\n    if (typeof validation === 'string' && validation.startsWith('0x')) {\n      const previousBlockhash = validateAndParseBytes32(validation)\n      return MulticallExtended.INTERFACE.encodeFunctionData('multicall(bytes32,bytes[])', [\n        previousBlockhash,\n        calldatas,\n      ])\n    } else {\n      const deadline = toHex(validation)\n      return MulticallExtended.INTERFACE.encodeFunctionData('multicall(uint256,bytes[])', [deadline, calldatas])\n    }\n  }\n}\n","import { Interface } from '@ethersproject/abi'\nimport { Percent, Token, validateAndParseAddress } from '@uniswap/sdk-core'\nimport { abi } from '@uniswap/swap-router-contracts/artifacts/contracts/interfaces/IPeripheryPaymentsWithFeeExtended.sol/IPeripheryPaymentsWithFeeExtended.json'\nimport { FeeOptions, Payments, toHex } from '@uniswap/v3-sdk'\nimport JSBI from 'jsbi'\n\nfunction encodeFeeBips(fee: Percent): string {\n  return toHex(fee.multiply(10_000).quotient)\n}\n\nexport abstract class PaymentsExtended {\n  public static INTERFACE: Interface = new Interface(abi)\n\n  /**\n   * Cannot be constructed.\n   */\n  private constructor() {}\n\n  public static encodeUnwrapWETH9(amountMinimum: JSBI, recipient?: string, feeOptions?: FeeOptions): string {\n    // if there's a recipient, just pass it along\n    if (typeof recipient === 'string') {\n      return Payments.encodeUnwrapWETH9(amountMinimum, recipient, feeOptions)\n    }\n\n    if (!!feeOptions) {\n      const feeBips = encodeFeeBips(feeOptions.fee)\n      const feeRecipient = validateAndParseAddress(feeOptions.recipient)\n\n      return PaymentsExtended.INTERFACE.encodeFunctionData('unwrapWETH9WithFee(uint256,uint256,address)', [\n        toHex(amountMinimum),\n        feeBips,\n        feeRecipient,\n      ])\n    } else {\n      return PaymentsExtended.INTERFACE.encodeFunctionData('unwrapWETH9(uint256)', [toHex(amountMinimum)])\n    }\n  }\n\n  public static encodeSweepToken(\n    token: Token,\n    amountMinimum: JSBI,\n    recipient?: string,\n    feeOptions?: FeeOptions\n  ): string {\n    // if there's a recipient, just pass it along\n    if (typeof recipient === 'string') {\n      return Payments.encodeSweepToken(token, amountMinimum, recipient, feeOptions)\n    }\n\n    if (!!feeOptions) {\n      const feeBips = encodeFeeBips(feeOptions.fee)\n      const feeRecipient = validateAndParseAddress(feeOptions.recipient)\n\n      return PaymentsExtended.INTERFACE.encodeFunctionData('sweepTokenWithFee(address,uint256,uint256,address)', [\n        token.address,\n        toHex(amountMinimum),\n        feeBips,\n        feeRecipient,\n      ])\n    } else {\n      return PaymentsExtended.INTERFACE.encodeFunctionData('sweepToken(address,uint256)', [\n        token.address,\n        toHex(amountMinimum),\n      ])\n    }\n  }\n\n  public static encodePull(token: Token, amount: JSBI): string {\n    return PaymentsExtended.INTERFACE.encodeFunctionData('pull', [token.address, toHex(amount)])\n  }\n\n  public static encodeWrapETH(amount: JSBI): string {\n    return PaymentsExtended.INTERFACE.encodeFunctionData('wrapETH', [toHex(amount)])\n  }\n}\n","export enum Protocol {\n  V2 = 'V2',\n  V3 = 'V3',\n}\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = GeneratorFunctionPrototype;\n  define(Gp, \"constructor\", GeneratorFunctionPrototype);\n  define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction);\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  });\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  define(Gp, iteratorSymbol, function() {\n    return this;\n  });\n\n  define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  });\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, in modern engines\n  // we can explicitly access globalThis. In older engines we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","import { Route as V2RouteSDK, Pair } from '@uniswap/v2-sdk'\nimport { Route as V3RouteSDK, Pool } from '@uniswap/v3-sdk'\nimport { Protocol } from './protocol'\nimport { Currency, Price, Token } from '@uniswap/sdk-core'\n\nexport interface IRoute<TInput extends Currency, TOutput extends Currency, TPool extends Pool | Pair> {\n  protocol: Protocol\n  // array of pools if v3 or pairs if v2\n  pools: TPool[]\n  path: Token[]\n  midPrice: Price<TInput, TOutput>\n  input: TInput\n  output: TOutput\n}\n\n// V2 route wrapper\nexport class RouteV2<TInput extends Currency, TOutput extends Currency>\n  extends V2RouteSDK<TInput, TOutput>\n  implements IRoute<TInput, TOutput, Pair>\n{\n  public readonly protocol: Protocol = Protocol.V2\n  public readonly pools: Pair[]\n\n  constructor(v2Route: V2RouteSDK<TInput, TOutput>) {\n    super(v2Route.pairs, v2Route.input, v2Route.output)\n    this.pools = this.pairs\n  }\n}\n\n// V3 route wrapper\nexport class RouteV3<TInput extends Currency, TOutput extends Currency>\n  extends V3RouteSDK<TInput, TOutput>\n  implements IRoute<TInput, TOutput, Pool>\n{\n  public readonly protocol: Protocol = Protocol.V3\n  public readonly path: Token[]\n\n  constructor(v3Route: V3RouteSDK<TInput, TOutput>) {\n    super(v3Route.pools, v3Route.input, v3Route.output)\n    this.path = v3Route.tokenPath\n  }\n}\n","import { Currency, CurrencyAmount, Fraction, Percent, Price, TradeType } from '@uniswap/sdk-core'\nimport { Pair, Route as V2RouteSDK, Trade as V2TradeSDK } from '@uniswap/v2-sdk'\nimport { Pool, Route as V3RouteSDK, Trade as V3TradeSDK } from '@uniswap/v3-sdk'\nimport invariant from 'tiny-invariant'\nimport { ONE, ZERO } from '../constants'\nimport { Protocol } from './protocol'\nimport { IRoute, RouteV2, RouteV3 } from './route'\n\nexport class Trade<TInput extends Currency, TOutput extends Currency, TTradeType extends TradeType> {\n  public readonly routes: IRoute<TInput, TOutput, Pair | Pool>[]\n  public readonly tradeType: TTradeType\n  private _outputAmount: CurrencyAmount<TOutput> | undefined\n  private _inputAmount: CurrencyAmount<TInput> | undefined\n\n  /**\n   * The swaps of the trade, i.e. which routes and how much is swapped in each that\n   * make up the trade. May consist of swaps in v2 or v3.\n   */\n  public readonly swaps: {\n    route: IRoute<TInput, TOutput, Pair | Pool>\n    inputAmount: CurrencyAmount<TInput>\n    outputAmount: CurrencyAmount<TOutput>\n  }[]\n\n  //  construct a trade across v2 and v3 routes from pre-computed amounts\n  public constructor({\n    v2Routes,\n    v3Routes,\n    tradeType,\n  }: {\n    v2Routes: {\n      routev2: V2RouteSDK<TInput, TOutput>\n      inputAmount: CurrencyAmount<TInput>\n      outputAmount: CurrencyAmount<TOutput>\n    }[]\n    v3Routes: {\n      routev3: V3RouteSDK<TInput, TOutput>\n      inputAmount: CurrencyAmount<TInput>\n      outputAmount: CurrencyAmount<TOutput>\n    }[]\n    tradeType: TTradeType\n  }) {\n    this.swaps = []\n    this.routes = []\n    // wrap v2 routes\n    for (const { routev2, inputAmount, outputAmount } of v2Routes) {\n      const route = new RouteV2(routev2)\n      this.routes.push(route)\n      this.swaps.push({\n        route,\n        inputAmount,\n        outputAmount,\n      })\n    }\n    // wrap v3 routes\n    for (const { routev3, inputAmount, outputAmount } of v3Routes) {\n      const route = new RouteV3(routev3)\n      this.routes.push(route)\n      this.swaps.push({\n        route,\n        inputAmount,\n        outputAmount,\n      })\n    }\n    this.tradeType = tradeType\n\n    // each route must have the same input and output currency\n    const inputCurrency = this.swaps[0].inputAmount.currency\n    const outputCurrency = this.swaps[0].outputAmount.currency\n    invariant(\n      this.swaps.every(({ route }) => inputCurrency.wrapped.equals(route.input.wrapped)),\n      'INPUT_CURRENCY_MATCH'\n    )\n    invariant(\n      this.swaps.every(({ route }) => outputCurrency.wrapped.equals(route.output.wrapped)),\n      'OUTPUT_CURRENCY_MATCH'\n    )\n\n    // pools must be unique inter protocols\n    const numPools = this.swaps.map(({ route }) => route.pools.length).reduce((total, cur) => total + cur, 0)\n    const poolAddressSet = new Set<string>()\n    for (const { route } of this.swaps) {\n      for (const pool of route.pools) {\n        if (route.protocol == Protocol.V3) {\n          poolAddressSet.add(Pool.getAddress(pool.token0, pool.token1, (pool as Pool).fee))\n        } else {\n          const pair = pool\n          poolAddressSet.add(Pair.getAddress(pair.token0, pair.token1))\n        }\n      }\n    }\n    invariant(numPools == poolAddressSet.size, 'POOLS_DUPLICATED')\n  }\n\n  public get inputAmount(): CurrencyAmount<TInput> {\n    if (this._inputAmount) {\n      return this._inputAmount\n    }\n\n    const inputCurrency = this.swaps[0].inputAmount.currency\n    const totalInputFromRoutes = this.swaps\n      .map(({ inputAmount }) => inputAmount)\n      .reduce((total, cur) => total.add(cur), CurrencyAmount.fromRawAmount(inputCurrency, 0))\n\n    this._inputAmount = totalInputFromRoutes\n    return this._inputAmount\n  }\n\n  public get outputAmount(): CurrencyAmount<TOutput> {\n    if (this._outputAmount) {\n      return this._outputAmount\n    }\n\n    const outputCurrency = this.swaps[0].outputAmount.currency\n    const totalOutputFromRoutes = this.swaps\n      .map(({ outputAmount }) => outputAmount)\n      .reduce((total, cur) => total.add(cur), CurrencyAmount.fromRawAmount(outputCurrency, 0))\n\n    this._outputAmount = totalOutputFromRoutes\n    return this._outputAmount\n  }\n\n  private _executionPrice: Price<TInput, TOutput> | undefined\n\n  /**\n   * The price expressed in terms of output amount/input amount.\n   */\n  public get executionPrice(): Price<TInput, TOutput> {\n    return (\n      this._executionPrice ??\n      (this._executionPrice = new Price(\n        this.inputAmount.currency,\n        this.outputAmount.currency,\n        this.inputAmount.quotient,\n        this.outputAmount.quotient\n      ))\n    )\n  }\n\n  /**\n   * The cached result of the price impact computation\n   * @private\n   */\n  private _priceImpact: Percent | undefined\n  /**\n   * Returns the percent difference between the route's mid price and the price impact\n   */\n  public get priceImpact(): Percent {\n    if (this._priceImpact) {\n      return this._priceImpact\n    }\n\n    let spotOutputAmount = CurrencyAmount.fromRawAmount(this.outputAmount.currency, 0)\n    for (const { route, inputAmount } of this.swaps) {\n      const midPrice = route.midPrice\n      spotOutputAmount = spotOutputAmount.add(midPrice.quote(inputAmount))\n    }\n\n    const priceImpact = spotOutputAmount.subtract(this.outputAmount).divide(spotOutputAmount)\n    this._priceImpact = new Percent(priceImpact.numerator, priceImpact.denominator)\n\n    return this._priceImpact\n  }\n\n  /**\n   * Get the minimum amount that must be received from this trade for the given slippage tolerance\n   * @param slippageTolerance The tolerance of unfavorable slippage from the execution price of this trade\n   * @returns The amount out\n   */\n  public minimumAmountOut(slippageTolerance: Percent, amountOut = this.outputAmount): CurrencyAmount<TOutput> {\n    invariant(!slippageTolerance.lessThan(ZERO), 'SLIPPAGE_TOLERANCE')\n    if (this.tradeType === TradeType.EXACT_OUTPUT) {\n      return amountOut\n    } else {\n      const slippageAdjustedAmountOut = new Fraction(ONE)\n        .add(slippageTolerance)\n        .invert()\n        .multiply(amountOut.quotient).quotient\n      return CurrencyAmount.fromRawAmount(amountOut.currency, slippageAdjustedAmountOut)\n    }\n  }\n\n  /**\n   * Get the maximum amount in that can be spent via this trade for the given slippage tolerance\n   * @param slippageTolerance The tolerance of unfavorable slippage from the execution price of this trade\n   * @returns The amount in\n   */\n  public maximumAmountIn(slippageTolerance: Percent, amountIn = this.inputAmount): CurrencyAmount<TInput> {\n    invariant(!slippageTolerance.lessThan(ZERO), 'SLIPPAGE_TOLERANCE')\n    if (this.tradeType === TradeType.EXACT_INPUT) {\n      return amountIn\n    } else {\n      const slippageAdjustedAmountIn = new Fraction(ONE).add(slippageTolerance).multiply(amountIn.quotient).quotient\n      return CurrencyAmount.fromRawAmount(amountIn.currency, slippageAdjustedAmountIn)\n    }\n  }\n\n  /**\n   * Return the execution price after accounting for slippage tolerance\n   * @param slippageTolerance the allowed tolerated slippage\n   * @returns The execution price\n   */\n  public worstExecutionPrice(slippageTolerance: Percent): Price<TInput, TOutput> {\n    return new Price(\n      this.inputAmount.currency,\n      this.outputAmount.currency,\n      this.maximumAmountIn(slippageTolerance).quotient,\n      this.minimumAmountOut(slippageTolerance).quotient\n    )\n  }\n\n  public static async fromRoutes<TInput extends Currency, TOutput extends Currency, TTradeType extends TradeType>(\n    v2Routes: {\n      routev2: V2RouteSDK<TInput, TOutput>\n      amount: TTradeType extends TradeType.EXACT_INPUT ? CurrencyAmount<TInput> : CurrencyAmount<TOutput>\n    }[],\n    v3Routes: {\n      routev3: V3RouteSDK<TInput, TOutput>\n      amount: TTradeType extends TradeType.EXACT_INPUT ? CurrencyAmount<TInput> : CurrencyAmount<TOutput>\n    }[],\n    tradeType: TTradeType\n  ): Promise<Trade<TInput, TOutput, TTradeType>> {\n    const populatedV2Routes: {\n      routev2: V2RouteSDK<TInput, TOutput>\n      inputAmount: CurrencyAmount<TInput>\n      outputAmount: CurrencyAmount<TOutput>\n    }[] = []\n\n    const populatedV3Routes: {\n      routev3: V3RouteSDK<TInput, TOutput>\n      inputAmount: CurrencyAmount<TInput>\n      outputAmount: CurrencyAmount<TOutput>\n    }[] = []\n\n    for (const { routev2, amount } of v2Routes) {\n      const v2Trade = new V2TradeSDK(routev2, amount, tradeType)\n      const { inputAmount, outputAmount } = v2Trade\n\n      populatedV2Routes.push({\n        routev2,\n        inputAmount,\n        outputAmount,\n      })\n    }\n\n    for (const { routev3, amount } of v3Routes) {\n      const v3Trade = await V3TradeSDK.fromRoute(routev3, amount, tradeType)\n      const { inputAmount, outputAmount } = v3Trade\n\n      populatedV3Routes.push({\n        routev3,\n        inputAmount,\n        outputAmount,\n      })\n    }\n\n    return new Trade({\n      v2Routes: populatedV2Routes,\n      v3Routes: populatedV3Routes,\n      tradeType,\n    })\n  }\n\n  public static async fromRoute<TInput extends Currency, TOutput extends Currency, TTradeType extends TradeType>(\n    route: V2RouteSDK<TInput, TOutput> | V3RouteSDK<TInput, TOutput>,\n    amount: TTradeType extends TradeType.EXACT_INPUT ? CurrencyAmount<TInput> : CurrencyAmount<TOutput>,\n    tradeType: TTradeType\n  ): Promise<Trade<TInput, TOutput, TTradeType>> {\n    let v2Routes: {\n      routev2: V2RouteSDK<TInput, TOutput>\n      inputAmount: CurrencyAmount<TInput>\n      outputAmount: CurrencyAmount<TOutput>\n    }[]\n\n    let v3Routes: {\n      routev3: V3RouteSDK<TInput, TOutput>\n      inputAmount: CurrencyAmount<TInput>\n      outputAmount: CurrencyAmount<TOutput>\n    }[]\n\n    if (route instanceof V2RouteSDK) {\n      const v2Trade = new V2TradeSDK(route, amount, tradeType)\n      const { inputAmount, outputAmount } = v2Trade\n      v2Routes = [{ routev2: route, inputAmount, outputAmount }]\n      v3Routes = []\n    } else {\n      const v3Trade = await V3TradeSDK.fromRoute(route, amount, tradeType)\n      const { inputAmount, outputAmount } = v3Trade\n      v3Routes = [{ routev3: route, inputAmount, outputAmount }]\n      v2Routes = []\n    }\n    return new Trade({\n      v2Routes,\n      v3Routes,\n      tradeType,\n    })\n  }\n}\n","import { Interface } from '@ethersproject/abi'\nimport { Currency, CurrencyAmount, Percent, TradeType, validateAndParseAddress, WETH9 } from '@uniswap/sdk-core'\nimport { abi } from '@uniswap/swap-router-contracts/artifacts/contracts/interfaces/ISwapRouter02.sol/ISwapRouter02.json'\nimport { Trade as V2Trade } from '@uniswap/v2-sdk'\nimport {\n  encodeRouteToPath,\n  FeeOptions,\n  MethodParameters,\n  Payments,\n  PermitOptions,\n  Position,\n  SelfPermit,\n  toHex,\n  Trade as V3Trade,\n} from '@uniswap/v3-sdk'\nimport invariant from 'tiny-invariant'\nimport JSBI from 'jsbi'\nimport { ADDRESS_THIS, MSG_SENDER } from './constants'\nimport { ApproveAndCall, ApprovalTypes, CondensedAddLiquidityOptions } from './approveAndCall'\nimport { Trade } from './entities/trade'\nimport { Protocol } from './entities/protocol'\nimport { RouteV2, RouteV3 } from './entities/route'\nimport { MulticallExtended, Validation } from './multicallExtended'\nimport { PaymentsExtended } from './paymentsExtended'\n\nconst ZERO = JSBI.BigInt(0)\n\n/**\n * Options for producing the arguments to send calls to the router.\n */\nexport interface SwapOptions {\n  /**\n   * How much the execution price is allowed to move unfavorably from the trade execution price.\n   */\n  slippageTolerance: Percent\n\n  /**\n   * The account that should receive the output. If omitted, output is sent to msg.sender.\n   */\n  recipient?: string\n\n  /**\n   * Either deadline (when the transaction expires, in epoch seconds), or previousBlockhash.\n   */\n  deadlineOrPreviousBlockhash?: Validation\n\n  /**\n   * The optional permit parameters for spending the input.\n   */\n  inputTokenPermit?: PermitOptions\n\n  /**\n   * Optional information for taking a fee on output.\n   */\n  fee?: FeeOptions\n}\n\nexport interface SwapAndAddOptions extends SwapOptions {\n  /**\n   * The optional permit parameters for pulling in remaining output token.\n   */\n  outputTokenPermit?: PermitOptions\n}\n\n/**\n * Represents the Uniswap V2 + V3 SwapRouter02, and has static methods for helping execute trades.\n */\nexport abstract class SwapRouter {\n  public static INTERFACE: Interface = new Interface(abi)\n\n  /**\n   * Cannot be constructed.\n   */\n  private constructor() {}\n\n  private static encodeV2Swap(\n    trade: V2Trade<Currency, Currency, TradeType>,\n    options: SwapOptions,\n    routerMustCustody: boolean,\n    performAggregatedSlippageCheck: boolean\n  ): string {\n    const amountIn: string = toHex(trade.maximumAmountIn(options.slippageTolerance).quotient)\n    const amountOut: string = toHex(trade.minimumAmountOut(options.slippageTolerance).quotient)\n\n    const path = trade.route.path.map((token) => token.address)\n    const recipient = routerMustCustody\n      ? ADDRESS_THIS\n      : typeof options.recipient === 'undefined'\n      ? MSG_SENDER\n      : validateAndParseAddress(options.recipient)\n\n    if (trade.tradeType === TradeType.EXACT_INPUT) {\n      const exactInputParams = [amountIn, performAggregatedSlippageCheck ? 0 : amountOut, path, recipient]\n\n      return SwapRouter.INTERFACE.encodeFunctionData('swapExactTokensForTokens', exactInputParams)\n    } else {\n      const exactOutputParams = [amountOut, amountIn, path, recipient]\n\n      return SwapRouter.INTERFACE.encodeFunctionData('swapTokensForExactTokens', exactOutputParams)\n    }\n  }\n\n  private static encodeV3Swap(\n    trade: V3Trade<Currency, Currency, TradeType>,\n    options: SwapOptions,\n    routerMustCustody: boolean,\n    performAggregatedSlippageCheck: boolean\n  ): string[] {\n    const calldatas: string[] = []\n\n    for (const { route, inputAmount, outputAmount } of trade.swaps) {\n      const amountIn: string = toHex(trade.maximumAmountIn(options.slippageTolerance, inputAmount).quotient)\n      const amountOut: string = toHex(trade.minimumAmountOut(options.slippageTolerance, outputAmount).quotient)\n\n      // flag for whether the trade is single hop or not\n      const singleHop = route.pools.length === 1\n\n      const recipient = routerMustCustody\n        ? ADDRESS_THIS\n        : typeof options.recipient === 'undefined'\n        ? MSG_SENDER\n        : validateAndParseAddress(options.recipient)\n\n      if (singleHop) {\n        if (trade.tradeType === TradeType.EXACT_INPUT) {\n          const exactInputSingleParams = {\n            tokenIn: route.tokenPath[0].address,\n            tokenOut: route.tokenPath[1].address,\n            fee: route.pools[0].fee,\n            recipient,\n            amountIn,\n            amountOutMinimum: performAggregatedSlippageCheck ? 0 : amountOut,\n            sqrtPriceLimitX96: 0,\n          }\n\n          calldatas.push(SwapRouter.INTERFACE.encodeFunctionData('exactInputSingle', [exactInputSingleParams]))\n        } else {\n          const exactOutputSingleParams = {\n            tokenIn: route.tokenPath[0].address,\n            tokenOut: route.tokenPath[1].address,\n            fee: route.pools[0].fee,\n            recipient,\n            amountOut,\n            amountInMaximum: amountIn,\n            sqrtPriceLimitX96: 0,\n          }\n\n          calldatas.push(SwapRouter.INTERFACE.encodeFunctionData('exactOutputSingle', [exactOutputSingleParams]))\n        }\n      } else {\n        const path: string = encodeRouteToPath(route, trade.tradeType === TradeType.EXACT_OUTPUT)\n\n        if (trade.tradeType === TradeType.EXACT_INPUT) {\n          const exactInputParams = {\n            path,\n            recipient,\n            amountIn,\n            amountOutMinimum: performAggregatedSlippageCheck ? 0 : amountOut,\n          }\n\n          calldatas.push(SwapRouter.INTERFACE.encodeFunctionData('exactInput', [exactInputParams]))\n        } else {\n          const exactOutputParams = {\n            path,\n            recipient,\n            amountOut,\n            amountInMaximum: amountIn,\n          }\n\n          calldatas.push(SwapRouter.INTERFACE.encodeFunctionData('exactOutput', [exactOutputParams]))\n        }\n      }\n    }\n\n    return calldatas\n  }\n\n  private static encodeSwaps(\n    trades:\n      | Trade<Currency, Currency, TradeType>\n      | V2Trade<Currency, Currency, TradeType>\n      | V3Trade<Currency, Currency, TradeType>\n      | (V2Trade<Currency, Currency, TradeType> | V3Trade<Currency, Currency, TradeType>)[],\n    options: SwapOptions,\n    isSwapAndAdd?: boolean\n  ): {\n    calldatas: string[]\n    sampleTrade: V2Trade<Currency, Currency, TradeType> | V3Trade<Currency, Currency, TradeType>\n    routerMustCustody: boolean\n    inputIsNative: boolean\n    outputIsNative: boolean\n    totalAmountIn: CurrencyAmount<Currency>\n    minimumAmountOut: CurrencyAmount<Currency>\n    quoteAmountOut: CurrencyAmount<Currency>\n  } {\n    // If dealing with an instance of the aggregated Trade object, unbundle it to individual V2Trade and V3Trade objects.\n    if (trades instanceof Trade) {\n      invariant(\n        trades.swaps.every((swap) => swap.route.protocol == Protocol.V3 || swap.route.protocol == Protocol.V2),\n        'UNSUPPORTED_PROTOCOL'\n      )\n\n      let v2Andv3Trades: (V2Trade<Currency, Currency, TradeType> | V3Trade<Currency, Currency, TradeType>)[] = []\n\n      for (const { route, inputAmount, outputAmount } of trades.swaps) {\n        if (route.protocol == Protocol.V2) {\n          v2Andv3Trades.push(\n            new V2Trade(\n              route as RouteV2<Currency, Currency>,\n              trades.tradeType == TradeType.EXACT_INPUT ? inputAmount : outputAmount,\n              trades.tradeType\n            )\n          )\n        } else if (route.protocol == Protocol.V3) {\n          v2Andv3Trades.push(\n            V3Trade.createUncheckedTrade({\n              route: route as RouteV3<Currency, Currency>,\n              inputAmount,\n              outputAmount,\n              tradeType: trades.tradeType,\n            })\n          )\n        }\n      }\n      trades = v2Andv3Trades\n    }\n\n    if (!Array.isArray(trades)) {\n      trades = [trades]\n    }\n\n    const numberOfTrades = trades.reduce(\n      (numberOfTrades, trade) => numberOfTrades + (trade instanceof V3Trade ? trade.swaps.length : 1),\n      0\n    )\n\n    const sampleTrade = trades[0]\n\n    // All trades should have the same starting/ending currency and trade type\n    invariant(\n      trades.every((trade) => trade.inputAmount.currency.equals(sampleTrade.inputAmount.currency)),\n      'TOKEN_IN_DIFF'\n    )\n    invariant(\n      trades.every((trade) => trade.outputAmount.currency.equals(sampleTrade.outputAmount.currency)),\n      'TOKEN_OUT_DIFF'\n    )\n    invariant(\n      trades.every((trade) => trade.tradeType === sampleTrade.tradeType),\n      'TRADE_TYPE_DIFF'\n    )\n\n    const calldatas: string[] = []\n\n    const inputIsNative = sampleTrade.inputAmount.currency.isNative\n    const outputIsNative = sampleTrade.outputAmount.currency.isNative\n\n    // flag for whether we want to perform an aggregated slippage check\n    //   1. when there are >2 exact input trades. this is only a heuristic,\n    //      as it's still more gas-expensive even in this case, but has benefits\n    //      in that the reversion probability is lower\n    const performAggregatedSlippageCheck = sampleTrade.tradeType === TradeType.EXACT_INPUT && numberOfTrades > 2\n    // flag for whether funds should be send first to the router\n    //   1. when receiving ETH (which much be unwrapped from WETH)\n    //   2. when a fee on the output is being taken\n    //   3. when performing swap and add\n    //   4. when performing an aggregated slippage check\n    const routerMustCustody = outputIsNative || !!options.fee || !!isSwapAndAdd || performAggregatedSlippageCheck\n\n    // encode permit if necessary\n    if (options.inputTokenPermit) {\n      invariant(sampleTrade.inputAmount.currency.isToken, 'NON_TOKEN_PERMIT')\n      calldatas.push(SelfPermit.encodePermit(sampleTrade.inputAmount.currency, options.inputTokenPermit))\n    }\n\n    for (const trade of trades) {\n      if (trade instanceof V2Trade) {\n        calldatas.push(SwapRouter.encodeV2Swap(trade, options, routerMustCustody, performAggregatedSlippageCheck))\n      } else {\n        for (const calldata of SwapRouter.encodeV3Swap(\n          trade,\n          options,\n          routerMustCustody,\n          performAggregatedSlippageCheck\n        )) {\n          calldatas.push(calldata)\n        }\n      }\n    }\n\n    const ZERO_IN: CurrencyAmount<Currency> = CurrencyAmount.fromRawAmount(sampleTrade.inputAmount.currency, 0)\n    const ZERO_OUT: CurrencyAmount<Currency> = CurrencyAmount.fromRawAmount(sampleTrade.outputAmount.currency, 0)\n\n    const minimumAmountOut: CurrencyAmount<Currency> = trades.reduce(\n      (sum, trade) => sum.add(trade.minimumAmountOut(options.slippageTolerance)),\n      ZERO_OUT\n    )\n\n    const quoteAmountOut: CurrencyAmount<Currency> = trades.reduce(\n      (sum, trade) => sum.add(trade.outputAmount),\n      ZERO_OUT\n    )\n\n    const totalAmountIn: CurrencyAmount<Currency> = trades.reduce(\n      (sum, trade) => sum.add(trade.maximumAmountIn(options.slippageTolerance)),\n      ZERO_IN\n    )\n\n    return {\n      calldatas,\n      sampleTrade,\n      routerMustCustody,\n      inputIsNative,\n      outputIsNative,\n      totalAmountIn,\n      minimumAmountOut,\n      quoteAmountOut,\n    }\n  }\n\n  /**\n   * Produces the on-chain method name to call and the hex encoded parameters to pass as arguments for a given trade.\n   * @param trade to produce call parameters for\n   * @param options options for the call parameters\n   */\n  public static swapCallParameters(\n    trades:\n      | Trade<Currency, Currency, TradeType>\n      | V2Trade<Currency, Currency, TradeType>\n      | V3Trade<Currency, Currency, TradeType>\n      | (V2Trade<Currency, Currency, TradeType> | V3Trade<Currency, Currency, TradeType>)[],\n    options: SwapOptions\n  ): MethodParameters {\n    const {\n      calldatas,\n      sampleTrade,\n      routerMustCustody,\n      inputIsNative,\n      outputIsNative,\n      totalAmountIn,\n      minimumAmountOut,\n    } = SwapRouter.encodeSwaps(trades, options)\n\n    // unwrap or sweep\n    if (routerMustCustody) {\n      if (outputIsNative) {\n        calldatas.push(PaymentsExtended.encodeUnwrapWETH9(minimumAmountOut.quotient, options.recipient, options.fee))\n      } else {\n        calldatas.push(\n          PaymentsExtended.encodeSweepToken(\n            sampleTrade.outputAmount.currency.wrapped,\n            minimumAmountOut.quotient,\n            options.recipient,\n            options.fee\n          )\n        )\n      }\n    }\n\n    // must refund when paying in ETH, but with an uncertain input amount\n    if (inputIsNative && sampleTrade.tradeType === TradeType.EXACT_OUTPUT) {\n      calldatas.push(Payments.encodeRefundETH())\n    }\n\n    return {\n      calldata: MulticallExtended.encodeMulticall(calldatas, options.deadlineOrPreviousBlockhash),\n      value: toHex(inputIsNative ? totalAmountIn.quotient : ZERO),\n    }\n  }\n\n  /**\n   * Produces the on-chain method name to call and the hex encoded parameters to pass as arguments for a given trade.\n   * @param trade to produce call parameters for\n   * @param options options for the call parameters\n   */\n  public static swapAndAddCallParameters(\n    trades:\n      | Trade<Currency, Currency, TradeType>\n      | V2Trade<Currency, Currency, TradeType>\n      | V3Trade<Currency, Currency, TradeType>\n      | (V2Trade<Currency, Currency, TradeType> | V3Trade<Currency, Currency, TradeType>)[],\n    options: SwapAndAddOptions,\n    position: Position,\n    addLiquidityOptions: CondensedAddLiquidityOptions,\n    tokenInApprovalType: ApprovalTypes,\n    tokenOutApprovalType: ApprovalTypes\n  ): MethodParameters {\n    const {\n      calldatas,\n      inputIsNative,\n      outputIsNative,\n      sampleTrade,\n      totalAmountIn: totalAmountSwapped,\n      quoteAmountOut,\n      minimumAmountOut,\n    } = SwapRouter.encodeSwaps(trades, options, true)\n\n    // encode output token permit if necessary\n    if (options.outputTokenPermit) {\n      invariant(quoteAmountOut.currency.isToken, 'NON_TOKEN_PERMIT_OUTPUT')\n      calldatas.push(SelfPermit.encodePermit(quoteAmountOut.currency, options.outputTokenPermit))\n    }\n\n    const chainId = sampleTrade.route.chainId\n    const zeroForOne = position.pool.token0 === totalAmountSwapped.currency.wrapped\n    const { positionAmountIn, positionAmountOut } = SwapRouter.getPositionAmounts(position, zeroForOne)\n\n    // if tokens are native they will be converted to WETH9\n    const tokenIn = inputIsNative ? WETH9[chainId] : positionAmountIn.currency.wrapped\n    const tokenOut = outputIsNative ? WETH9[chainId] : positionAmountOut.currency.wrapped\n\n    // if swap output does not make up whole outputTokenBalanceDesired, pull in remaining tokens for adding liquidity\n    const amountOutRemaining = positionAmountOut.subtract(quoteAmountOut.wrapped)\n    if (amountOutRemaining.greaterThan(CurrencyAmount.fromRawAmount(positionAmountOut.currency, 0))) {\n      // if output is native, this means the remaining portion is included as native value in the transaction\n      // and must be wrapped. Otherwise, pull in remaining ERC20 token.\n      outputIsNative\n        ? calldatas.push(PaymentsExtended.encodeWrapETH(amountOutRemaining.quotient))\n        : calldatas.push(PaymentsExtended.encodePull(tokenOut, amountOutRemaining.quotient))\n    }\n\n    // if input is native, convert to WETH9, else pull ERC20 token\n    inputIsNative\n      ? calldatas.push(PaymentsExtended.encodeWrapETH(positionAmountIn.quotient))\n      : calldatas.push(PaymentsExtended.encodePull(tokenIn, positionAmountIn.quotient))\n\n    // approve token balances to NFTManager\n    if (tokenInApprovalType !== ApprovalTypes.NOT_REQUIRED)\n      calldatas.push(ApproveAndCall.encodeApprove(tokenIn, tokenInApprovalType))\n    if (tokenOutApprovalType !== ApprovalTypes.NOT_REQUIRED)\n      calldatas.push(ApproveAndCall.encodeApprove(tokenOut, tokenOutApprovalType))\n\n    // represents a position with token amounts resulting from a swap with maximum slippage\n    // hence the minimal amount out possible.\n    const minimalPosition = Position.fromAmounts({\n      pool: position.pool,\n      tickLower: position.tickLower,\n      tickUpper: position.tickUpper,\n      amount0: zeroForOne ? position.amount0.quotient.toString() : minimumAmountOut.quotient.toString(),\n      amount1: zeroForOne ? minimumAmountOut.quotient.toString() : position.amount1.quotient.toString(),\n      useFullPrecision: false,\n    })\n\n    // encode NFTManager add liquidity\n    calldatas.push(\n      ApproveAndCall.encodeAddLiquidity(position, minimalPosition, addLiquidityOptions, options.slippageTolerance)\n    )\n\n    // sweep remaining tokens\n    inputIsNative\n      ? calldatas.push(PaymentsExtended.encodeUnwrapWETH9(ZERO))\n      : calldatas.push(PaymentsExtended.encodeSweepToken(tokenIn, ZERO))\n    outputIsNative\n      ? calldatas.push(PaymentsExtended.encodeUnwrapWETH9(ZERO))\n      : calldatas.push(PaymentsExtended.encodeSweepToken(tokenOut, ZERO))\n\n    let value: JSBI\n    if (inputIsNative) {\n      value = totalAmountSwapped.wrapped.add(positionAmountIn.wrapped).quotient\n    } else if (outputIsNative) {\n      value = amountOutRemaining.quotient\n    } else {\n      value = ZERO\n    }\n\n    return {\n      calldata: MulticallExtended.encodeMulticall(calldatas, options.deadlineOrPreviousBlockhash),\n      value: value.toString(),\n    }\n  }\n\n  private static getPositionAmounts(\n    position: Position,\n    zeroForOne: boolean\n  ): { positionAmountIn: CurrencyAmount<Currency>; positionAmountOut: CurrencyAmount<Currency> } {\n    const { amount0, amount1 } = position.mintAmounts\n    const currencyAmount0 = CurrencyAmount.fromRawAmount(position.pool.token0, amount0)\n    const currencyAmount1 = CurrencyAmount.fromRawAmount(position.pool.token1, amount1)\n\n    const [positionAmountIn, positionAmountOut] = zeroForOne\n      ? [currencyAmount0, currencyAmount1]\n      : [currencyAmount1, currencyAmount0]\n    return { positionAmountIn, positionAmountOut }\n  }\n}\n"]},"metadata":{},"sourceType":"script"}