{"ast":null,"code":"import _objectSpread from\"/Users/safahi/Downloads/interface-4.30.1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/safahi/Downloads/interface-4.30.1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _styled from\"styled-components\";import Portal from'@reach/portal';import React,{useCallback,useMemo,useState}from'react';import{usePopper}from'react-popper';import useInterval from'../../hooks/useInterval';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var PopoverContainer=_styled.div.withConfig({componentId:\"sc-d5tbhs-0\"})([\"z-index:9999;visibility:\",\";opacity:\",\";transition:visibility 150ms linear,opacity 150ms linear;color:\",\";\"],function(props){return props.show?'visible':'hidden';},function(props){return props.show?1:0;},function(_ref){var theme=_ref.theme;return theme.text2;});var ReferenceElement=_styled.div.withConfig({componentId:\"sc-d5tbhs-1\"})([\"display:inline-block;\"]);var Arrow=_styled.div.withConfig({componentId:\"sc-d5tbhs-2\"})([\"width:8px;height:8px;z-index:9998;::before{position:absolute;width:8px;height:8px;z-index:9998;content:'';border:1px solid \",\";transform:rotate(45deg);background:\",\";}&.arrow-top{bottom:-5px;::before{border-top:none;border-left:none;}}&.arrow-bottom{top:-5px;::before{border-bottom:none;border-right:none;}}&.arrow-left{right:-5px;::before{border-bottom:none;border-left:none;}}&.arrow-right{left:-5px;::before{border-right:none;border-top:none;}}\"],function(_ref2){var theme=_ref2.theme;return theme.bg2;},function(_ref3){var theme=_ref3.theme;return theme.bg0;});export default function Popover(_ref4){var _attributes$popper$da,_attributes$popper;var content=_ref4.content,show=_ref4.show,children=_ref4.children,_ref4$placement=_ref4.placement,placement=_ref4$placement===void 0?'auto':_ref4$placement;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),referenceElement=_useState2[0],setReferenceElement=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),popperElement=_useState4[0],setPopperElement=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),arrowElement=_useState6[0],setArrowElement=_useState6[1];var options=useMemo(function(){return{placement:placement,strategy:'fixed',modifiers:[{name:'offset',options:{offset:[8,8]}},{name:'arrow',options:{element:arrowElement}},{name:'preventOverflow',options:{padding:8}}]};},[arrowElement,placement]);var _usePopper=usePopper(referenceElement,popperElement,options),styles=_usePopper.styles,update=_usePopper.update,attributes=_usePopper.attributes;var updateCallback=useCallback(function(){update&&update();},[update]);useInterval(updateCallback,show?100:null);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ReferenceElement,{ref:setReferenceElement,children:children}),/*#__PURE__*/_jsx(Portal,{children:/*#__PURE__*/_jsxs(PopoverContainer,_objectSpread(_objectSpread({show:show,ref:setPopperElement,style:styles.popper},attributes.popper),{},{children:[content,/*#__PURE__*/_jsx(Arrow,_objectSpread({className:\"arrow-\".concat((_attributes$popper$da=(_attributes$popper=attributes.popper)===null||_attributes$popper===void 0?void 0:_attributes$popper['data-popper-placement'])!==null&&_attributes$popper$da!==void 0?_attributes$popper$da:''),ref:setArrowElement,style:styles.arrow},attributes.arrow))]}))})]});}","map":{"version":3,"sources":["/Users/safahi/Downloads/interface-4.30.1/src/components/Popover/index.tsx"],"names":["Portal","React","useCallback","useMemo","useState","usePopper","useInterval","PopoverContainer","styled","div","props","show","theme","text2","ReferenceElement","Arrow","bg2","bg0","Popover","content","children","placement","referenceElement","setReferenceElement","popperElement","setPopperElement","arrowElement","setArrowElement","options","strategy","modifiers","name","offset","element","padding","styles","update","attributes","updateCallback","popper","arrow"],"mappings":"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","sourcesContent":["import { Options, Placement } from '@popperjs/core'\nimport Portal from '@reach/portal'\nimport React, { useCallback, useMemo, useState } from 'react'\nimport { usePopper } from 'react-popper'\nimport styled from 'styled-components/macro'\n\nimport useInterval from '../../hooks/useInterval'\n\nconst PopoverContainer = styled.div<{ show: boolean }>`\n  z-index: 9999;\n  visibility: ${(props) => (props.show ? 'visible' : 'hidden')};\n  opacity: ${(props) => (props.show ? 1 : 0)};\n  transition: visibility 150ms linear, opacity 150ms linear;\n  color: ${({ theme }) => theme.text2};\n`\n\nconst ReferenceElement = styled.div`\n  display: inline-block;\n`\n\nconst Arrow = styled.div`\n  width: 8px;\n  height: 8px;\n  z-index: 9998;\n\n  ::before {\n    position: absolute;\n    width: 8px;\n    height: 8px;\n    z-index: 9998;\n\n    content: '';\n    border: 1px solid ${({ theme }) => theme.bg2};\n    transform: rotate(45deg);\n    background: ${({ theme }) => theme.bg0};\n  }\n\n  &.arrow-top {\n    bottom: -5px;\n    ::before {\n      border-top: none;\n      border-left: none;\n    }\n  }\n\n  &.arrow-bottom {\n    top: -5px;\n    ::before {\n      border-bottom: none;\n      border-right: none;\n    }\n  }\n\n  &.arrow-left {\n    right: -5px;\n\n    ::before {\n      border-bottom: none;\n      border-left: none;\n    }\n  }\n\n  &.arrow-right {\n    left: -5px;\n    ::before {\n      border-right: none;\n      border-top: none;\n    }\n  }\n`\n\nexport interface PopoverProps {\n  content: React.ReactNode\n  show: boolean\n  children: React.ReactNode\n  placement?: Placement\n}\n\nexport default function Popover({ content, show, children, placement = 'auto' }: PopoverProps) {\n  const [referenceElement, setReferenceElement] = useState<HTMLDivElement | null>(null)\n  const [popperElement, setPopperElement] = useState<HTMLDivElement | null>(null)\n  const [arrowElement, setArrowElement] = useState<HTMLDivElement | null>(null)\n\n  const options = useMemo(\n    (): Options => ({\n      placement,\n      strategy: 'fixed',\n      modifiers: [\n        { name: 'offset', options: { offset: [8, 8] } },\n        { name: 'arrow', options: { element: arrowElement } },\n        { name: 'preventOverflow', options: { padding: 8 } },\n      ],\n    }),\n    [arrowElement, placement]\n  )\n\n  const { styles, update, attributes } = usePopper(referenceElement, popperElement, options)\n\n  const updateCallback = useCallback(() => {\n    update && update()\n  }, [update])\n  useInterval(updateCallback, show ? 100 : null)\n\n  return (\n    <>\n      <ReferenceElement ref={setReferenceElement as any}>{children}</ReferenceElement>\n      <Portal>\n        <PopoverContainer show={show} ref={setPopperElement as any} style={styles.popper} {...attributes.popper}>\n          {content}\n          <Arrow\n            className={`arrow-${attributes.popper?.['data-popper-placement'] ?? ''}`}\n            ref={setArrowElement as any}\n            style={styles.arrow}\n            {...attributes.arrow}\n          />\n        </PopoverContainer>\n      </Portal>\n    </>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}