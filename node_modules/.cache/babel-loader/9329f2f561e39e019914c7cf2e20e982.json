{"ast":null,"code":"import{ThemeContext as _ThemeContext}from\"styled-components\";import _styled from\"styled-components\";import{Trans}from\"@lingui/react\";import{TradeType}from'@uniswap/sdk-core';import Card from'components/Card';import{LoadingRows}from'components/Loader/styled';import{useActiveWeb3React}from'hooks/web3';import{useContext,useMemo}from'react';import{Separator,ThemedText}from'../../theme';import{computeRealizedLPFeePercent}from'../../utils/prices';import{AutoColumn}from'../Column';import{RowBetween,RowFixed}from'../Row';import FormattedPriceImpact from'./FormattedPriceImpact';import{SUPPORTED_GAS_ESTIMATE_CHAIN_IDS}from'./GasEstimateBadge';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var StyledCard=_styled(Card).withConfig({componentId:\"sc-164s61e-0\"})([\"padding:0;\"]);function TextWithLoadingPlaceholder(_ref){var syncing=_ref.syncing,width=_ref.width,children=_ref.children;return syncing?/*#__PURE__*/_jsx(LoadingRows,{children:/*#__PURE__*/_jsx(\"div\",{style:{height:'15px',width:\"\".concat(width,\"px\")}})}):children;}export function AdvancedSwapDetails(_ref2){var trade=_ref2.trade,allowedSlippage=_ref2.allowedSlippage,_ref2$syncing=_ref2.syncing,syncing=_ref2$syncing===void 0?false:_ref2$syncing;var theme=useContext(_ThemeContext);var _useActiveWeb3React=useActiveWeb3React(),chainId=_useActiveWeb3React.chainId;var _useMemo=useMemo(function(){if(!trade)return{expectedOutputAmount:undefined,priceImpact:undefined};var expectedOutputAmount=trade.outputAmount;var realizedLpFeePercent=computeRealizedLPFeePercent(trade);var priceImpact=trade.priceImpact.subtract(realizedLpFeePercent);return{expectedOutputAmount:expectedOutputAmount,priceImpact:priceImpact};},[trade]),expectedOutputAmount=_useMemo.expectedOutputAmount,priceImpact=_useMemo.priceImpact;return!trade?null:/*#__PURE__*/_jsx(StyledCard,{children:/*#__PURE__*/_jsxs(AutoColumn,{gap:\"8px\",children:[/*#__PURE__*/_jsxs(RowBetween,{children:[/*#__PURE__*/_jsx(RowFixed,{children:/*#__PURE__*/_jsx(ThemedText.SubHeader,{color:theme.text1,children:/*#__PURE__*/_jsx(Trans,{id:\"Expected Output\"})})}),/*#__PURE__*/_jsx(TextWithLoadingPlaceholder,{syncing:syncing,width:65,children:/*#__PURE__*/_jsx(ThemedText.Black,{textAlign:\"right\",fontSize:14,children:expectedOutputAmount?\"\".concat(expectedOutputAmount.toSignificant(6),\"  \").concat(expectedOutputAmount.currency.symbol):'-'})})]}),/*#__PURE__*/_jsxs(RowBetween,{children:[/*#__PURE__*/_jsx(RowFixed,{children:/*#__PURE__*/_jsx(ThemedText.SubHeader,{color:theme.text1,children:/*#__PURE__*/_jsx(Trans,{id:\"Price Impact\"})})}),/*#__PURE__*/_jsx(TextWithLoadingPlaceholder,{syncing:syncing,width:50,children:/*#__PURE__*/_jsx(ThemedText.Black,{textAlign:\"right\",fontSize:14,children:/*#__PURE__*/_jsx(FormattedPriceImpact,{priceImpact:priceImpact})})})]}),/*#__PURE__*/_jsx(Separator,{}),/*#__PURE__*/_jsxs(RowBetween,{children:[/*#__PURE__*/_jsx(RowFixed,{style:{marginRight:'20px'},children:/*#__PURE__*/_jsxs(ThemedText.SubHeader,{color:theme.text3,children:[trade.tradeType===TradeType.EXACT_INPUT?/*#__PURE__*/_jsx(Trans,{id:\"Minimum received\"}):/*#__PURE__*/_jsx(Trans,{id:\"Maximum sent\"}),' ',/*#__PURE__*/_jsx(Trans,{id:\"after slippage\"}),\" (\",allowedSlippage.toFixed(2),\"%)\"]})}),/*#__PURE__*/_jsx(TextWithLoadingPlaceholder,{syncing:syncing,width:70,children:/*#__PURE__*/_jsx(ThemedText.Black,{textAlign:\"right\",fontSize:14,color:theme.text3,children:trade.tradeType===TradeType.EXACT_INPUT?\"\".concat(trade.minimumAmountOut(allowedSlippage).toSignificant(6),\" \").concat(trade.outputAmount.currency.symbol):\"\".concat(trade.maximumAmountIn(allowedSlippage).toSignificant(6),\" \").concat(trade.inputAmount.currency.symbol)})})]}),!(trade===null||trade===void 0?void 0:trade.gasUseEstimateUSD)||!chainId||!SUPPORTED_GAS_ESTIMATE_CHAIN_IDS.includes(chainId)?null:/*#__PURE__*/_jsxs(RowBetween,{children:[/*#__PURE__*/_jsx(ThemedText.SubHeader,{color:theme.text3,children:/*#__PURE__*/_jsx(Trans,{id:\"Network Fee\"})}),/*#__PURE__*/_jsx(TextWithLoadingPlaceholder,{syncing:syncing,width:50,children:/*#__PURE__*/_jsxs(ThemedText.Black,{textAlign:\"right\",fontSize:14,color:theme.text3,children:[\"~$\",trade.gasUseEstimateUSD.toFixed(2)]})})]})]})});}","map":{"version":3,"sources":["/Users/safahi/Downloads/interface-4.30.1/src/components/swap/AdvancedSwapDetails.tsx"],"names":["TradeType","Card","LoadingRows","useActiveWeb3React","useContext","useMemo","Separator","ThemedText","computeRealizedLPFeePercent","AutoColumn","RowBetween","RowFixed","FormattedPriceImpact","SUPPORTED_GAS_ESTIMATE_CHAIN_IDS","StyledCard","styled","TextWithLoadingPlaceholder","syncing","width","children","height","AdvancedSwapDetails","trade","allowedSlippage","theme","ThemeContext","chainId","expectedOutputAmount","undefined","priceImpact","outputAmount","realizedLpFeePercent","subtract","text1","toSignificant","currency","symbol","marginRight","text3","tradeType","EXACT_INPUT","toFixed","minimumAmountOut","maximumAmountIn","inputAmount","gasUseEstimateUSD","includes"],"mappings":"qIACA,OAA4BA,SAA5B,KAA6C,mBAA7C,CACA,MAAOC,CAAAA,IAAP,KAAiB,iBAAjB,CACA,OAASC,WAAT,KAA4B,0BAA5B,CACA,OAASC,kBAAT,KAAmC,YAAnC,CACA,OAASC,UAAT,CAAqBC,OAArB,KAAoC,OAApC,CAIA,OAASC,SAAT,CAAoBC,UAApB,KAAsC,aAAtC,CACA,OAASC,2BAAT,KAA4C,oBAA5C,CACA,OAASC,UAAT,KAA2B,WAA3B,CACA,OAASC,UAAT,CAAqBC,QAArB,KAAqC,QAArC,CACA,MAAOC,CAAAA,oBAAP,KAAiC,wBAAjC,CACA,OAASC,gCAAT,KAAiD,oBAAjD,C,wFAEA,GAAMC,CAAAA,UAAU,CAAGC,OAAM,CAACd,IAAD,CAAT,yDAAhB,CAWA,QAASe,CAAAA,0BAAT,MAQG,IAPDC,CAAAA,OAOC,MAPDA,OAOC,CANDC,KAMC,MANDA,KAMC,CALDC,QAKC,MALDA,QAKC,CACD,MAAOF,CAAAA,OAAO,cACZ,KAAC,WAAD,wBACE,YAAK,KAAK,CAAE,CAAEG,MAAM,CAAE,MAAV,CAAkBF,KAAK,WAAKA,KAAL,MAAvB,CAAZ,EADF,EADY,CAKZC,QALF,CAOD,CAED,MAAO,SAASE,CAAAA,mBAAT,OAAoG,IAArEC,CAAAA,KAAqE,OAArEA,KAAqE,CAA9DC,eAA8D,OAA9DA,eAA8D,qBAA7CN,OAA6C,CAA7CA,OAA6C,wBAAnC,KAAmC,eACzG,GAAMO,CAAAA,KAAK,CAAGpB,UAAU,CAACqB,aAAD,CAAxB,CACA,wBAAoBtB,kBAAkB,EAAtC,CAAQuB,OAAR,qBAAQA,OAAR,CAEA,aAA8CrB,OAAO,CAAC,UAAM,CAC1D,GAAI,CAACiB,KAAL,CAAY,MAAO,CAAEK,oBAAoB,CAAEC,SAAxB,CAAmCC,WAAW,CAAED,SAAhD,CAAP,CACZ,GAAMD,CAAAA,oBAAoB,CAAGL,KAAK,CAACQ,YAAnC,CACA,GAAMC,CAAAA,oBAAoB,CAAGvB,2BAA2B,CAACc,KAAD,CAAxD,CACA,GAAMO,CAAAA,WAAW,CAAGP,KAAK,CAACO,WAAN,CAAkBG,QAAlB,CAA2BD,oBAA3B,CAApB,CACA,MAAO,CAAEJ,oBAAoB,CAApBA,oBAAF,CAAwBE,WAAW,CAAXA,WAAxB,CAAP,CACD,CANoD,CAMlD,CAACP,KAAD,CANkD,CAArD,CAAQK,oBAAR,UAAQA,oBAAR,CAA8BE,WAA9B,UAA8BA,WAA9B,CAQA,MAAO,CAACP,KAAD,CAAS,IAAT,cACL,KAAC,UAAD,wBACE,MAAC,UAAD,EAAY,GAAG,CAAC,KAAhB,wBACE,MAAC,UAAD,yBACE,KAAC,QAAD,wBACE,KAAC,UAAD,CAAY,SAAZ,EAAsB,KAAK,CAAEE,KAAK,CAACS,KAAnC,uBACE,kCADF,EADF,EADF,cAME,KAAC,0BAAD,EAA4B,OAAO,CAAEhB,OAArC,CAA8C,KAAK,CAAE,EAArD,uBACE,KAAC,UAAD,CAAY,KAAZ,EAAkB,SAAS,CAAC,OAA5B,CAAoC,QAAQ,CAAE,EAA9C,UACGU,oBAAoB,WACdA,oBAAoB,CAACO,aAArB,CAAmC,CAAnC,CADc,cAC4BP,oBAAoB,CAACQ,QAArB,CAA8BC,MAD1D,EAEjB,GAHN,EADF,EANF,GADF,cAeE,MAAC,UAAD,yBACE,KAAC,QAAD,wBACE,KAAC,UAAD,CAAY,SAAZ,EAAsB,KAAK,CAAEZ,KAAK,CAACS,KAAnC,uBACE,+BADF,EADF,EADF,cAME,KAAC,0BAAD,EAA4B,OAAO,CAAEhB,OAArC,CAA8C,KAAK,CAAE,EAArD,uBACE,KAAC,UAAD,CAAY,KAAZ,EAAkB,SAAS,CAAC,OAA5B,CAAoC,QAAQ,CAAE,EAA9C,uBACE,KAAC,oBAAD,EAAsB,WAAW,CAAEY,WAAnC,EADF,EADF,EANF,GAfF,cA2BE,KAAC,SAAD,IA3BF,cA4BE,MAAC,UAAD,yBACE,KAAC,QAAD,EAAU,KAAK,CAAE,CAAEQ,WAAW,CAAE,MAAf,CAAjB,uBACE,MAAC,UAAD,CAAY,SAAZ,EAAsB,KAAK,CAAEb,KAAK,CAACc,KAAnC,WACGhB,KAAK,CAACiB,SAAN,GAAoBvC,SAAS,CAACwC,WAA9B,cACC,mCADD,cAGC,+BAJJ,CAKK,GALL,cAME,iCANF,MAMkCjB,eAAe,CAACkB,OAAhB,CAAwB,CAAxB,CANlC,QADF,EADF,cAWE,KAAC,0BAAD,EAA4B,OAAO,CAAExB,OAArC,CAA8C,KAAK,CAAE,EAArD,uBACE,KAAC,UAAD,CAAY,KAAZ,EAAkB,SAAS,CAAC,OAA5B,CAAoC,QAAQ,CAAE,EAA9C,CAAkD,KAAK,CAAEO,KAAK,CAACc,KAA/D,UACGhB,KAAK,CAACiB,SAAN,GAAoBvC,SAAS,CAACwC,WAA9B,WACMlB,KAAK,CAACoB,gBAAN,CAAuBnB,eAAvB,EAAwCW,aAAxC,CAAsD,CAAtD,CADN,aACkEZ,KAAK,CAACQ,YAAN,CAAmBK,QAAnB,CAA4BC,MAD9F,YAEMd,KAAK,CAACqB,eAAN,CAAsBpB,eAAtB,EAAuCW,aAAvC,CAAqD,CAArD,CAFN,aAEiEZ,KAAK,CAACsB,WAAN,CAAkBT,QAAlB,CAA2BC,MAF5F,CADH,EADF,EAXF,GA5BF,CA+CG,EAACd,KAAD,SAACA,KAAD,iBAACA,KAAK,CAAEuB,iBAAR,GAA6B,CAACnB,OAA9B,EAAyC,CAACb,gCAAgC,CAACiC,QAAjC,CAA0CpB,OAA1C,CAA1C,CAA+F,IAA/F,cACC,MAAC,UAAD,yBACE,KAAC,UAAD,CAAY,SAAZ,EAAsB,KAAK,CAAEF,KAAK,CAACc,KAAnC,uBACE,8BADF,EADF,cAIE,KAAC,0BAAD,EAA4B,OAAO,CAAErB,OAArC,CAA8C,KAAK,CAAE,EAArD,uBACE,MAAC,UAAD,CAAY,KAAZ,EAAkB,SAAS,CAAC,OAA5B,CAAoC,QAAQ,CAAE,EAA9C,CAAkD,KAAK,CAAEO,KAAK,CAACc,KAA/D,gBACKhB,KAAK,CAACuB,iBAAN,CAAwBJ,OAAxB,CAAgC,CAAhC,CADL,GADF,EAJF,GAhDJ,GADF,EADF,CAgED","sourcesContent":["import { Trans } from '@lingui/macro'\nimport { Currency, Percent, TradeType } from '@uniswap/sdk-core'\nimport Card from 'components/Card'\nimport { LoadingRows } from 'components/Loader/styled'\nimport { useActiveWeb3React } from 'hooks/web3'\nimport { useContext, useMemo } from 'react'\nimport { InterfaceTrade } from 'state/routing/types'\nimport styled, { ThemeContext } from 'styled-components/macro'\n\nimport { Separator, ThemedText } from '../../theme'\nimport { computeRealizedLPFeePercent } from '../../utils/prices'\nimport { AutoColumn } from '../Column'\nimport { RowBetween, RowFixed } from '../Row'\nimport FormattedPriceImpact from './FormattedPriceImpact'\nimport { SUPPORTED_GAS_ESTIMATE_CHAIN_IDS } from './GasEstimateBadge'\n\nconst StyledCard = styled(Card)`\n  padding: 0;\n`\n\ninterface AdvancedSwapDetailsProps {\n  trade?: InterfaceTrade<Currency, Currency, TradeType>\n  allowedSlippage: Percent\n  syncing?: boolean\n  hideRouteDiagram?: boolean\n}\n\nfunction TextWithLoadingPlaceholder({\n  syncing,\n  width,\n  children,\n}: {\n  syncing: boolean\n  width: number\n  children: JSX.Element\n}) {\n  return syncing ? (\n    <LoadingRows>\n      <div style={{ height: '15px', width: `${width}px` }} />\n    </LoadingRows>\n  ) : (\n    children\n  )\n}\n\nexport function AdvancedSwapDetails({ trade, allowedSlippage, syncing = false }: AdvancedSwapDetailsProps) {\n  const theme = useContext(ThemeContext)\n  const { chainId } = useActiveWeb3React()\n\n  const { expectedOutputAmount, priceImpact } = useMemo(() => {\n    if (!trade) return { expectedOutputAmount: undefined, priceImpact: undefined }\n    const expectedOutputAmount = trade.outputAmount\n    const realizedLpFeePercent = computeRealizedLPFeePercent(trade)\n    const priceImpact = trade.priceImpact.subtract(realizedLpFeePercent)\n    return { expectedOutputAmount, priceImpact }\n  }, [trade])\n\n  return !trade ? null : (\n    <StyledCard>\n      <AutoColumn gap=\"8px\">\n        <RowBetween>\n          <RowFixed>\n            <ThemedText.SubHeader color={theme.text1}>\n              <Trans>Expected Output</Trans>\n            </ThemedText.SubHeader>\n          </RowFixed>\n          <TextWithLoadingPlaceholder syncing={syncing} width={65}>\n            <ThemedText.Black textAlign=\"right\" fontSize={14}>\n              {expectedOutputAmount\n                ? `${expectedOutputAmount.toSignificant(6)}  ${expectedOutputAmount.currency.symbol}`\n                : '-'}\n            </ThemedText.Black>\n          </TextWithLoadingPlaceholder>\n        </RowBetween>\n        <RowBetween>\n          <RowFixed>\n            <ThemedText.SubHeader color={theme.text1}>\n              <Trans>Price Impact</Trans>\n            </ThemedText.SubHeader>\n          </RowFixed>\n          <TextWithLoadingPlaceholder syncing={syncing} width={50}>\n            <ThemedText.Black textAlign=\"right\" fontSize={14}>\n              <FormattedPriceImpact priceImpact={priceImpact} />\n            </ThemedText.Black>\n          </TextWithLoadingPlaceholder>\n        </RowBetween>\n        <Separator />\n        <RowBetween>\n          <RowFixed style={{ marginRight: '20px' }}>\n            <ThemedText.SubHeader color={theme.text3}>\n              {trade.tradeType === TradeType.EXACT_INPUT ? (\n                <Trans>Minimum received</Trans>\n              ) : (\n                <Trans>Maximum sent</Trans>\n              )}{' '}\n              <Trans>after slippage</Trans> ({allowedSlippage.toFixed(2)}%)\n            </ThemedText.SubHeader>\n          </RowFixed>\n          <TextWithLoadingPlaceholder syncing={syncing} width={70}>\n            <ThemedText.Black textAlign=\"right\" fontSize={14} color={theme.text3}>\n              {trade.tradeType === TradeType.EXACT_INPUT\n                ? `${trade.minimumAmountOut(allowedSlippage).toSignificant(6)} ${trade.outputAmount.currency.symbol}`\n                : `${trade.maximumAmountIn(allowedSlippage).toSignificant(6)} ${trade.inputAmount.currency.symbol}`}\n            </ThemedText.Black>\n          </TextWithLoadingPlaceholder>\n        </RowBetween>\n        {!trade?.gasUseEstimateUSD || !chainId || !SUPPORTED_GAS_ESTIMATE_CHAIN_IDS.includes(chainId) ? null : (\n          <RowBetween>\n            <ThemedText.SubHeader color={theme.text3}>\n              <Trans>Network Fee</Trans>\n            </ThemedText.SubHeader>\n            <TextWithLoadingPlaceholder syncing={syncing} width={50}>\n              <ThemedText.Black textAlign=\"right\" fontSize={14} color={theme.text3}>\n                ~${trade.gasUseEstimateUSD.toFixed(2)}\n              </ThemedText.Black>\n            </TextWithLoadingPlaceholder>\n          </RowBetween>\n        )}\n      </AutoColumn>\n    </StyledCard>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}