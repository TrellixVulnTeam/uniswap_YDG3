{"ast":null,"code":"import _styled from \"styled-components\";\n\nvar _jsxFileName = \"/Users/safahi/Downloads/interface-4.30.1/src/components/Popover/index.tsx\",\n    _s = $RefreshSig$();\n\nimport Portal from '@reach/portal';\nimport React, { useCallback, useMemo, useState } from 'react';\nimport { usePopper } from 'react-popper';\nimport useInterval from '../../hooks/useInterval';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst PopoverContainer = _styled.div.withConfig({\n  displayName: \"Popover__PopoverContainer\",\n  componentId: \"sc-d5tbhs-0\"\n})([\"z-index:9999;visibility:\", \";opacity:\", \";transition:visibility 150ms linear,opacity 150ms linear;color:\", \";\"], props => props.show ? 'visible' : 'hidden', props => props.show ? 1 : 0, ({\n  theme\n}) => theme.text2);\n\nconst ReferenceElement = _styled.div.withConfig({\n  displayName: \"Popover__ReferenceElement\",\n  componentId: \"sc-d5tbhs-1\"\n})([\"display:inline-block;\"]);\n\nconst Arrow = _styled.div.withConfig({\n  displayName: \"Popover__Arrow\",\n  componentId: \"sc-d5tbhs-2\"\n})([\"width:8px;height:8px;z-index:9998;::before{position:absolute;width:8px;height:8px;z-index:9998;content:'';border:1px solid \", \";transform:rotate(45deg);background:\", \";}&.arrow-top{bottom:-5px;::before{border-top:none;border-left:none;}}&.arrow-bottom{top:-5px;::before{border-bottom:none;border-right:none;}}&.arrow-left{right:-5px;::before{border-bottom:none;border-left:none;}}&.arrow-right{left:-5px;::before{border-right:none;border-top:none;}}\"], ({\n  theme\n}) => theme.bg2, ({\n  theme\n}) => theme.bg0);\n\nexport default function Popover({\n  content,\n  show,\n  children,\n  placement = 'auto'\n}) {\n  _s();\n\n  var _attributes$popper$da, _attributes$popper;\n\n  const [referenceElement, setReferenceElement] = useState(null);\n  const [popperElement, setPopperElement] = useState(null);\n  const [arrowElement, setArrowElement] = useState(null);\n  const options = useMemo(() => ({\n    placement,\n    strategy: 'fixed',\n    modifiers: [{\n      name: 'offset',\n      options: {\n        offset: [8, 8]\n      }\n    }, {\n      name: 'arrow',\n      options: {\n        element: arrowElement\n      }\n    }, {\n      name: 'preventOverflow',\n      options: {\n        padding: 8\n      }\n    }]\n  }), [arrowElement, placement]);\n  const {\n    styles,\n    update,\n    attributes\n  } = usePopper(referenceElement, popperElement, options);\n  const updateCallback = useCallback(() => {\n    update && update();\n  }, [update]);\n  useInterval(updateCallback, show ? 100 : null);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(ReferenceElement, {\n      ref: setReferenceElement,\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Portal, {\n      children: /*#__PURE__*/_jsxDEV(PopoverContainer, {\n        show: show,\n        ref: setPopperElement,\n        style: styles.popper,\n        ...attributes.popper,\n        children: [content, /*#__PURE__*/_jsxDEV(Arrow, {\n          className: `arrow-${(_attributes$popper$da = (_attributes$popper = attributes.popper) === null || _attributes$popper === void 0 ? void 0 : _attributes$popper['data-popper-placement']) !== null && _attributes$popper$da !== void 0 ? _attributes$popper$da : ''}`,\n          ref: setArrowElement,\n          style: styles.arrow,\n          ...attributes.arrow\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Popover, \"Kl9DdpnVwyXvzk8C7YjxUuVT7go=\", false, function () {\n  return [usePopper, useInterval];\n});\n\n_c = Popover;\n\nvar _c;\n\n$RefreshReg$(_c, \"Popover\");","map":{"version":3,"sources":["/Users/safahi/Downloads/interface-4.30.1/src/components/Popover/index.tsx"],"names":["Portal","React","useCallback","useMemo","useState","usePopper","useInterval","PopoverContainer","styled","div","props","show","theme","text2","ReferenceElement","Arrow","bg2","bg0","Popover","content","children","placement","referenceElement","setReferenceElement","popperElement","setPopperElement","arrowElement","setArrowElement","options","strategy","modifiers","name","offset","element","padding","styles","update","attributes","updateCallback","popper","arrow"],"mappings":"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","sourcesContent":["import { Options, Placement } from '@popperjs/core'\nimport Portal from '@reach/portal'\nimport React, { useCallback, useMemo, useState } from 'react'\nimport { usePopper } from 'react-popper'\nimport styled from 'styled-components/macro'\n\nimport useInterval from '../../hooks/useInterval'\n\nconst PopoverContainer = styled.div<{ show: boolean }>`\n  z-index: 9999;\n  visibility: ${(props) => (props.show ? 'visible' : 'hidden')};\n  opacity: ${(props) => (props.show ? 1 : 0)};\n  transition: visibility 150ms linear, opacity 150ms linear;\n  color: ${({ theme }) => theme.text2};\n`\n\nconst ReferenceElement = styled.div`\n  display: inline-block;\n`\n\nconst Arrow = styled.div`\n  width: 8px;\n  height: 8px;\n  z-index: 9998;\n\n  ::before {\n    position: absolute;\n    width: 8px;\n    height: 8px;\n    z-index: 9998;\n\n    content: '';\n    border: 1px solid ${({ theme }) => theme.bg2};\n    transform: rotate(45deg);\n    background: ${({ theme }) => theme.bg0};\n  }\n\n  &.arrow-top {\n    bottom: -5px;\n    ::before {\n      border-top: none;\n      border-left: none;\n    }\n  }\n\n  &.arrow-bottom {\n    top: -5px;\n    ::before {\n      border-bottom: none;\n      border-right: none;\n    }\n  }\n\n  &.arrow-left {\n    right: -5px;\n\n    ::before {\n      border-bottom: none;\n      border-left: none;\n    }\n  }\n\n  &.arrow-right {\n    left: -5px;\n    ::before {\n      border-right: none;\n      border-top: none;\n    }\n  }\n`\n\nexport interface PopoverProps {\n  content: React.ReactNode\n  show: boolean\n  children: React.ReactNode\n  placement?: Placement\n}\n\nexport default function Popover({ content, show, children, placement = 'auto' }: PopoverProps) {\n  const [referenceElement, setReferenceElement] = useState<HTMLDivElement | null>(null)\n  const [popperElement, setPopperElement] = useState<HTMLDivElement | null>(null)\n  const [arrowElement, setArrowElement] = useState<HTMLDivElement | null>(null)\n\n  const options = useMemo(\n    (): Options => ({\n      placement,\n      strategy: 'fixed',\n      modifiers: [\n        { name: 'offset', options: { offset: [8, 8] } },\n        { name: 'arrow', options: { element: arrowElement } },\n        { name: 'preventOverflow', options: { padding: 8 } },\n      ],\n    }),\n    [arrowElement, placement]\n  )\n\n  const { styles, update, attributes } = usePopper(referenceElement, popperElement, options)\n\n  const updateCallback = useCallback(() => {\n    update && update()\n  }, [update])\n  useInterval(updateCallback, show ? 100 : null)\n\n  return (\n    <>\n      <ReferenceElement ref={setReferenceElement as any}>{children}</ReferenceElement>\n      <Portal>\n        <PopoverContainer show={show} ref={setPopperElement as any} style={styles.popper} {...attributes.popper}>\n          {content}\n          <Arrow\n            className={`arrow-${attributes.popper?.['data-popper-placement'] ?? ''}`}\n            ref={setArrowElement as any}\n            style={styles.arrow}\n            {...attributes.arrow}\n          />\n        </PopoverContainer>\n      </Portal>\n    </>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}