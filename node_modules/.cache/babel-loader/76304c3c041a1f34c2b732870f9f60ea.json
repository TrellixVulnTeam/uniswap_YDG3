{"ast":null,"code":"\"use strict\";\n\nfunction t(t) {\n  return t && \"object\" == typeof t && \"default\" in t ? t.default : t;\n}\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: !0\n});\n\nvar e,\n    n = t(require(\"jsbi\")),\n    r = require(\"@ethersproject/abi\"),\n    o = t(require(\"tiny-invariant\")),\n    u = require(\"@uniswap/swap-router-contracts/artifacts/contracts/interfaces/IApproveAndCall.sol/IApproveAndCall.json\"),\n    a = require(\"@uniswap/v3-sdk\"),\n    i = require(\"@uniswap/swap-router-contracts/artifacts/contracts/interfaces/IMulticallExtended.sol/IMulticallExtended.json\"),\n    c = require(\"@uniswap/sdk-core\"),\n    p = require(\"@uniswap/swap-router-contracts/artifacts/contracts/interfaces/IPeripheryPaymentsWithFeeExtended.sol/IPeripheryPaymentsWithFeeExtended.json\"),\n    s = require(\"@uniswap/swap-router-contracts/artifacts/contracts/interfaces/ISwapRouter02.sol/ISwapRouter02.json\"),\n    d = require(\"@uniswap/v2-sdk\"),\n    l = \"0x0000000000000000000000000000000000000001\",\n    f = \"0x0000000000000000000000000000000000000002\",\n    m = n.BigInt(0),\n    h = n.BigInt(1);\n\n(e = exports.ApprovalTypes || (exports.ApprovalTypes = {}))[e.NOT_REQUIRED = 0] = \"NOT_REQUIRED\", e[e.MAX = 1] = \"MAX\", e[e.MAX_MINUS_ONE = 2] = \"MAX_MINUS_ONE\", e[e.ZERO_THEN_MAX = 3] = \"ZERO_THEN_MAX\", e[e.ZERO_THEN_MAX_MINUS_ONE = 4] = \"ZERO_THEN_MAX_MINUS_ONE\";\n\nvar v = function () {\n  function t() {}\n\n  return t.encodeApproveMax = function (e) {\n    return t.INTERFACE.encodeFunctionData(\"approveMax\", [e.address]);\n  }, t.encodeApproveMaxMinusOne = function (e) {\n    return t.INTERFACE.encodeFunctionData(\"approveMaxMinusOne\", [e.address]);\n  }, t.encodeApproveZeroThenMax = function (e) {\n    return t.INTERFACE.encodeFunctionData(\"approveZeroThenMax\", [e.address]);\n  }, t.encodeApproveZeroThenMaxMinusOne = function (e) {\n    return t.INTERFACE.encodeFunctionData(\"approveZeroThenMaxMinusOne\", [e.address]);\n  }, t.encodeCallPositionManager = function (e) {\n    if (e.length > 0 || o(!1), 1 == e.length) return t.INTERFACE.encodeFunctionData(\"callPositionManager\", e);\n    var n = a.NonfungiblePositionManager.INTERFACE.encodeFunctionData(\"multicall\", [e]);\n    return t.INTERFACE.encodeFunctionData(\"callPositionManager\", [n]);\n  }, t.encodeApprove = function (e, n) {\n    switch (n) {\n      case exports.ApprovalTypes.MAX:\n        return t.encodeApproveMax(e.wrapped);\n\n      case exports.ApprovalTypes.MAX_MINUS_ONE:\n        return t.encodeApproveMaxMinusOne(e.wrapped);\n\n      case exports.ApprovalTypes.ZERO_THEN_MAX:\n        return t.encodeApproveZeroThenMax(e.wrapped);\n\n      case exports.ApprovalTypes.ZERO_THEN_MAX_MINUS_ONE:\n        return t.encodeApproveZeroThenMaxMinusOne(e.wrapped);\n\n      default:\n        throw \"Error: invalid ApprovalType\";\n    }\n  }, t;\n}();\n\nv.INTERFACE = new r.Interface(u.abi);\n\nvar y = function () {\n  function t() {}\n\n  return t.encodeMulticall = function (e, n) {\n    if (void 0 === n) return a.Multicall.encodeMulticall(e);\n\n    if (Array.isArray(e) || (e = [e]), \"string\" == typeof n && n.startsWith(\"0x\")) {\n      var r = function (t) {\n        if (!t.match(/^0x[0-9a-fA-F]{64}$/)) throw new Error(t + \" is not valid bytes32.\");\n        return t.toLowerCase();\n      }(n);\n\n      return t.INTERFACE.encodeFunctionData(\"multicall(bytes32,bytes[])\", [r, e]);\n    }\n\n    var o = a.toHex(n);\n    return t.INTERFACE.encodeFunctionData(\"multicall(uint256,bytes[])\", [o, e]);\n  }, t;\n}();\n\nfunction A(t) {\n  return a.toHex(t.multiply(1e4).quotient);\n}\n\ny.INTERFACE = new r.Interface(i.abi);\n\nvar T = function () {\n  function t() {}\n\n  return t.encodeUnwrapWETH9 = function (e, n, r) {\n    if (\"string\" == typeof n) return a.Payments.encodeUnwrapWETH9(e, n, r);\n\n    if (r) {\n      var o = A(r.fee),\n          u = c.validateAndParseAddress(r.recipient);\n      return t.INTERFACE.encodeFunctionData(\"unwrapWETH9WithFee(uint256,uint256,address)\", [a.toHex(e), o, u]);\n    }\n\n    return t.INTERFACE.encodeFunctionData(\"unwrapWETH9(uint256)\", [a.toHex(e)]);\n  }, t.encodeSweepToken = function (e, n, r, o) {\n    if (\"string\" == typeof r) return a.Payments.encodeSweepToken(e, n, r, o);\n\n    if (o) {\n      var u = A(o.fee),\n          i = c.validateAndParseAddress(o.recipient);\n      return t.INTERFACE.encodeFunctionData(\"sweepTokenWithFee(address,uint256,uint256,address)\", [e.address, a.toHex(n), u, i]);\n    }\n\n    return t.INTERFACE.encodeFunctionData(\"sweepToken(address,uint256)\", [e.address, a.toHex(n)]);\n  }, t.encodePull = function (e, n) {\n    return t.INTERFACE.encodeFunctionData(\"pull\", [e.address, a.toHex(n)]);\n  }, t.encodeWrapETH = function (e) {\n    return t.INTERFACE.encodeFunctionData(\"wrapETH\", [a.toHex(e)]);\n  }, t;\n}();\n\nfunction w(t, e, n, r, o, u, a) {\n  try {\n    var i = t[u](a),\n        c = i.value;\n  } catch (t) {\n    return void n(t);\n  }\n\n  i.done ? e(c) : Promise.resolve(c).then(r, o);\n}\n\nfunction E(t) {\n  return function () {\n    var e = this,\n        n = arguments;\n    return new Promise(function (r, o) {\n      var u = t.apply(e, n);\n\n      function a(t) {\n        w(u, r, o, a, i, \"next\", t);\n      }\n\n      function i(t) {\n        w(u, r, o, a, i, \"throw\", t);\n      }\n\n      a(void 0);\n    });\n  };\n}\n\nfunction x(t, e) {\n  t.prototype = Object.create(e.prototype), t.prototype.constructor = t, (Object.setPrototypeOf || function (t, e) {\n    return t.__proto__ = e, t;\n  })(t, e);\n}\n\nfunction g(t, e) {\n  (null == e || e > t.length) && (e = t.length);\n\n  for (var n = 0, r = new Array(e); n < e; n++) {\n    r[n] = t[n];\n  }\n\n  return r;\n}\n\nfunction I(t, e) {\n  var n = \"undefined\" != typeof Symbol && t[Symbol.iterator] || t[\"@@iterator\"];\n  if (n) return (n = n.call(t)).next.bind(n);\n\n  if (Array.isArray(t) || (n = function (t, e) {\n    if (t) {\n      if (\"string\" == typeof t) return g(t, void 0);\n      var n = Object.prototype.toString.call(t).slice(8, -1);\n      return \"Object\" === n && t.constructor && (n = t.constructor.name), \"Map\" === n || \"Set\" === n ? Array.from(t) : \"Arguments\" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? g(t, void 0) : void 0;\n    }\n  }(t)) || e && t && \"number\" == typeof t.length) {\n    n && (t = n);\n    var r = 0;\n    return function () {\n      return r >= t.length ? {\n        done: !0\n      } : {\n        done: !1,\n        value: t[r++]\n      };\n    };\n  }\n\n  throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nT.INTERFACE = new r.Interface(p.abi);\n\nvar P,\n    R,\n    _ = (function (t) {\n  var e = function (t) {\n    var e = Object.prototype,\n        n = e.hasOwnProperty,\n        r = \"function\" == typeof Symbol ? Symbol : {},\n        o = r.iterator || \"@@iterator\",\n        u = r.asyncIterator || \"@@asyncIterator\",\n        a = r.toStringTag || \"@@toStringTag\";\n\n    function i(t, e, n) {\n      return Object.defineProperty(t, e, {\n        value: n,\n        enumerable: !0,\n        configurable: !0,\n        writable: !0\n      }), t[e];\n    }\n\n    try {\n      i({}, \"\");\n    } catch (t) {\n      i = function i(t, e, n) {\n        return t[e] = n;\n      };\n    }\n\n    function c(t, e, n, r) {\n      var o = Object.create((e && e.prototype instanceof d ? e : d).prototype),\n          u = new g(r || []);\n      return o._invoke = function (t, e, n) {\n        var r = \"suspendedStart\";\n        return function (o, u) {\n          if (\"executing\" === r) throw new Error(\"Generator is already running\");\n\n          if (\"completed\" === r) {\n            if (\"throw\" === o) throw u;\n            return {\n              value: void 0,\n              done: !0\n            };\n          }\n\n          for (n.method = o, n.arg = u;;) {\n            var a = n.delegate;\n\n            if (a) {\n              var i = w(a, n);\n\n              if (i) {\n                if (i === s) continue;\n                return i;\n              }\n            }\n\n            if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) {\n              if (\"suspendedStart\" === r) throw r = \"completed\", n.arg;\n              n.dispatchException(n.arg);\n            } else \"return\" === n.method && n.abrupt(\"return\", n.arg);\n            r = \"executing\";\n            var c = p(t, e, n);\n\n            if (\"normal\" === c.type) {\n              if (r = n.done ? \"completed\" : \"suspendedYield\", c.arg === s) continue;\n              return {\n                value: c.arg,\n                done: n.done\n              };\n            }\n\n            \"throw\" === c.type && (r = \"completed\", n.method = \"throw\", n.arg = c.arg);\n          }\n        };\n      }(t, n, u), o;\n    }\n\n    function p(t, e, n) {\n      try {\n        return {\n          type: \"normal\",\n          arg: t.call(e, n)\n        };\n      } catch (t) {\n        return {\n          type: \"throw\",\n          arg: t\n        };\n      }\n    }\n\n    t.wrap = c;\n    var s = {};\n\n    function d() {}\n\n    function l() {}\n\n    function f() {}\n\n    var m = {};\n    i(m, o, function () {\n      return this;\n    });\n    var h = Object.getPrototypeOf,\n        v = h && h(h(I([])));\n    v && v !== e && n.call(v, o) && (m = v);\n    var y = f.prototype = d.prototype = Object.create(m);\n\n    function A(t) {\n      [\"next\", \"throw\", \"return\"].forEach(function (e) {\n        i(t, e, function (t) {\n          return this._invoke(e, t);\n        });\n      });\n    }\n\n    function T(t, e) {\n      var r;\n\n      this._invoke = function (o, u) {\n        function a() {\n          return new e(function (r, a) {\n            !function r(o, u, a, i) {\n              var c = p(t[o], t, u);\n\n              if (\"throw\" !== c.type) {\n                var s = c.arg,\n                    d = s.value;\n                return d && \"object\" == typeof d && n.call(d, \"__await\") ? e.resolve(d.__await).then(function (t) {\n                  r(\"next\", t, a, i);\n                }, function (t) {\n                  r(\"throw\", t, a, i);\n                }) : e.resolve(d).then(function (t) {\n                  s.value = t, a(s);\n                }, function (t) {\n                  return r(\"throw\", t, a, i);\n                });\n              }\n\n              i(c.arg);\n            }(o, u, r, a);\n          });\n        }\n\n        return r = r ? r.then(a, a) : a();\n      };\n    }\n\n    function w(t, e) {\n      var n = t.iterator[e.method];\n\n      if (void 0 === n) {\n        if (e.delegate = null, \"throw\" === e.method) {\n          if (t.iterator.return && (e.method = \"return\", e.arg = void 0, w(t, e), \"throw\" === e.method)) return s;\n          e.method = \"throw\", e.arg = new TypeError(\"The iterator does not provide a 'throw' method\");\n        }\n\n        return s;\n      }\n\n      var r = p(n, t.iterator, e.arg);\n      if (\"throw\" === r.type) return e.method = \"throw\", e.arg = r.arg, e.delegate = null, s;\n      var o = r.arg;\n      return o ? o.done ? (e[t.resultName] = o.value, e.next = t.nextLoc, \"return\" !== e.method && (e.method = \"next\", e.arg = void 0), e.delegate = null, s) : o : (e.method = \"throw\", e.arg = new TypeError(\"iterator result is not an object\"), e.delegate = null, s);\n    }\n\n    function E(t) {\n      var e = {\n        tryLoc: t[0]\n      };\n      1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e);\n    }\n\n    function x(t) {\n      var e = t.completion || {};\n      e.type = \"normal\", delete e.arg, t.completion = e;\n    }\n\n    function g(t) {\n      this.tryEntries = [{\n        tryLoc: \"root\"\n      }], t.forEach(E, this), this.reset(!0);\n    }\n\n    function I(t) {\n      if (t) {\n        var e = t[o];\n        if (e) return e.call(t);\n        if (\"function\" == typeof t.next) return t;\n\n        if (!isNaN(t.length)) {\n          var r = -1,\n              u = function e() {\n            for (; ++r < t.length;) {\n              if (n.call(t, r)) return e.value = t[r], e.done = !1, e;\n            }\n\n            return e.value = void 0, e.done = !0, e;\n          };\n\n          return u.next = u;\n        }\n      }\n\n      return {\n        next: P\n      };\n    }\n\n    function P() {\n      return {\n        value: void 0,\n        done: !0\n      };\n    }\n\n    return l.prototype = f, i(y, \"constructor\", f), i(f, \"constructor\", l), l.displayName = i(f, a, \"GeneratorFunction\"), t.isGeneratorFunction = function (t) {\n      var e = \"function\" == typeof t && t.constructor;\n      return !!e && (e === l || \"GeneratorFunction\" === (e.displayName || e.name));\n    }, t.mark = function (t) {\n      return Object.setPrototypeOf ? Object.setPrototypeOf(t, f) : (t.__proto__ = f, i(t, a, \"GeneratorFunction\")), t.prototype = Object.create(y), t;\n    }, t.awrap = function (t) {\n      return {\n        __await: t\n      };\n    }, A(T.prototype), i(T.prototype, u, function () {\n      return this;\n    }), t.AsyncIterator = T, t.async = function (e, n, r, o, u) {\n      void 0 === u && (u = Promise);\n      var a = new T(c(e, n, r, o), u);\n      return t.isGeneratorFunction(n) ? a : a.next().then(function (t) {\n        return t.done ? t.value : a.next();\n      });\n    }, A(y), i(y, a, \"Generator\"), i(y, o, function () {\n      return this;\n    }), i(y, \"toString\", function () {\n      return \"[object Generator]\";\n    }), t.keys = function (t) {\n      var e = [];\n\n      for (var n in t) {\n        e.push(n);\n      }\n\n      return e.reverse(), function n() {\n        for (; e.length;) {\n          var r = e.pop();\n          if (r in t) return n.value = r, n.done = !1, n;\n        }\n\n        return n.done = !0, n;\n      };\n    }, t.values = I, g.prototype = {\n      constructor: g,\n      reset: function reset(t) {\n        if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = void 0, this.tryEntries.forEach(x), !t) for (var e in this) {\n          \"t\" === e.charAt(0) && n.call(this, e) && !isNaN(+e.slice(1)) && (this[e] = void 0);\n        }\n      },\n      stop: function stop() {\n        this.done = !0;\n        var t = this.tryEntries[0].completion;\n        if (\"throw\" === t.type) throw t.arg;\n        return this.rval;\n      },\n      dispatchException: function dispatchException(t) {\n        if (this.done) throw t;\n        var e = this;\n\n        function r(n, r) {\n          return a.type = \"throw\", a.arg = t, e.next = n, r && (e.method = \"next\", e.arg = void 0), !!r;\n        }\n\n        for (var o = this.tryEntries.length - 1; o >= 0; --o) {\n          var u = this.tryEntries[o],\n              a = u.completion;\n          if (\"root\" === u.tryLoc) return r(\"end\");\n\n          if (u.tryLoc <= this.prev) {\n            var i = n.call(u, \"catchLoc\"),\n                c = n.call(u, \"finallyLoc\");\n\n            if (i && c) {\n              if (this.prev < u.catchLoc) return r(u.catchLoc, !0);\n              if (this.prev < u.finallyLoc) return r(u.finallyLoc);\n            } else if (i) {\n              if (this.prev < u.catchLoc) return r(u.catchLoc, !0);\n            } else {\n              if (!c) throw new Error(\"try statement without catch or finally\");\n              if (this.prev < u.finallyLoc) return r(u.finallyLoc);\n            }\n          }\n        }\n      },\n      abrupt: function abrupt(t, e) {\n        for (var r = this.tryEntries.length - 1; r >= 0; --r) {\n          var o = this.tryEntries[r];\n\n          if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) {\n            var u = o;\n            break;\n          }\n        }\n\n        u && (\"break\" === t || \"continue\" === t) && u.tryLoc <= e && e <= u.finallyLoc && (u = null);\n        var a = u ? u.completion : {};\n        return a.type = t, a.arg = e, u ? (this.method = \"next\", this.next = u.finallyLoc, s) : this.complete(a);\n      },\n      complete: function complete(t, e) {\n        if (\"throw\" === t.type) throw t.arg;\n        return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), s;\n      },\n      finish: function finish(t) {\n        for (var e = this.tryEntries.length - 1; e >= 0; --e) {\n          var n = this.tryEntries[e];\n          if (n.finallyLoc === t) return this.complete(n.completion, n.afterLoc), x(n), s;\n        }\n      },\n      catch: function _catch(t) {\n        for (var e = this.tryEntries.length - 1; e >= 0; --e) {\n          var n = this.tryEntries[e];\n\n          if (n.tryLoc === t) {\n            var r = n.completion;\n\n            if (\"throw\" === r.type) {\n              var o = r.arg;\n              x(n);\n            }\n\n            return o;\n          }\n        }\n\n        throw new Error(\"illegal catch attempt\");\n      },\n      delegateYield: function delegateYield(t, e, n) {\n        return this.delegate = {\n          iterator: I(t),\n          resultName: e,\n          nextLoc: n\n        }, \"next\" === this.method && (this.arg = void 0), s;\n      }\n    }, t;\n  }(t.exports);\n\n  try {\n    regeneratorRuntime = e;\n  } catch (t) {\n    \"object\" == typeof globalThis ? globalThis.regeneratorRuntime = e : Function(\"r\", \"regeneratorRuntime = r\")(e);\n  }\n}(R = {\n  exports: {}\n}), R.exports);\n\n(P = exports.Protocol || (exports.Protocol = {})).V2 = \"V2\", P.V3 = \"V3\";\n\nvar N = function (t) {\n  function e(e) {\n    var n;\n    return (n = t.call(this, e.pairs, e.input, e.output) || this).protocol = exports.Protocol.V2, n.pools = n.pairs, n;\n  }\n\n  return x(e, t), e;\n}(d.Route),\n    O = function (t) {\n  function e(e) {\n    var n;\n    return (n = t.call(this, e.pools, e.input, e.output) || this).protocol = exports.Protocol.V3, n.path = e.tokenPath, n;\n  }\n\n  return x(e, t), e;\n}(a.Route),\n    b = function () {\n  function t(t) {\n    var e = t.v2Routes,\n        n = t.v3Routes,\n        r = t.tradeType;\n    this.swaps = [], this.routes = [];\n\n    for (var u, i = I(e); !(u = i()).done;) {\n      var c = u.value,\n          p = c.inputAmount,\n          s = c.outputAmount,\n          l = new N(c.routev2);\n      this.routes.push(l), this.swaps.push({\n        route: l,\n        inputAmount: p,\n        outputAmount: s\n      });\n    }\n\n    for (var f, m = I(n); !(f = m()).done;) {\n      var h = f.value,\n          v = h.inputAmount,\n          y = h.outputAmount,\n          A = new O(h.routev3);\n      this.routes.push(A), this.swaps.push({\n        route: A,\n        inputAmount: v,\n        outputAmount: y\n      });\n    }\n\n    this.tradeType = r;\n    var T = this.swaps[0].inputAmount.currency,\n        w = this.swaps[0].outputAmount.currency;\n    this.swaps.every(function (t) {\n      return T.wrapped.equals(t.route.input.wrapped);\n    }) || o(!1), this.swaps.every(function (t) {\n      return w.wrapped.equals(t.route.output.wrapped);\n    }) || o(!1);\n\n    for (var E, x = this.swaps.map(function (t) {\n      return t.route.pools.length;\n    }).reduce(function (t, e) {\n      return t + e;\n    }, 0), g = new Set(), P = I(this.swaps); !(E = P()).done;) {\n      for (var R, _ = E.value.route, b = I(_.pools); !(R = b()).done;) {\n        var F = R.value;\n        _.protocol == exports.Protocol.V3 ? g.add(a.Pool.getAddress(F.token0, F.token1, F.fee)) : g.add(d.Pair.getAddress(F.token0, F.token1));\n      }\n    }\n\n    x != g.size && o(!1);\n  }\n\n  var e,\n      n = t.prototype;\n  return n.minimumAmountOut = function (t, e) {\n    if (void 0 === e && (e = this.outputAmount), t.lessThan(m) && o(!1), this.tradeType === c.TradeType.EXACT_OUTPUT) return e;\n    var n = new c.Fraction(h).add(t).invert().multiply(e.quotient).quotient;\n    return c.CurrencyAmount.fromRawAmount(e.currency, n);\n  }, n.maximumAmountIn = function (t, e) {\n    if (void 0 === e && (e = this.inputAmount), t.lessThan(m) && o(!1), this.tradeType === c.TradeType.EXACT_INPUT) return e;\n    var n = new c.Fraction(h).add(t).multiply(e.quotient).quotient;\n    return c.CurrencyAmount.fromRawAmount(e.currency, n);\n  }, n.worstExecutionPrice = function (t) {\n    return new c.Price(this.inputAmount.currency, this.outputAmount.currency, this.maximumAmountIn(t).quotient, this.minimumAmountOut(t).quotient);\n  }, t.fromRoutes = function () {\n    var e = E(_.mark(function e(n, r, o) {\n      var u, i, c, p, s, l, f, m, h, v, y, A, T;\n      return _.wrap(function (e) {\n        for (;;) {\n          switch (e.prev = e.next) {\n            case 0:\n              for (u = [], i = [], c = I(n); !(p = c()).done;) {\n                f = new d.Trade(l = (s = p.value).routev2, s.amount, o), u.push({\n                  routev2: l,\n                  inputAmount: f.inputAmount,\n                  outputAmount: f.outputAmount\n                });\n              }\n\n              m = I(r);\n\n            case 4:\n              if ((h = m()).done) {\n                e.next = 13;\n                break;\n              }\n\n              return y = (v = h.value).routev3, A = v.amount, e.next = 8, a.Trade.fromRoute(y, A, o);\n\n            case 8:\n              i.push({\n                routev3: y,\n                inputAmount: (T = e.sent).inputAmount,\n                outputAmount: T.outputAmount\n              });\n\n            case 11:\n              e.next = 4;\n              break;\n\n            case 13:\n              return e.abrupt(\"return\", new t({\n                v2Routes: u,\n                v3Routes: i,\n                tradeType: o\n              }));\n\n            case 14:\n            case \"end\":\n              return e.stop();\n          }\n        }\n      }, e);\n    }));\n    return function (t, n, r) {\n      return e.apply(this, arguments);\n    };\n  }(), t.fromRoute = function () {\n    var e = E(_.mark(function e(n, r, o) {\n      var u, i, c, p;\n      return _.wrap(function (e) {\n        for (;;) {\n          switch (e.prev = e.next) {\n            case 0:\n              if (!(n instanceof d.Route)) {\n                e.next = 7;\n                break;\n              }\n\n              c = new d.Trade(n, r, o), u = [{\n                routev2: n,\n                inputAmount: c.inputAmount,\n                outputAmount: c.outputAmount\n              }], i = [], e.next = 13;\n              break;\n\n            case 7:\n              return e.next = 9, a.Trade.fromRoute(n, r, o);\n\n            case 9:\n              i = [{\n                routev3: n,\n                inputAmount: (p = e.sent).inputAmount,\n                outputAmount: p.outputAmount\n              }], u = [];\n\n            case 13:\n              return e.abrupt(\"return\", new t({\n                v2Routes: u,\n                v3Routes: i,\n                tradeType: o\n              }));\n\n            case 14:\n            case \"end\":\n              return e.stop();\n          }\n        }\n      }, e);\n    }));\n    return function (t, n, r) {\n      return e.apply(this, arguments);\n    };\n  }(), (e = [{\n    key: \"inputAmount\",\n    get: function get() {\n      if (this._inputAmount) return this._inputAmount;\n      var t = this.swaps[0].inputAmount.currency,\n          e = this.swaps.map(function (t) {\n        return t.inputAmount;\n      }).reduce(function (t, e) {\n        return t.add(e);\n      }, c.CurrencyAmount.fromRawAmount(t, 0));\n      return this._inputAmount = e, this._inputAmount;\n    }\n  }, {\n    key: \"outputAmount\",\n    get: function get() {\n      if (this._outputAmount) return this._outputAmount;\n      var t = this.swaps[0].outputAmount.currency,\n          e = this.swaps.map(function (t) {\n        return t.outputAmount;\n      }).reduce(function (t, e) {\n        return t.add(e);\n      }, c.CurrencyAmount.fromRawAmount(t, 0));\n      return this._outputAmount = e, this._outputAmount;\n    }\n  }, {\n    key: \"executionPrice\",\n    get: function get() {\n      var t;\n      return null != (t = this._executionPrice) ? t : this._executionPrice = new c.Price(this.inputAmount.currency, this.outputAmount.currency, this.inputAmount.quotient, this.outputAmount.quotient);\n    }\n  }, {\n    key: \"priceImpact\",\n    get: function get() {\n      if (this._priceImpact) return this._priceImpact;\n\n      for (var t, e = c.CurrencyAmount.fromRawAmount(this.outputAmount.currency, 0), n = I(this.swaps); !(t = n()).done;) {\n        var r = t.value;\n        e = e.add(r.route.midPrice.quote(r.inputAmount));\n      }\n\n      var o = e.subtract(this.outputAmount).divide(e);\n      return this._priceImpact = new c.Percent(o.numerator, o.denominator), this._priceImpact;\n    }\n  }]) && function (t, e) {\n    for (var n = 0; n < e.length; n++) {\n      var r = e[n];\n      r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(t, r.key, r);\n    }\n  }(t.prototype, e), t;\n}(),\n    F = n.BigInt(0),\n    M = function () {\n  function t() {}\n\n  return t.encodeV2Swap = function (e, n, r, o) {\n    var u = a.toHex(e.maximumAmountIn(n.slippageTolerance).quotient),\n        i = a.toHex(e.minimumAmountOut(n.slippageTolerance).quotient),\n        p = e.route.path.map(function (t) {\n      return t.address;\n    }),\n        s = r ? f : void 0 === n.recipient ? l : c.validateAndParseAddress(n.recipient);\n    return e.tradeType === c.TradeType.EXACT_INPUT ? t.INTERFACE.encodeFunctionData(\"swapExactTokensForTokens\", [u, o ? 0 : i, p, s]) : t.INTERFACE.encodeFunctionData(\"swapTokensForExactTokens\", [i, u, p, s]);\n  }, t.encodeV3Swap = function (e, n, r, o) {\n    for (var u, i = [], p = I(e.swaps); !(u = p()).done;) {\n      var s = u.value,\n          d = s.route,\n          m = s.outputAmount,\n          h = a.toHex(e.maximumAmountIn(n.slippageTolerance, s.inputAmount).quotient),\n          v = a.toHex(e.minimumAmountOut(n.slippageTolerance, m).quotient),\n          y = 1 === d.pools.length,\n          A = r ? f : void 0 === n.recipient ? l : c.validateAndParseAddress(n.recipient);\n      if (y) i.push(e.tradeType === c.TradeType.EXACT_INPUT ? t.INTERFACE.encodeFunctionData(\"exactInputSingle\", [{\n        tokenIn: d.tokenPath[0].address,\n        tokenOut: d.tokenPath[1].address,\n        fee: d.pools[0].fee,\n        recipient: A,\n        amountIn: h,\n        amountOutMinimum: o ? 0 : v,\n        sqrtPriceLimitX96: 0\n      }]) : t.INTERFACE.encodeFunctionData(\"exactOutputSingle\", [{\n        tokenIn: d.tokenPath[0].address,\n        tokenOut: d.tokenPath[1].address,\n        fee: d.pools[0].fee,\n        recipient: A,\n        amountOut: v,\n        amountInMaximum: h,\n        sqrtPriceLimitX96: 0\n      }]));else {\n        var T = a.encodeRouteToPath(d, e.tradeType === c.TradeType.EXACT_OUTPUT);\n        i.push(e.tradeType === c.TradeType.EXACT_INPUT ? t.INTERFACE.encodeFunctionData(\"exactInput\", [{\n          path: T,\n          recipient: A,\n          amountIn: h,\n          amountOutMinimum: o ? 0 : v\n        }]) : t.INTERFACE.encodeFunctionData(\"exactOutput\", [{\n          path: T,\n          recipient: A,\n          amountOut: v,\n          amountInMaximum: h\n        }]));\n      }\n    }\n\n    return i;\n  }, t.encodeSwaps = function (e, n, r) {\n    if (e instanceof b) {\n      e.swaps.every(function (t) {\n        return t.route.protocol == exports.Protocol.V3 || t.route.protocol == exports.Protocol.V2;\n      }) || o(!1);\n\n      for (var u, i = [], p = I(e.swaps); !(u = p()).done;) {\n        var s = u.value,\n            l = s.route,\n            f = s.inputAmount,\n            m = s.outputAmount;\n        l.protocol == exports.Protocol.V2 ? i.push(new d.Trade(l, e.tradeType == c.TradeType.EXACT_INPUT ? f : m, e.tradeType)) : l.protocol == exports.Protocol.V3 && i.push(a.Trade.createUncheckedTrade({\n          route: l,\n          inputAmount: f,\n          outputAmount: m,\n          tradeType: e.tradeType\n        }));\n      }\n\n      e = i;\n    }\n\n    Array.isArray(e) || (e = [e]);\n    var h = e.reduce(function (t, e) {\n      return t + (e instanceof a.Trade ? e.swaps.length : 1);\n    }, 0),\n        v = e[0];\n    e.every(function (t) {\n      return t.inputAmount.currency.equals(v.inputAmount.currency);\n    }) || o(!1), e.every(function (t) {\n      return t.outputAmount.currency.equals(v.outputAmount.currency);\n    }) || o(!1), e.every(function (t) {\n      return t.tradeType === v.tradeType;\n    }) || o(!1);\n    var y = [],\n        A = v.inputAmount.currency.isNative,\n        T = v.outputAmount.currency.isNative,\n        w = v.tradeType === c.TradeType.EXACT_INPUT && h > 2,\n        E = T || !!n.fee || !!r || w;\n    n.inputTokenPermit && (v.inputAmount.currency.isToken || o(!1), y.push(a.SelfPermit.encodePermit(v.inputAmount.currency, n.inputTokenPermit)));\n\n    for (var x, g = I(e); !(x = g()).done;) {\n      var P = x.value;\n      if (P instanceof d.Trade) y.push(t.encodeV2Swap(P, n, E, w));else for (var R, _ = I(t.encodeV3Swap(P, n, E, w)); !(R = _()).done;) {\n        y.push(R.value);\n      }\n    }\n\n    var N = c.CurrencyAmount.fromRawAmount(v.inputAmount.currency, 0),\n        O = c.CurrencyAmount.fromRawAmount(v.outputAmount.currency, 0),\n        F = e.reduce(function (t, e) {\n      return t.add(e.minimumAmountOut(n.slippageTolerance));\n    }, O),\n        M = e.reduce(function (t, e) {\n      return t.add(e.maximumAmountIn(n.slippageTolerance));\n    }, N);\n    return {\n      calldatas: y,\n      sampleTrade: v,\n      routerMustCustody: E,\n      inputIsNative: A,\n      outputIsNative: T,\n      totalAmountIn: M,\n      totalAmountOut: F\n    };\n  }, t.swapCallParameters = function (e, n) {\n    var r = t.encodeSwaps(e, n),\n        o = r.calldatas,\n        u = r.sampleTrade,\n        i = r.inputIsNative,\n        p = r.totalAmountIn,\n        s = r.totalAmountOut;\n    return r.routerMustCustody && o.push(r.outputIsNative ? T.encodeUnwrapWETH9(s.quotient, n.recipient, n.fee) : T.encodeSweepToken(u.outputAmount.currency.wrapped, s.quotient, n.recipient, n.fee)), i && u.tradeType === c.TradeType.EXACT_OUTPUT && o.push(a.Payments.encodeRefundETH()), {\n      calldata: y.encodeMulticall(o, n.deadlineOrPreviousBlockhash),\n      value: a.toHex(i ? p.quotient : F)\n    };\n  }, t.swapAndAddCallParameters = function (e, n, r, o, u, i) {\n    var p,\n        s = t.encodeSwaps(e, n, !0),\n        d = s.calldatas,\n        l = s.inputIsNative,\n        f = s.outputIsNative,\n        m = s.totalAmountIn,\n        h = s.totalAmountOut,\n        A = s.sampleTrade.route.chainId,\n        w = t.getPositionAmounts(r, r.pool.token0 === m.currency.wrapped),\n        E = w.positionAmountIn,\n        x = w.positionAmountOut,\n        g = l ? c.WETH9[A] : E.currency.wrapped,\n        I = f ? c.WETH9[A] : x.currency.wrapped,\n        P = x.subtract(h.wrapped);\n    return P.greaterThan(c.CurrencyAmount.fromRawAmount(x.currency, 0)) && d.push(f ? T.encodeWrapETH(P.quotient) : T.encodePull(I, P.quotient)), d.push(l ? T.encodeWrapETH(E.quotient) : T.encodePull(g, E.quotient)), u !== exports.ApprovalTypes.NOT_REQUIRED && d.push(v.encodeApprove(g, u)), i !== exports.ApprovalTypes.NOT_REQUIRED && d.push(v.encodeApprove(I, i)), d.push(v.encodeCallPositionManager([a.NonfungiblePositionManager.addCallParameters(r, o).calldata])), d.push(l ? T.encodeUnwrapWETH9(F) : T.encodeSweepToken(g, F)), d.push(f ? T.encodeUnwrapWETH9(F) : T.encodeSweepToken(I, F)), p = l ? m.wrapped.add(E.wrapped).quotient : f ? P.quotient : F, {\n      calldata: y.encodeMulticall(d, n.deadlineOrPreviousBlockhash),\n      value: p.toString()\n    };\n  }, t.getPositionAmounts = function (t, e) {\n    var n = t.mintAmounts,\n        r = n.amount1,\n        o = c.CurrencyAmount.fromRawAmount(t.pool.token0, n.amount0),\n        u = c.CurrencyAmount.fromRawAmount(t.pool.token1, r),\n        a = e ? [o, u] : [u, o];\n    return {\n      positionAmountIn: a[0],\n      positionAmountOut: a[1]\n    };\n  }, t;\n}();\n\nM.INTERFACE = new r.Interface(s.abi), exports.ADDRESS_THIS = f, exports.ApproveAndCall = v, exports.MSG_SENDER = l, exports.MulticallExtended = y, exports.ONE = h, exports.PaymentsExtended = T, exports.RouteV2 = N, exports.RouteV3 = O, exports.SwapRouter = M, exports.Trade = b, exports.ZERO = m;","map":{"version":3,"sources":["../src/approveAndCall.ts","../src/constants.ts","../src/multicallExtended.ts","../src/paymentsExtended.ts","../src/entities/protocol.ts","../node_modules/regenerator-runtime/runtime.js","../src/entities/route.ts","../src/entities/trade.ts","../src/swapRouter.ts"],"names":["ApprovalTypes","ApproveAndCall","Interface","abi","encodeApproveMax","token","INTERFACE","encodeFunctionData","address","encodeApproveMaxMinusOne","encodeApproveZeroThenMax","encodeApproveZeroThenMaxMinusOne","encodeCallPositionManager","calldatas","invariant","length","encodedMulticall","NonfungiblePositionManager","encodeApprove","approvalType","MAX","wrapped","MAX_MINUS_ONE","ZERO_THEN_MAX","ZERO_THEN_MAX_MINUS_ONE","MSG_SENDER","ADDRESS_THIS","ZERO","JSBI","BigInt","ONE","bytes32","match","Error","toLowerCase","MulticallExtended","encodeMulticall","validation","Multicall","Array","isArray","startsWith","previousBlockhash","validateAndParseBytes32","deadline","toHex","encodeFeeBips","fee","multiply","quotient","PaymentsExtended","encodeUnwrapWETH9","amountMinimum","recipient","feeOptions","Payments","feeBips","feeRecipient","validateAndParseAddress","encodeSweepToken","encodePull","amount","encodeWrapETH","Protocol","runtime","exports","Op","Object","prototype","hasOwn","hasOwnProperty","undefined","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","obj","key","value","defineProperty","enumerable","configurable","writable","err","wrap","innerFn","outerFn","self","tryLocsList","Generator","generator","create","context","Context","_invoke","makeInvokeMethod","tryCatch","fn","arg","type","call","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","this","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","displayName","defineIteratorMethods","forEach","method","isGeneratorFunction","genFun","ctor","constructor","name","mark","setPrototypeOf","__proto__","awrap","__await","AsyncIterator","PromiseImpl","invoke","resolve","reject","record","result","then","unwrapped","error","previousPromise","callInvokeWithMethodAndArg","async","Promise","iter","next","done","state","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","TypeError","info","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","keys","object","reverse","pop","iterable","iteratorMethod","isNaN","i","doneResult","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","catch","thrown","delegateYield","module","regeneratorRuntime","accidentalStrictMode","globalThis","Function","RouteV2","V2RouteSDK","V2","v2Route","pairs","input","output","pools","_this","RouteV3","V3RouteSDK","V3","v3Route","path","tokenPath","Trade","v2Routes","v3Routes","tradeType","swaps","routes","routev2","inputAmount","outputAmount","route","routev3","inputCurrency","currency","outputCurrency","every","equals","numPools","map","reduce","total","cur","poolAddressSet","Set","pool","protocol","add","Pool","getAddress","token0","token1","Pair","size","_inputAmount","totalInputFromRoutes","CurrencyAmount","fromRawAmount","_outputAmount","totalOutputFromRoutes","_executionPrice","Price","_priceImpact","spotOutputAmount","midPrice","quote","priceImpact","subtract","divide","Percent","numerator","denominator","minimumAmountOut","slippageTolerance","amountOut","lessThan","TradeType","EXACT_OUTPUT","slippageAdjustedAmountOut","Fraction","invert","maximumAmountIn","amountIn","EXACT_INPUT","slippageAdjustedAmountIn","worstExecutionPrice","fromRoutes","populatedV2Routes","populatedV3Routes","v2Trade","V2TradeSDK","v3Trade","V3TradeSDK","fromRoute","SwapRouter","encodeV2Swap","trade","options","routerMustCustody","performAggregatedSlippageCheck","encodeV3Swap","singleHop","tokenIn","tokenOut","amountOutMinimum","sqrtPriceLimitX96","amountInMaximum","encodeRouteToPath","encodeSwaps","trades","isSwapAndAdd","swap","v2Andv3Trades","V2Trade","V3Trade","createUncheckedTrade","numberOfTrades","sampleTrade","inputIsNative","isNative","outputIsNative","inputTokenPermit","isToken","SelfPermit","encodePermit","ZERO_IN","ZERO_OUT","totalAmountOut","sum","totalAmountIn","swapCallParameters","encodeRefundETH","calldata","deadlineOrPreviousBlockhash","swapAndAddCallParameters","position","addLiquidityOptions","tokenInApprovalType","tokenOutApprovalType","totalAmountSwapped","chainId","positionAmountIn","positionAmountOut","getPositionAmounts","WETH9","amountOutRemaining","greaterThan","NOT_REQUIRED","addCallParameters","toString","zeroForOne","amount0","amount1","mintAmounts","currencyAmount0","currencyAmount1"],"mappings":"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","sourcesContent":["import { Interface } from '@ethersproject/abi'\nimport invariant from 'tiny-invariant'\nimport { abi } from '@uniswap/swap-router-contracts/artifacts/contracts/interfaces/IApproveAndCall.sol/IApproveAndCall.json'\nimport { Currency, Token } from '@uniswap/sdk-core'\nimport { NonfungiblePositionManager } from '@uniswap/v3-sdk'\n\nexport enum ApprovalTypes {\n  NOT_REQUIRED = 0,\n  MAX = 1,\n  MAX_MINUS_ONE = 2,\n  ZERO_THEN_MAX = 3,\n  ZERO_THEN_MAX_MINUS_ONE = 4,\n}\n\nexport abstract class ApproveAndCall {\n  public static INTERFACE: Interface = new Interface(abi)\n\n  /**\n   * Cannot be constructed.\n   */\n  private constructor() {}\n\n  public static encodeApproveMax(token: Token): string {\n    return ApproveAndCall.INTERFACE.encodeFunctionData('approveMax', [token.address])\n  }\n\n  public static encodeApproveMaxMinusOne(token: Token): string {\n    return ApproveAndCall.INTERFACE.encodeFunctionData('approveMaxMinusOne', [token.address])\n  }\n\n  public static encodeApproveZeroThenMax(token: Token): string {\n    return ApproveAndCall.INTERFACE.encodeFunctionData('approveZeroThenMax', [token.address])\n  }\n\n  public static encodeApproveZeroThenMaxMinusOne(token: Token): string {\n    return ApproveAndCall.INTERFACE.encodeFunctionData('approveZeroThenMaxMinusOne', [token.address])\n  }\n\n  public static encodeCallPositionManager(calldatas: string[]): string {\n    invariant(calldatas.length > 0, 'NULL_CALLDATA')\n\n    if (calldatas.length == 1) {\n      return ApproveAndCall.INTERFACE.encodeFunctionData('callPositionManager', calldatas)\n    } else {\n      const encodedMulticall = NonfungiblePositionManager.INTERFACE.encodeFunctionData('multicall', [calldatas])\n      return ApproveAndCall.INTERFACE.encodeFunctionData('callPositionManager', [encodedMulticall])\n    }\n  }\n\n  public static encodeApprove(token: Currency, approvalType: ApprovalTypes): string {\n    switch (approvalType) {\n      case ApprovalTypes.MAX:\n        return ApproveAndCall.encodeApproveMax(token.wrapped)\n      case ApprovalTypes.MAX_MINUS_ONE:\n        return ApproveAndCall.encodeApproveMaxMinusOne(token.wrapped)\n      case ApprovalTypes.ZERO_THEN_MAX:\n        return ApproveAndCall.encodeApproveZeroThenMax(token.wrapped)\n      case ApprovalTypes.ZERO_THEN_MAX_MINUS_ONE:\n        return ApproveAndCall.encodeApproveZeroThenMaxMinusOne(token.wrapped)\n      default:\n        throw 'Error: invalid ApprovalType'\n    }\n  }\n}\n","import JSBI from 'jsbi'\n\nexport const MSG_SENDER = '0x0000000000000000000000000000000000000001'\nexport const ADDRESS_THIS = '0x0000000000000000000000000000000000000002'\n\nexport const ZERO = JSBI.BigInt(0)\nexport const ONE = JSBI.BigInt(1)\n","import { Interface } from '@ethersproject/abi'\nimport { BigintIsh } from '@uniswap/sdk-core'\nimport { abi } from '@uniswap/swap-router-contracts/artifacts/contracts/interfaces/IMulticallExtended.sol/IMulticallExtended.json'\nimport { Multicall, toHex } from '@uniswap/v3-sdk'\n\n// deadline or previousBlockhash\nexport type Validation = BigintIsh | string\n\nfunction validateAndParseBytes32(bytes32: string): string {\n  if (!bytes32.match(/^0x[0-9a-fA-F]{64}$/)) {\n    throw new Error(`${bytes32} is not valid bytes32.`)\n  }\n\n  return bytes32.toLowerCase()\n}\n\nexport abstract class MulticallExtended {\n  public static INTERFACE: Interface = new Interface(abi)\n\n  /**\n   * Cannot be constructed.\n   */\n  private constructor() {}\n\n  public static encodeMulticall(calldatas: string | string[], validation?: Validation): string {\n    // if there's no validation, we can just fall back to regular multicall\n    if (typeof validation === 'undefined') {\n      return Multicall.encodeMulticall(calldatas)\n    }\n\n    // if there is validation, we have to normalize calldatas\n    if (!Array.isArray(calldatas)) {\n      calldatas = [calldatas]\n    }\n\n    // this means the validation value should be a previousBlockhash\n    if (typeof validation === 'string' && validation.startsWith('0x')) {\n      const previousBlockhash = validateAndParseBytes32(validation)\n      return MulticallExtended.INTERFACE.encodeFunctionData('multicall(bytes32,bytes[])', [\n        previousBlockhash,\n        calldatas,\n      ])\n    } else {\n      const deadline = toHex(validation)\n      return MulticallExtended.INTERFACE.encodeFunctionData('multicall(uint256,bytes[])', [deadline, calldatas])\n    }\n  }\n}\n","import { Interface } from '@ethersproject/abi'\nimport { Percent, Token, validateAndParseAddress } from '@uniswap/sdk-core'\nimport { abi } from '@uniswap/swap-router-contracts/artifacts/contracts/interfaces/IPeripheryPaymentsWithFeeExtended.sol/IPeripheryPaymentsWithFeeExtended.json'\nimport { FeeOptions, Payments, toHex } from '@uniswap/v3-sdk'\nimport JSBI from 'jsbi'\n\nfunction encodeFeeBips(fee: Percent): string {\n  return toHex(fee.multiply(10_000).quotient)\n}\n\nexport abstract class PaymentsExtended {\n  public static INTERFACE: Interface = new Interface(abi)\n\n  /**\n   * Cannot be constructed.\n   */\n  private constructor() {}\n\n  public static encodeUnwrapWETH9(amountMinimum: JSBI, recipient?: string, feeOptions?: FeeOptions): string {\n    // if there's a recipient, just pass it along\n    if (typeof recipient === 'string') {\n      return Payments.encodeUnwrapWETH9(amountMinimum, recipient, feeOptions)\n    }\n\n    if (!!feeOptions) {\n      const feeBips = encodeFeeBips(feeOptions.fee)\n      const feeRecipient = validateAndParseAddress(feeOptions.recipient)\n\n      return PaymentsExtended.INTERFACE.encodeFunctionData('unwrapWETH9WithFee(uint256,uint256,address)', [\n        toHex(amountMinimum),\n        feeBips,\n        feeRecipient,\n      ])\n    } else {\n      return PaymentsExtended.INTERFACE.encodeFunctionData('unwrapWETH9(uint256)', [toHex(amountMinimum)])\n    }\n  }\n\n  public static encodeSweepToken(\n    token: Token,\n    amountMinimum: JSBI,\n    recipient?: string,\n    feeOptions?: FeeOptions\n  ): string {\n    // if there's a recipient, just pass it along\n    if (typeof recipient === 'string') {\n      return Payments.encodeSweepToken(token, amountMinimum, recipient, feeOptions)\n    }\n\n    if (!!feeOptions) {\n      const feeBips = encodeFeeBips(feeOptions.fee)\n      const feeRecipient = validateAndParseAddress(feeOptions.recipient)\n\n      return PaymentsExtended.INTERFACE.encodeFunctionData('sweepTokenWithFee(address,uint256,uint256,address)', [\n        token.address,\n        toHex(amountMinimum),\n        feeBips,\n        feeRecipient,\n      ])\n    } else {\n      return PaymentsExtended.INTERFACE.encodeFunctionData('sweepToken(address,uint256)', [\n        token.address,\n        toHex(amountMinimum),\n      ])\n    }\n  }\n\n  public static encodePull(token: Token, amount: JSBI): string {\n    return PaymentsExtended.INTERFACE.encodeFunctionData('pull', [token.address, toHex(amount)])\n  }\n\n  public static encodeWrapETH(amount: JSBI): string {\n    return PaymentsExtended.INTERFACE.encodeFunctionData('wrapETH', [toHex(amount)])\n  }\n}\n","export enum Protocol {\n  V2 = 'V2',\n  V3 = 'V3',\n}\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = GeneratorFunctionPrototype;\n  define(Gp, \"constructor\", GeneratorFunctionPrototype);\n  define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction);\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  });\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  define(Gp, iteratorSymbol, function() {\n    return this;\n  });\n\n  define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  });\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, in modern engines\n  // we can explicitly access globalThis. In older engines we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","import { Route as V2RouteSDK, Pair } from '@uniswap/v2-sdk'\nimport { Route as V3RouteSDK, Pool } from '@uniswap/v3-sdk'\nimport { Protocol } from './protocol'\nimport { Currency, Price, Token } from '@uniswap/sdk-core'\n\nexport interface IRoute<TInput extends Currency, TOutput extends Currency, TPool extends Pool | Pair> {\n  protocol: Protocol\n  // array of pools if v3 or pairs if v2\n  pools: TPool[]\n  path: Token[]\n  midPrice: Price<TInput, TOutput>\n  input: TInput\n  output: TOutput\n}\n\n// V2 route wrapper\nexport class RouteV2<TInput extends Currency, TOutput extends Currency>\n  extends V2RouteSDK<TInput, TOutput>\n  implements IRoute<TInput, TOutput, Pair>\n{\n  public readonly protocol: Protocol = Protocol.V2\n  public readonly pools: Pair[]\n\n  constructor(v2Route: V2RouteSDK<TInput, TOutput>) {\n    super(v2Route.pairs, v2Route.input, v2Route.output)\n    this.pools = this.pairs\n  }\n}\n\n// V3 route wrapper\nexport class RouteV3<TInput extends Currency, TOutput extends Currency>\n  extends V3RouteSDK<TInput, TOutput>\n  implements IRoute<TInput, TOutput, Pool>\n{\n  public readonly protocol: Protocol = Protocol.V3\n  public readonly path: Token[]\n\n  constructor(v3Route: V3RouteSDK<TInput, TOutput>) {\n    super(v3Route.pools, v3Route.input, v3Route.output)\n    this.path = v3Route.tokenPath\n  }\n}\n","import { Currency, CurrencyAmount, Fraction, Percent, Price, TradeType } from '@uniswap/sdk-core'\nimport { Pair, Route as V2RouteSDK, Trade as V2TradeSDK } from '@uniswap/v2-sdk'\nimport { Pool, Route as V3RouteSDK, Trade as V3TradeSDK } from '@uniswap/v3-sdk'\nimport invariant from 'tiny-invariant'\nimport { ONE, ZERO } from '../constants'\nimport { Protocol } from './protocol'\nimport { IRoute, RouteV2, RouteV3 } from './route'\n\nexport class Trade<TInput extends Currency, TOutput extends Currency, TTradeType extends TradeType> {\n  public readonly routes: IRoute<TInput, TOutput, Pair | Pool>[]\n  public readonly tradeType: TTradeType\n  private _outputAmount: CurrencyAmount<TOutput> | undefined\n  private _inputAmount: CurrencyAmount<TInput> | undefined\n\n  /**\n   * The swaps of the trade, i.e. which routes and how much is swapped in each that\n   * make up the trade. May consist of swaps in v2 or v3.\n   */\n  public readonly swaps: {\n    route: IRoute<TInput, TOutput, Pair | Pool>\n    inputAmount: CurrencyAmount<TInput>\n    outputAmount: CurrencyAmount<TOutput>\n  }[]\n\n  //  construct a trade across v2 and v3 routes from pre-computed amounts\n  public constructor({\n    v2Routes,\n    v3Routes,\n    tradeType,\n  }: {\n    v2Routes: {\n      routev2: V2RouteSDK<TInput, TOutput>\n      inputAmount: CurrencyAmount<TInput>\n      outputAmount: CurrencyAmount<TOutput>\n    }[]\n    v3Routes: {\n      routev3: V3RouteSDK<TInput, TOutput>\n      inputAmount: CurrencyAmount<TInput>\n      outputAmount: CurrencyAmount<TOutput>\n    }[]\n    tradeType: TTradeType\n  }) {\n    this.swaps = []\n    this.routes = []\n    // wrap v2 routes\n    for (const { routev2, inputAmount, outputAmount } of v2Routes) {\n      const route = new RouteV2(routev2)\n      this.routes.push(route)\n      this.swaps.push({\n        route,\n        inputAmount,\n        outputAmount,\n      })\n    }\n    // wrap v3 routes\n    for (const { routev3, inputAmount, outputAmount } of v3Routes) {\n      const route = new RouteV3(routev3)\n      this.routes.push(route)\n      this.swaps.push({\n        route,\n        inputAmount,\n        outputAmount,\n      })\n    }\n    this.tradeType = tradeType\n\n    // each route must have the same input and output currency\n    const inputCurrency = this.swaps[0].inputAmount.currency\n    const outputCurrency = this.swaps[0].outputAmount.currency\n    invariant(\n      this.swaps.every(({ route }) => inputCurrency.wrapped.equals(route.input.wrapped)),\n      'INPUT_CURRENCY_MATCH'\n    )\n    invariant(\n      this.swaps.every(({ route }) => outputCurrency.wrapped.equals(route.output.wrapped)),\n      'OUTPUT_CURRENCY_MATCH'\n    )\n\n    // pools must be unique inter protocols\n    const numPools = this.swaps.map(({ route }) => route.pools.length).reduce((total, cur) => total + cur, 0)\n    const poolAddressSet = new Set<string>()\n    for (const { route } of this.swaps) {\n      for (const pool of route.pools) {\n        if (route.protocol == Protocol.V3) {\n          poolAddressSet.add(Pool.getAddress(pool.token0, pool.token1, (pool as Pool).fee))\n        } else {\n          const pair = pool\n          poolAddressSet.add(Pair.getAddress(pair.token0, pair.token1))\n        }\n      }\n    }\n    invariant(numPools == poolAddressSet.size, 'POOLS_DUPLICATED')\n  }\n\n  public get inputAmount(): CurrencyAmount<TInput> {\n    if (this._inputAmount) {\n      return this._inputAmount\n    }\n\n    const inputCurrency = this.swaps[0].inputAmount.currency\n    const totalInputFromRoutes = this.swaps\n      .map(({ inputAmount }) => inputAmount)\n      .reduce((total, cur) => total.add(cur), CurrencyAmount.fromRawAmount(inputCurrency, 0))\n\n    this._inputAmount = totalInputFromRoutes\n    return this._inputAmount\n  }\n\n  public get outputAmount(): CurrencyAmount<TOutput> {\n    if (this._outputAmount) {\n      return this._outputAmount\n    }\n\n    const outputCurrency = this.swaps[0].outputAmount.currency\n    const totalOutputFromRoutes = this.swaps\n      .map(({ outputAmount }) => outputAmount)\n      .reduce((total, cur) => total.add(cur), CurrencyAmount.fromRawAmount(outputCurrency, 0))\n\n    this._outputAmount = totalOutputFromRoutes\n    return this._outputAmount\n  }\n\n  private _executionPrice: Price<TInput, TOutput> | undefined\n\n  /**\n   * The price expressed in terms of output amount/input amount.\n   */\n  public get executionPrice(): Price<TInput, TOutput> {\n    return (\n      this._executionPrice ??\n      (this._executionPrice = new Price(\n        this.inputAmount.currency,\n        this.outputAmount.currency,\n        this.inputAmount.quotient,\n        this.outputAmount.quotient\n      ))\n    )\n  }\n\n  /**\n   * The cached result of the price impact computation\n   * @private\n   */\n  private _priceImpact: Percent | undefined\n  /**\n   * Returns the percent difference between the route's mid price and the price impact\n   */\n  public get priceImpact(): Percent {\n    if (this._priceImpact) {\n      return this._priceImpact\n    }\n\n    let spotOutputAmount = CurrencyAmount.fromRawAmount(this.outputAmount.currency, 0)\n    for (const { route, inputAmount } of this.swaps) {\n      const midPrice = route.midPrice\n      spotOutputAmount = spotOutputAmount.add(midPrice.quote(inputAmount))\n    }\n\n    const priceImpact = spotOutputAmount.subtract(this.outputAmount).divide(spotOutputAmount)\n    this._priceImpact = new Percent(priceImpact.numerator, priceImpact.denominator)\n\n    return this._priceImpact\n  }\n\n  /**\n   * Get the minimum amount that must be received from this trade for the given slippage tolerance\n   * @param slippageTolerance The tolerance of unfavorable slippage from the execution price of this trade\n   * @returns The amount out\n   */\n  public minimumAmountOut(slippageTolerance: Percent, amountOut = this.outputAmount): CurrencyAmount<TOutput> {\n    invariant(!slippageTolerance.lessThan(ZERO), 'SLIPPAGE_TOLERANCE')\n    if (this.tradeType === TradeType.EXACT_OUTPUT) {\n      return amountOut\n    } else {\n      const slippageAdjustedAmountOut = new Fraction(ONE)\n        .add(slippageTolerance)\n        .invert()\n        .multiply(amountOut.quotient).quotient\n      return CurrencyAmount.fromRawAmount(amountOut.currency, slippageAdjustedAmountOut)\n    }\n  }\n\n  /**\n   * Get the maximum amount in that can be spent via this trade for the given slippage tolerance\n   * @param slippageTolerance The tolerance of unfavorable slippage from the execution price of this trade\n   * @returns The amount in\n   */\n  public maximumAmountIn(slippageTolerance: Percent, amountIn = this.inputAmount): CurrencyAmount<TInput> {\n    invariant(!slippageTolerance.lessThan(ZERO), 'SLIPPAGE_TOLERANCE')\n    if (this.tradeType === TradeType.EXACT_INPUT) {\n      return amountIn\n    } else {\n      const slippageAdjustedAmountIn = new Fraction(ONE).add(slippageTolerance).multiply(amountIn.quotient).quotient\n      return CurrencyAmount.fromRawAmount(amountIn.currency, slippageAdjustedAmountIn)\n    }\n  }\n\n  /**\n   * Return the execution price after accounting for slippage tolerance\n   * @param slippageTolerance the allowed tolerated slippage\n   * @returns The execution price\n   */\n  public worstExecutionPrice(slippageTolerance: Percent): Price<TInput, TOutput> {\n    return new Price(\n      this.inputAmount.currency,\n      this.outputAmount.currency,\n      this.maximumAmountIn(slippageTolerance).quotient,\n      this.minimumAmountOut(slippageTolerance).quotient\n    )\n  }\n\n  public static async fromRoutes<TInput extends Currency, TOutput extends Currency, TTradeType extends TradeType>(\n    v2Routes: {\n      routev2: V2RouteSDK<TInput, TOutput>\n      amount: TTradeType extends TradeType.EXACT_INPUT ? CurrencyAmount<TInput> : CurrencyAmount<TOutput>\n    }[],\n    v3Routes: {\n      routev3: V3RouteSDK<TInput, TOutput>\n      amount: TTradeType extends TradeType.EXACT_INPUT ? CurrencyAmount<TInput> : CurrencyAmount<TOutput>\n    }[],\n    tradeType: TTradeType\n  ): Promise<Trade<TInput, TOutput, TTradeType>> {\n    const populatedV2Routes: {\n      routev2: V2RouteSDK<TInput, TOutput>\n      inputAmount: CurrencyAmount<TInput>\n      outputAmount: CurrencyAmount<TOutput>\n    }[] = []\n\n    const populatedV3Routes: {\n      routev3: V3RouteSDK<TInput, TOutput>\n      inputAmount: CurrencyAmount<TInput>\n      outputAmount: CurrencyAmount<TOutput>\n    }[] = []\n\n    for (const { routev2, amount } of v2Routes) {\n      const v2Trade = new V2TradeSDK(routev2, amount, tradeType)\n      const { inputAmount, outputAmount } = v2Trade\n\n      populatedV2Routes.push({\n        routev2,\n        inputAmount,\n        outputAmount,\n      })\n    }\n\n    for (const { routev3, amount } of v3Routes) {\n      const v3Trade = await V3TradeSDK.fromRoute(routev3, amount, tradeType)\n      const { inputAmount, outputAmount } = v3Trade\n\n      populatedV3Routes.push({\n        routev3,\n        inputAmount,\n        outputAmount,\n      })\n    }\n\n    return new Trade({\n      v2Routes: populatedV2Routes,\n      v3Routes: populatedV3Routes,\n      tradeType,\n    })\n  }\n\n  public static async fromRoute<TInput extends Currency, TOutput extends Currency, TTradeType extends TradeType>(\n    route: V2RouteSDK<TInput, TOutput> | V3RouteSDK<TInput, TOutput>,\n    amount: TTradeType extends TradeType.EXACT_INPUT ? CurrencyAmount<TInput> : CurrencyAmount<TOutput>,\n    tradeType: TTradeType\n  ): Promise<Trade<TInput, TOutput, TTradeType>> {\n    let v2Routes: {\n      routev2: V2RouteSDK<TInput, TOutput>\n      inputAmount: CurrencyAmount<TInput>\n      outputAmount: CurrencyAmount<TOutput>\n    }[]\n\n    let v3Routes: {\n      routev3: V3RouteSDK<TInput, TOutput>\n      inputAmount: CurrencyAmount<TInput>\n      outputAmount: CurrencyAmount<TOutput>\n    }[]\n\n    if (route instanceof V2RouteSDK) {\n      const v2Trade = new V2TradeSDK(route, amount, tradeType)\n      const { inputAmount, outputAmount } = v2Trade\n      v2Routes = [{ routev2: route, inputAmount, outputAmount }]\n      v3Routes = []\n    } else {\n      const v3Trade = await V3TradeSDK.fromRoute(route, amount, tradeType)\n      const { inputAmount, outputAmount } = v3Trade\n      v3Routes = [{ routev3: route, inputAmount, outputAmount }]\n      v2Routes = []\n    }\n    return new Trade({\n      v2Routes,\n      v3Routes,\n      tradeType,\n    })\n  }\n}\n","import { Interface } from '@ethersproject/abi'\nimport { Currency, CurrencyAmount, Percent, TradeType, validateAndParseAddress, WETH9 } from '@uniswap/sdk-core'\nimport { abi } from '@uniswap/swap-router-contracts/artifacts/contracts/interfaces/ISwapRouter02.sol/ISwapRouter02.json'\nimport { Trade as V2Trade } from '@uniswap/v2-sdk'\nimport {\n  AddLiquidityOptions,\n  encodeRouteToPath,\n  FeeOptions,\n  MethodParameters,\n  NonfungiblePositionManager,\n  Payments,\n  PermitOptions,\n  Position,\n  SelfPermit,\n  toHex,\n  Trade as V3Trade,\n} from '@uniswap/v3-sdk'\nimport invariant from 'tiny-invariant'\nimport JSBI from 'jsbi'\nimport { ADDRESS_THIS, MSG_SENDER } from './constants'\nimport { ApproveAndCall, ApprovalTypes } from './approveAndCall'\nimport { Trade } from './entities/trade'\nimport { Protocol } from './entities/protocol'\nimport { RouteV2, RouteV3 } from './entities/route'\nimport { MulticallExtended, Validation } from './multicallExtended'\nimport { PaymentsExtended } from './paymentsExtended'\n\nconst ZERO = JSBI.BigInt(0)\n\n/**\n * Options for producing the arguments to send calls to the router.\n */\nexport interface SwapOptions {\n  /**\n   * How much the execution price is allowed to move unfavorably from the trade execution price.\n   */\n  slippageTolerance: Percent\n\n  /**\n   * The account that should receive the output. If omitted, output is sent to msg.sender.\n   */\n  recipient?: string\n\n  /**\n   * Either deadline (when the transaction expires, in epoch seconds), or previousBlockhash.\n   */\n  deadlineOrPreviousBlockhash?: Validation\n\n  /**\n   * The optional permit parameters for spending the input.\n   */\n  inputTokenPermit?: PermitOptions\n\n  /**\n   * Optional information for taking a fee on output.\n   */\n  fee?: FeeOptions\n}\n\n/**\n * Represents the Uniswap V2 + V3 SwapRouter02, and has static methods for helping execute trades.\n */\nexport abstract class SwapRouter {\n  public static INTERFACE: Interface = new Interface(abi)\n\n  /**\n   * Cannot be constructed.\n   */\n  private constructor() {}\n\n  private static encodeV2Swap(\n    trade: V2Trade<Currency, Currency, TradeType>,\n    options: SwapOptions,\n    routerMustCustody: boolean,\n    performAggregatedSlippageCheck: boolean\n  ): string {\n    const amountIn: string = toHex(trade.maximumAmountIn(options.slippageTolerance).quotient)\n    const amountOut: string = toHex(trade.minimumAmountOut(options.slippageTolerance).quotient)\n\n    const path = trade.route.path.map((token) => token.address)\n    const recipient = routerMustCustody\n      ? ADDRESS_THIS\n      : typeof options.recipient === 'undefined'\n      ? MSG_SENDER\n      : validateAndParseAddress(options.recipient)\n\n    if (trade.tradeType === TradeType.EXACT_INPUT) {\n      const exactInputParams = [amountIn, performAggregatedSlippageCheck ? 0 : amountOut, path, recipient]\n\n      return SwapRouter.INTERFACE.encodeFunctionData('swapExactTokensForTokens', exactInputParams)\n    } else {\n      const exactOutputParams = [amountOut, amountIn, path, recipient]\n\n      return SwapRouter.INTERFACE.encodeFunctionData('swapTokensForExactTokens', exactOutputParams)\n    }\n  }\n\n  private static encodeV3Swap(\n    trade: V3Trade<Currency, Currency, TradeType>,\n    options: SwapOptions,\n    routerMustCustody: boolean,\n    performAggregatedSlippageCheck: boolean\n  ): string[] {\n    const calldatas: string[] = []\n\n    for (const { route, inputAmount, outputAmount } of trade.swaps) {\n      const amountIn: string = toHex(trade.maximumAmountIn(options.slippageTolerance, inputAmount).quotient)\n      const amountOut: string = toHex(trade.minimumAmountOut(options.slippageTolerance, outputAmount).quotient)\n\n      // flag for whether the trade is single hop or not\n      const singleHop = route.pools.length === 1\n\n      const recipient = routerMustCustody\n        ? ADDRESS_THIS\n        : typeof options.recipient === 'undefined'\n        ? MSG_SENDER\n        : validateAndParseAddress(options.recipient)\n\n      if (singleHop) {\n        if (trade.tradeType === TradeType.EXACT_INPUT) {\n          const exactInputSingleParams = {\n            tokenIn: route.tokenPath[0].address,\n            tokenOut: route.tokenPath[1].address,\n            fee: route.pools[0].fee,\n            recipient,\n            amountIn,\n            amountOutMinimum: performAggregatedSlippageCheck ? 0 : amountOut,\n            sqrtPriceLimitX96: 0,\n          }\n\n          calldatas.push(SwapRouter.INTERFACE.encodeFunctionData('exactInputSingle', [exactInputSingleParams]))\n        } else {\n          const exactOutputSingleParams = {\n            tokenIn: route.tokenPath[0].address,\n            tokenOut: route.tokenPath[1].address,\n            fee: route.pools[0].fee,\n            recipient,\n            amountOut,\n            amountInMaximum: amountIn,\n            sqrtPriceLimitX96: 0,\n          }\n\n          calldatas.push(SwapRouter.INTERFACE.encodeFunctionData('exactOutputSingle', [exactOutputSingleParams]))\n        }\n      } else {\n        const path: string = encodeRouteToPath(route, trade.tradeType === TradeType.EXACT_OUTPUT)\n\n        if (trade.tradeType === TradeType.EXACT_INPUT) {\n          const exactInputParams = {\n            path,\n            recipient,\n            amountIn,\n            amountOutMinimum: performAggregatedSlippageCheck ? 0 : amountOut,\n          }\n\n          calldatas.push(SwapRouter.INTERFACE.encodeFunctionData('exactInput', [exactInputParams]))\n        } else {\n          const exactOutputParams = {\n            path,\n            recipient,\n            amountOut,\n            amountInMaximum: amountIn,\n          }\n\n          calldatas.push(SwapRouter.INTERFACE.encodeFunctionData('exactOutput', [exactOutputParams]))\n        }\n      }\n    }\n\n    return calldatas\n  }\n\n  private static encodeSwaps(\n    trades:\n      | Trade<Currency, Currency, TradeType>\n      | V2Trade<Currency, Currency, TradeType>\n      | V3Trade<Currency, Currency, TradeType>\n      | (V2Trade<Currency, Currency, TradeType> | V3Trade<Currency, Currency, TradeType>)[],\n    options: SwapOptions,\n    isSwapAndAdd?: boolean\n  ): {\n    calldatas: string[]\n    sampleTrade: V2Trade<Currency, Currency, TradeType> | V3Trade<Currency, Currency, TradeType>\n    routerMustCustody: boolean\n    inputIsNative: boolean\n    outputIsNative: boolean\n    totalAmountIn: CurrencyAmount<Currency>\n    totalAmountOut: CurrencyAmount<Currency>\n  } {\n    // If dealing with an instance of the aggregated Trade object, unbundle it to individual V2Trade and V3Trade objects.\n    if (trades instanceof Trade) {\n      invariant(\n        trades.swaps.every((swap) => swap.route.protocol == Protocol.V3 || swap.route.protocol == Protocol.V2),\n        'UNSUPPORTED_PROTOCOL'\n      )\n\n      let v2Andv3Trades: (V2Trade<Currency, Currency, TradeType> | V3Trade<Currency, Currency, TradeType>)[] = []\n\n      for (const { route, inputAmount, outputAmount } of trades.swaps) {\n        if (route.protocol == Protocol.V2) {\n          v2Andv3Trades.push(\n            new V2Trade(\n              route as RouteV2<Currency, Currency>,\n              trades.tradeType == TradeType.EXACT_INPUT ? inputAmount : outputAmount,\n              trades.tradeType\n            )\n          )\n        } else if (route.protocol == Protocol.V3) {\n          v2Andv3Trades.push(\n            V3Trade.createUncheckedTrade({\n              route: route as RouteV3<Currency, Currency>,\n              inputAmount,\n              outputAmount,\n              tradeType: trades.tradeType,\n            })\n          )\n        }\n      }\n      trades = v2Andv3Trades\n    }\n\n    if (!Array.isArray(trades)) {\n      trades = [trades]\n    }\n\n    const numberOfTrades = trades.reduce(\n      (numberOfTrades, trade) => numberOfTrades + (trade instanceof V3Trade ? trade.swaps.length : 1),\n      0\n    )\n\n    const sampleTrade = trades[0]\n\n    // All trades should have the same starting/ending currency and trade type\n    invariant(\n      trades.every((trade) => trade.inputAmount.currency.equals(sampleTrade.inputAmount.currency)),\n      'TOKEN_IN_DIFF'\n    )\n    invariant(\n      trades.every((trade) => trade.outputAmount.currency.equals(sampleTrade.outputAmount.currency)),\n      'TOKEN_OUT_DIFF'\n    )\n    invariant(\n      trades.every((trade) => trade.tradeType === sampleTrade.tradeType),\n      'TRADE_TYPE_DIFF'\n    )\n\n    const calldatas: string[] = []\n\n    const inputIsNative = sampleTrade.inputAmount.currency.isNative\n    const outputIsNative = sampleTrade.outputAmount.currency.isNative\n\n    // flag for whether we want to perform an aggregated slippage check\n    //   1. when there are >2 exact input trades. this is only a heuristic,\n    //      as it's still more gas-expensive even in this case, but has benefits\n    //      in that the reversion probability is lower\n    const performAggregatedSlippageCheck = sampleTrade.tradeType === TradeType.EXACT_INPUT && numberOfTrades > 2\n    // flag for whether funds should be send first to the router\n    //   1. when receiving ETH (which much be unwrapped from WETH)\n    //   2. when a fee on the output is being taken\n    //   3. when performing swap and add\n    //   4. when performing an aggregated slippage check\n    const routerMustCustody = outputIsNative || !!options.fee || !!isSwapAndAdd || performAggregatedSlippageCheck\n\n    // encode permit if necessary\n    if (options.inputTokenPermit) {\n      invariant(sampleTrade.inputAmount.currency.isToken, 'NON_TOKEN_PERMIT')\n      calldatas.push(SelfPermit.encodePermit(sampleTrade.inputAmount.currency, options.inputTokenPermit))\n    }\n\n    for (const trade of trades) {\n      if (trade instanceof V2Trade) {\n        calldatas.push(SwapRouter.encodeV2Swap(trade, options, routerMustCustody, performAggregatedSlippageCheck))\n      } else {\n        for (const calldata of SwapRouter.encodeV3Swap(\n          trade,\n          options,\n          routerMustCustody,\n          performAggregatedSlippageCheck\n        )) {\n          calldatas.push(calldata)\n        }\n      }\n    }\n\n    const ZERO_IN: CurrencyAmount<Currency> = CurrencyAmount.fromRawAmount(sampleTrade.inputAmount.currency, 0)\n    const ZERO_OUT: CurrencyAmount<Currency> = CurrencyAmount.fromRawAmount(sampleTrade.outputAmount.currency, 0)\n\n    const totalAmountOut: CurrencyAmount<Currency> = trades.reduce(\n      (sum, trade) => sum.add(trade.minimumAmountOut(options.slippageTolerance)),\n      ZERO_OUT\n    )\n\n    const totalAmountIn: CurrencyAmount<Currency> = trades.reduce(\n      (sum, trade) => sum.add(trade.maximumAmountIn(options.slippageTolerance)),\n      ZERO_IN\n    )\n\n    return { calldatas, sampleTrade, routerMustCustody, inputIsNative, outputIsNative, totalAmountIn, totalAmountOut }\n  }\n\n  /**\n   * Produces the on-chain method name to call and the hex encoded parameters to pass as arguments for a given trade.\n   * @param trade to produce call parameters for\n   * @param options options for the call parameters\n   */\n  public static swapCallParameters(\n    trades:\n      | Trade<Currency, Currency, TradeType>\n      | V2Trade<Currency, Currency, TradeType>\n      | V3Trade<Currency, Currency, TradeType>\n      | (V2Trade<Currency, Currency, TradeType> | V3Trade<Currency, Currency, TradeType>)[],\n    options: SwapOptions\n  ): MethodParameters {\n    const { calldatas, sampleTrade, routerMustCustody, inputIsNative, outputIsNative, totalAmountIn, totalAmountOut } =\n      SwapRouter.encodeSwaps(trades, options)\n\n    // unwrap or sweep\n    if (routerMustCustody) {\n      if (outputIsNative) {\n        calldatas.push(PaymentsExtended.encodeUnwrapWETH9(totalAmountOut.quotient, options.recipient, options.fee))\n      } else {\n        calldatas.push(\n          PaymentsExtended.encodeSweepToken(\n            sampleTrade.outputAmount.currency.wrapped,\n            totalAmountOut.quotient,\n            options.recipient,\n            options.fee\n          )\n        )\n      }\n    }\n\n    // must refund when paying in ETH, but with an uncertain input amount\n    if (inputIsNative && sampleTrade.tradeType === TradeType.EXACT_OUTPUT) {\n      calldatas.push(Payments.encodeRefundETH())\n    }\n\n    return {\n      calldata: MulticallExtended.encodeMulticall(calldatas, options.deadlineOrPreviousBlockhash),\n      value: toHex(inputIsNative ? totalAmountIn.quotient : ZERO),\n    }\n  }\n\n  /**\n   * Produces the on-chain method name to call and the hex encoded parameters to pass as arguments for a given trade.\n   * @param trade to produce call parameters for\n   * @param options options for the call parameters\n   */\n  public static swapAndAddCallParameters(\n    trades:\n      | Trade<Currency, Currency, TradeType>\n      | V2Trade<Currency, Currency, TradeType>\n      | V3Trade<Currency, Currency, TradeType>\n      | (V2Trade<Currency, Currency, TradeType> | V3Trade<Currency, Currency, TradeType>)[],\n    options: SwapOptions,\n    position: Position,\n    addLiquidityOptions: AddLiquidityOptions,\n    tokenInApprovalType: ApprovalTypes,\n    tokenOutApprovalType: ApprovalTypes\n  ): MethodParameters {\n    const {\n      calldatas,\n      inputIsNative,\n      outputIsNative,\n      sampleTrade,\n      totalAmountIn: totalAmountSwapped,\n      totalAmountOut,\n    } = SwapRouter.encodeSwaps(trades, options, true)\n\n    const chainId = sampleTrade.route.chainId\n    const zeroForOne = position.pool.token0 === totalAmountSwapped.currency.wrapped\n    const { positionAmountIn, positionAmountOut } = SwapRouter.getPositionAmounts(position, zeroForOne)\n\n    // if tokens are native they will be converted to WETH9\n    const tokenIn = inputIsNative ? WETH9[chainId] : positionAmountIn.currency.wrapped\n    const tokenOut = outputIsNative ? WETH9[chainId] : positionAmountOut.currency.wrapped\n\n    // if swap output does not make up whole outputTokenBalanceDesired, pull in remaining tokens for adding liquidity\n    const amountOutRemaining = positionAmountOut.subtract(totalAmountOut.wrapped)\n    if (amountOutRemaining.greaterThan(CurrencyAmount.fromRawAmount(positionAmountOut.currency, 0))) {\n      // if output is native, this means the remaining portion is included as native value in the transaction\n      // and must be wrapped. Otherwise, pull in remaining ERC20 token.\n      outputIsNative\n        ? calldatas.push(PaymentsExtended.encodeWrapETH(amountOutRemaining.quotient))\n        : calldatas.push(PaymentsExtended.encodePull(tokenOut, amountOutRemaining.quotient))\n    }\n\n    // if input is native, convert to WETH9, else pull ERC20 token\n    inputIsNative\n      ? calldatas.push(PaymentsExtended.encodeWrapETH(positionAmountIn.quotient))\n      : calldatas.push(PaymentsExtended.encodePull(tokenIn, positionAmountIn.quotient))\n\n    // approve token balances to NFTManager\n    if (tokenInApprovalType !== ApprovalTypes.NOT_REQUIRED)\n      calldatas.push(ApproveAndCall.encodeApprove(tokenIn, tokenInApprovalType))\n    if (tokenOutApprovalType !== ApprovalTypes.NOT_REQUIRED)\n      calldatas.push(ApproveAndCall.encodeApprove(tokenOut, tokenOutApprovalType))\n\n    // encode NFTManager add liquidity\n    calldatas.push(\n      ApproveAndCall.encodeCallPositionManager([\n        NonfungiblePositionManager.addCallParameters(position, addLiquidityOptions).calldata,\n      ])\n    )\n\n    // sweep remaining tokens\n    inputIsNative\n      ? calldatas.push(PaymentsExtended.encodeUnwrapWETH9(ZERO))\n      : calldatas.push(PaymentsExtended.encodeSweepToken(tokenIn, ZERO))\n    outputIsNative\n      ? calldatas.push(PaymentsExtended.encodeUnwrapWETH9(ZERO))\n      : calldatas.push(PaymentsExtended.encodeSweepToken(tokenOut, ZERO))\n\n    let value: JSBI\n    if (inputIsNative) {\n      value = totalAmountSwapped.wrapped.add(positionAmountIn.wrapped).quotient\n    } else if (outputIsNative) {\n      value = amountOutRemaining.quotient\n    } else {\n      value = ZERO\n    }\n\n    return {\n      calldata: MulticallExtended.encodeMulticall(calldatas, options.deadlineOrPreviousBlockhash),\n      value: value.toString(),\n    }\n  }\n\n  private static getPositionAmounts(\n    position: Position,\n    zeroForOne: boolean\n  ): { positionAmountIn: CurrencyAmount<Currency>; positionAmountOut: CurrencyAmount<Currency> } {\n    const { amount0, amount1 } = position.mintAmounts\n    const currencyAmount0 = CurrencyAmount.fromRawAmount(position.pool.token0, amount0)\n    const currencyAmount1 = CurrencyAmount.fromRawAmount(position.pool.token1, amount1)\n\n    const [positionAmountIn, positionAmountOut] = zeroForOne\n      ? [currencyAmount0, currencyAmount1]\n      : [currencyAmount1, currencyAmount0]\n    return { positionAmountIn, positionAmountOut }\n  }\n}\n"]},"metadata":{},"sourceType":"script"}