{"ast":null,"code":"var _classCallCheck = require(\"/Users/safahi/Downloads/interface-4.30.1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/safahi/Downloads/interface-4.30.1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\n/**\n * Promise-based replacement for setTimeout / clearTimeout.\n */\nvar _require = require('./utils'),\n    promiseFinally = _require.promiseFinally,\n    toError = _require.toError;\n\nmodule.exports = /*#__PURE__*/function () {\n  \"use strict\";\n\n  function Timeout() {\n    _classCallCheck(this, Timeout);\n\n    this._id = null;\n    this._delay = null;\n  }\n\n  _createClass(Timeout, [{\n    key: \"id\",\n    get: function get() {\n      return this._id;\n    }\n  }, {\n    key: \"delay\",\n    get: function get() {\n      return this._delay;\n    }\n  }, {\n    key: \"set\",\n    value: function set(delay) {\n      var _this = this;\n\n      var rejectReason = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n      return new Promise(function (resolve, reject) {\n        _this.clear();\n\n        var fn = rejectReason ? function () {\n          return reject(toError(rejectReason));\n        } : resolve;\n        _this._id = setTimeout(fn, delay);\n        _this._delay = delay;\n      });\n    }\n  }, {\n    key: \"wrap\",\n    value: function wrap(promise, delay) {\n      var _this2 = this;\n\n      var rejectReason = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n      var wrappedPromise = promiseFinally(promise, function () {\n        return _this2.clear();\n      });\n      var timer = this.set(delay, rejectReason);\n      return Promise.race([wrappedPromise, timer]);\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      if (this._id) {\n        clearTimeout(this._id);\n      }\n    }\n  }], [{\n    key: \"set\",\n    value: function set(delay, rejectReason) {\n      return new Timeout().set(delay, rejectReason);\n    }\n  }, {\n    key: \"wrap\",\n    value: function wrap(promise, delay, rejectReason) {\n      return new Timeout().wrap(promise, delay, rejectReason);\n    }\n  }]);\n\n  return Timeout;\n}();","map":{"version":3,"sources":["/Users/safahi/Downloads/interface-4.30.1/node_modules/await-timeout/src/index.js"],"names":["require","promiseFinally","toError","module","exports","_id","_delay","delay","rejectReason","Promise","resolve","reject","clear","fn","setTimeout","promise","wrappedPromise","timer","set","race","clearTimeout","Timeout","wrap"],"mappings":";;;;AAAA;AACA;AACA;AAEA,eAAkCA,OAAO,CAAC,SAAD,CAAzC;AAAA,IAAOC,cAAP,YAAOA,cAAP;AAAA,IAAuBC,OAAvB,YAAuBA,OAAvB;;AAEAC,MAAM,CAACC,OAAP;AAAA;;AASE,qBAAc;AAAA;;AACZ,SAAKC,GAAL,GAAW,IAAX;AACA,SAAKC,MAAL,GAAc,IAAd;AACD;;AAZH;AAAA;AAAA,SAcE,eAAS;AACP,aAAO,KAAKD,GAAZ;AACD;AAhBH;AAAA;AAAA,SAkBE,eAAY;AACV,aAAO,KAAKC,MAAZ;AACD;AApBH;AAAA;AAAA,WAsBE,aAAIC,KAAJ,EAA8B;AAAA;;AAAA,UAAnBC,YAAmB,uEAAJ,EAAI;AAC5B,aAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtC,QAAA,KAAI,CAACC,KAAL;;AACA,YAAMC,EAAE,GAAGL,YAAY,GAAG;AAAA,iBAAMG,MAAM,CAACT,OAAO,CAACM,YAAD,CAAR,CAAZ;AAAA,SAAH,GAAyCE,OAAhE;AACA,QAAA,KAAI,CAACL,GAAL,GAAWS,UAAU,CAACD,EAAD,EAAKN,KAAL,CAArB;AACA,QAAA,KAAI,CAACD,MAAL,GAAcC,KAAd;AACD,OALM,CAAP;AAMD;AA7BH;AAAA;AAAA,WA+BE,cAAKQ,OAAL,EAAcR,KAAd,EAAwC;AAAA;;AAAA,UAAnBC,YAAmB,uEAAJ,EAAI;AACtC,UAAMQ,cAAc,GAAGf,cAAc,CAACc,OAAD,EAAU;AAAA,eAAM,MAAI,CAACH,KAAL,EAAN;AAAA,OAAV,CAArC;AACA,UAAMK,KAAK,GAAG,KAAKC,GAAL,CAASX,KAAT,EAAgBC,YAAhB,CAAd;AACA,aAAOC,OAAO,CAACU,IAAR,CAAa,CAClBH,cADkB,EAElBC,KAFkB,CAAb,CAAP;AAID;AAtCH;AAAA;AAAA,WAwCE,iBAAQ;AACN,UAAI,KAAKZ,GAAT,EAAc;AACZe,QAAAA,YAAY,CAAC,KAAKf,GAAN,CAAZ;AACD;AACF;AA5CH;AAAA;AAAA,WACE,aAAWE,KAAX,EAAkBC,YAAlB,EAAgC;AAC9B,aAAO,IAAIa,OAAJ,GAAcH,GAAd,CAAkBX,KAAlB,EAAyBC,YAAzB,CAAP;AACD;AAHH;AAAA;AAAA,WAKE,cAAYO,OAAZ,EAAqBR,KAArB,EAA4BC,YAA5B,EAA0C;AACxC,aAAO,IAAIa,OAAJ,GAAcC,IAAd,CAAmBP,OAAnB,EAA4BR,KAA5B,EAAmCC,YAAnC,CAAP;AACD;AAPH;;AAAA;AAAA","sourcesContent":["/**\n * Promise-based replacement for setTimeout / clearTimeout.\n */\n\nconst {promiseFinally, toError} = require('./utils');\n\nmodule.exports = class Timeout {\n  static set(delay, rejectReason) {\n    return new Timeout().set(delay, rejectReason);\n  }\n\n  static wrap(promise, delay, rejectReason) {\n    return new Timeout().wrap(promise, delay, rejectReason);\n  }\n\n  constructor() {\n    this._id = null;\n    this._delay = null;\n  }\n\n  get id() {\n    return this._id;\n  }\n\n  get delay() {\n    return this._delay;\n  }\n\n  set(delay, rejectReason = '') {\n    return new Promise((resolve, reject) => {\n      this.clear();\n      const fn = rejectReason ? () => reject(toError(rejectReason)) : resolve;\n      this._id = setTimeout(fn, delay);\n      this._delay = delay;\n    });\n  }\n\n  wrap(promise, delay, rejectReason = '') {\n    const wrappedPromise = promiseFinally(promise, () => this.clear());\n    const timer = this.set(delay, rejectReason);\n    return Promise.race([\n      wrappedPromise,\n      timer\n    ]);\n  }\n\n  clear() {\n    if (this._id) {\n      clearTimeout(this._id);\n    }\n  }\n};\n"]},"metadata":{},"sourceType":"script"}