{"ast":null,"code":"import{createSlice,nanoid}from'@reduxjs/toolkit';import{DEFAULT_TXN_DISMISS_MS}from'constants/misc';export var ApplicationModal;(function(ApplicationModal){ApplicationModal[ApplicationModal[\"WALLET\"]=0]=\"WALLET\";ApplicationModal[ApplicationModal[\"SETTINGS\"]=1]=\"SETTINGS\";ApplicationModal[ApplicationModal[\"SELF_CLAIM\"]=2]=\"SELF_CLAIM\";ApplicationModal[ApplicationModal[\"ADDRESS_CLAIM\"]=3]=\"ADDRESS_CLAIM\";ApplicationModal[ApplicationModal[\"CLAIM_POPUP\"]=4]=\"CLAIM_POPUP\";ApplicationModal[ApplicationModal[\"MENU\"]=5]=\"MENU\";ApplicationModal[ApplicationModal[\"DELEGATE\"]=6]=\"DELEGATE\";ApplicationModal[ApplicationModal[\"VOTE\"]=7]=\"VOTE\";ApplicationModal[ApplicationModal[\"POOL_OVERVIEW_OPTIONS\"]=8]=\"POOL_OVERVIEW_OPTIONS\";ApplicationModal[ApplicationModal[\"NETWORK_SELECTOR\"]=9]=\"NETWORK_SELECTOR\";ApplicationModal[ApplicationModal[\"PRIVACY_POLICY\"]=10]=\"PRIVACY_POLICY\";})(ApplicationModal||(ApplicationModal={}));var initialState={blockNumber:{},chainId:null,openModal:null,popupList:[]};var applicationSlice=createSlice({name:'application',initialState:initialState,reducers:{updateChainId:function updateChainId(state,action){var chainId=action.payload.chainId;state.chainId=chainId;},updateBlockNumber:function updateBlockNumber(state,action){var _action$payload=action.payload,chainId=_action$payload.chainId,blockNumber=_action$payload.blockNumber;if(typeof state.blockNumber[chainId]!=='number'){state.blockNumber[chainId]=blockNumber;}else{state.blockNumber[chainId]=Math.max(blockNumber,state.blockNumber[chainId]);}},setOpenModal:function setOpenModal(state,action){state.openModal=action.payload;},addPopup:function addPopup(state,_ref){var _ref$payload=_ref.payload,content=_ref$payload.content,key=_ref$payload.key,_ref$payload$removeAf=_ref$payload.removeAfterMs,removeAfterMs=_ref$payload$removeAf===void 0?DEFAULT_TXN_DISMISS_MS:_ref$payload$removeAf;state.popupList=(key?state.popupList.filter(function(popup){return popup.key!==key;}):state.popupList).concat([{key:key||nanoid(),show:true,content:content,removeAfterMs:removeAfterMs}]);},removePopup:function removePopup(state,_ref2){var key=_ref2.payload.key;state.popupList.forEach(function(p){if(p.key===key){p.show=false;}});}}});var _applicationSlice$act=applicationSlice.actions,updateChainId=_applicationSlice$act.updateChainId,updateBlockNumber=_applicationSlice$act.updateBlockNumber,setOpenModal=_applicationSlice$act.setOpenModal,addPopup=_applicationSlice$act.addPopup,removePopup=_applicationSlice$act.removePopup;export{updateChainId,updateBlockNumber,setOpenModal,addPopup,removePopup};export default applicationSlice.reducer;","map":{"version":3,"sources":["/Users/safahi/Downloads/interface-4.30.1/src/state/application/reducer.ts"],"names":["createSlice","nanoid","DEFAULT_TXN_DISMISS_MS","ApplicationModal","initialState","blockNumber","chainId","openModal","popupList","applicationSlice","name","reducers","updateChainId","state","action","payload","updateBlockNumber","Math","max","setOpenModal","addPopup","content","key","removeAfterMs","filter","popup","concat","show","removePopup","forEach","p","actions","reducer"],"mappings":"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","sourcesContent":["import { createSlice, nanoid } from '@reduxjs/toolkit'\nimport { DEFAULT_TXN_DISMISS_MS } from 'constants/misc'\n\nimport { SupportedChainId } from '../../constants/chains'\n\nexport type PopupContent =\n  | {\n      txn: {\n        hash: string\n      }\n    }\n  | {\n      failedSwitchNetwork: SupportedChainId\n    }\n\nexport enum ApplicationModal {\n  WALLET,\n  SETTINGS,\n  SELF_CLAIM,\n  ADDRESS_CLAIM,\n  CLAIM_POPUP,\n  MENU,\n  DELEGATE,\n  VOTE,\n  POOL_OVERVIEW_OPTIONS,\n  NETWORK_SELECTOR,\n  PRIVACY_POLICY,\n}\n\ntype PopupList = Array<{ key: string; show: boolean; content: PopupContent; removeAfterMs: number | null }>\n\nexport interface ApplicationState {\n  readonly blockNumber: { readonly [chainId: number]: number }\n  readonly chainId: number | null\n  readonly openModal: ApplicationModal | null\n  readonly popupList: PopupList\n}\n\nconst initialState: ApplicationState = {\n  blockNumber: {},\n  chainId: null,\n  openModal: null,\n  popupList: [],\n}\n\nconst applicationSlice = createSlice({\n  name: 'application',\n  initialState,\n  reducers: {\n    updateChainId(state, action) {\n      const { chainId } = action.payload\n      state.chainId = chainId\n    },\n    updateBlockNumber(state, action) {\n      const { chainId, blockNumber } = action.payload\n      if (typeof state.blockNumber[chainId] !== 'number') {\n        state.blockNumber[chainId] = blockNumber\n      } else {\n        state.blockNumber[chainId] = Math.max(blockNumber, state.blockNumber[chainId])\n      }\n    },\n    setOpenModal(state, action) {\n      state.openModal = action.payload\n    },\n    addPopup(state, { payload: { content, key, removeAfterMs = DEFAULT_TXN_DISMISS_MS } }) {\n      state.popupList = (key ? state.popupList.filter((popup) => popup.key !== key) : state.popupList).concat([\n        {\n          key: key || nanoid(),\n          show: true,\n          content,\n          removeAfterMs,\n        },\n      ])\n    },\n    removePopup(state, { payload: { key } }) {\n      state.popupList.forEach((p) => {\n        if (p.key === key) {\n          p.show = false\n        }\n      })\n    },\n  },\n})\n\nexport const { updateChainId, updateBlockNumber, setOpenModal, addPopup, removePopup } = applicationSlice.actions\nexport default applicationSlice.reducer\n"]},"metadata":{},"sourceType":"module"}