{"ast":null,"code":"import _styled from \"styled-components\";\n\nvar _jsxFileName = \"/Users/safahi/Downloads/interface-4.30.1/src/components/Identicon/index.tsx\",\n    _s = $RefreshSig$();\n\nimport jazzicon from '@metamask/jazzicon';\nimport useENSAvatar from 'hooks/useENSAvatar';\nimport { useLayoutEffect, useMemo, useRef, useState } from 'react';\nimport { useActiveWeb3React } from '../../hooks/web3';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst StyledIdenticon = _styled.div.withConfig({\n  displayName: \"Identicon__StyledIdenticon\",\n  componentId: \"sc-z4caw7-0\"\n})([\"height:1rem;width:1rem;border-radius:1.125rem;background-color:\", \";font-size:initial;\"], ({\n  theme\n}) => theme.bg4);\n\nconst StyledAvatar = _styled.img.withConfig({\n  displayName: \"Identicon__StyledAvatar\",\n  componentId: \"sc-z4caw7-1\"\n})([\"height:inherit;width:inherit;border-radius:inherit;\"]);\n\nexport default function Identicon() {\n  _s();\n\n  const {\n    account\n  } = useActiveWeb3React();\n  const {\n    avatar\n  } = useENSAvatar(account !== null && account !== void 0 ? account : undefined);\n  const [fetchable, setFetchable] = useState(true);\n  const icon = useMemo(() => account && jazzicon(16, parseInt(account.slice(2, 10), 16)), [account]);\n  const iconRef = useRef(null);\n  useLayoutEffect(() => {\n    const current = iconRef.current;\n\n    if (icon) {\n      current === null || current === void 0 ? void 0 : current.appendChild(icon);\n      return () => {\n        try {\n          current === null || current === void 0 ? void 0 : current.removeChild(icon);\n        } catch (e) {\n          console.error('Avatar icon not found');\n        }\n      };\n    }\n\n    return;\n  }, [icon, iconRef]);\n  return /*#__PURE__*/_jsxDEV(StyledIdenticon, {\n    children: avatar && fetchable ? /*#__PURE__*/_jsxDEV(StyledAvatar, {\n      alt: \"avatar\",\n      src: avatar,\n      onError: () => setFetchable(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n      ref: iconRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Identicon, \"fR1UZWyaWYsNugJ7I6Sxh8XvKMs=\", false, function () {\n  return [useActiveWeb3React, useENSAvatar];\n});\n\n_c = Identicon;\n\nvar _c;\n\n$RefreshReg$(_c, \"Identicon\");","map":{"version":3,"sources":["/Users/safahi/Downloads/interface-4.30.1/src/components/Identicon/index.tsx"],"names":["jazzicon","useENSAvatar","useLayoutEffect","useMemo","useRef","useState","useActiveWeb3React","StyledIdenticon","styled","div","theme","bg4","StyledAvatar","img","Identicon","account","avatar","undefined","fetchable","setFetchable","icon","parseInt","slice","iconRef","current","appendChild","removeChild","e","console","error"],"mappings":";;;;;AAAA,OAAOA,QAAP,MAAqB,oBAArB;AACA,OAAOC,YAAP,MAAyB,oBAAzB;AACA,SAASC,eAAT,EAA0BC,OAA1B,EAAmCC,MAAnC,EAA2CC,QAA3C,QAA2D,OAA3D;AAGA,SAASC,kBAAT,QAAmC,kBAAnC;;;AAEA,MAAMC,eAAe,GAAGC,OAAM,CAACC,GAAV;AAAA;AAAA;AAAA,+FAIC,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAeA,KAAK,CAACC,GAJtB,CAArB;;AAQA,MAAMC,YAAY,GAAGJ,OAAM,CAACK,GAAV;AAAA;AAAA;AAAA,2DAAlB;;AAMA,eAAe,SAASC,SAAT,GAAqB;AAAA;;AAClC,QAAM;AAAEC,IAAAA;AAAF,MAAcT,kBAAkB,EAAtC;AACA,QAAM;AAAEU,IAAAA;AAAF,MAAaf,YAAY,CAACc,OAAD,aAACA,OAAD,cAACA,OAAD,GAAYE,SAAZ,CAA/B;AACA,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4Bd,QAAQ,CAAC,IAAD,CAA1C;AAEA,QAAMe,IAAI,GAAGjB,OAAO,CAAC,MAAMY,OAAO,IAAIf,QAAQ,CAAC,EAAD,EAAKqB,QAAQ,CAACN,OAAO,CAACO,KAAR,CAAc,CAAd,EAAiB,EAAjB,CAAD,EAAuB,EAAvB,CAAb,CAA1B,EAAoE,CAACP,OAAD,CAApE,CAApB;AACA,QAAMQ,OAAO,GAAGnB,MAAM,CAAiB,IAAjB,CAAtB;AACAF,EAAAA,eAAe,CAAC,MAAM;AACpB,UAAMsB,OAAO,GAAGD,OAAO,CAACC,OAAxB;;AACA,QAAIJ,IAAJ,EAAU;AACRI,MAAAA,OAAO,SAAP,IAAAA,OAAO,WAAP,YAAAA,OAAO,CAAEC,WAAT,CAAqBL,IAArB;AACA,aAAO,MAAM;AACX,YAAI;AACFI,UAAAA,OAAO,SAAP,IAAAA,OAAO,WAAP,YAAAA,OAAO,CAAEE,WAAT,CAAqBN,IAArB;AACD,SAFD,CAEE,OAAOO,CAAP,EAAU;AACVC,UAAAA,OAAO,CAACC,KAAR,CAAc,uBAAd;AACD;AACF,OAND;AAOD;;AACD;AACD,GAbc,EAaZ,CAACT,IAAD,EAAOG,OAAP,CAbY,CAAf;AAeA,sBACE,QAAC,eAAD;AAAA,cACGP,MAAM,IAAIE,SAAV,gBACC,QAAC,YAAD;AAAc,MAAA,GAAG,EAAC,QAAlB;AAA2B,MAAA,GAAG,EAAEF,MAAhC;AAAwC,MAAA,OAAO,EAAE,MAAMG,YAAY,CAAC,KAAD;AAAnE;AAAA;AAAA;AAAA;AAAA,YADD,gBAGC;AAAM,MAAA,GAAG,EAAEI;AAAX;AAAA;AAAA;AAAA;AAAA;AAJJ;AAAA;AAAA;AAAA;AAAA,UADF;AASD;;GA/BuBT,S;UACFR,kB,EACDL,Y;;;KAFGa,S","sourcesContent":["import jazzicon from '@metamask/jazzicon'\nimport useENSAvatar from 'hooks/useENSAvatar'\nimport { useLayoutEffect, useMemo, useRef, useState } from 'react'\nimport styled from 'styled-components/macro'\n\nimport { useActiveWeb3React } from '../../hooks/web3'\n\nconst StyledIdenticon = styled.div`\n  height: 1rem;\n  width: 1rem;\n  border-radius: 1.125rem;\n  background-color: ${({ theme }) => theme.bg4};\n  font-size: initial;\n`\n\nconst StyledAvatar = styled.img`\n  height: inherit;\n  width: inherit;\n  border-radius: inherit;\n`\n\nexport default function Identicon() {\n  const { account } = useActiveWeb3React()\n  const { avatar } = useENSAvatar(account ?? undefined)\n  const [fetchable, setFetchable] = useState(true)\n\n  const icon = useMemo(() => account && jazzicon(16, parseInt(account.slice(2, 10), 16)), [account])\n  const iconRef = useRef<HTMLDivElement>(null)\n  useLayoutEffect(() => {\n    const current = iconRef.current\n    if (icon) {\n      current?.appendChild(icon)\n      return () => {\n        try {\n          current?.removeChild(icon)\n        } catch (e) {\n          console.error('Avatar icon not found')\n        }\n      }\n    }\n    return\n  }, [icon, iconRef])\n\n  return (\n    <StyledIdenticon>\n      {avatar && fetchable ? (\n        <StyledAvatar alt=\"avatar\" src={avatar} onError={() => setFetchable(false)}></StyledAvatar>\n      ) : (\n        <span ref={iconRef} />\n      )}\n    </StyledIdenticon>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}