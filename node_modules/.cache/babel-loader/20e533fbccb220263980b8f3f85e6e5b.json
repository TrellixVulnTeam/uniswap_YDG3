{"ast":null,"code":"import _slicedToArray from\"/Users/safahi/Downloads/interface-4.30.1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _styled from\"styled-components\";import jazzicon from'@metamask/jazzicon';import useENSAvatar from'hooks/useENSAvatar';import{useLayoutEffect,useMemo,useRef,useState}from'react';import{useActiveWeb3React}from'../../hooks/web3';import{jsx as _jsx}from\"react/jsx-runtime\";var StyledIdenticon=_styled.div.withConfig({componentId:\"sc-z4caw7-0\"})([\"height:1rem;width:1rem;border-radius:1.125rem;background-color:\",\";font-size:initial;\"],function(_ref){var theme=_ref.theme;return theme.bg4;});var StyledAvatar=_styled.img.withConfig({componentId:\"sc-z4caw7-1\"})([\"height:inherit;width:inherit;border-radius:inherit;\"]);export default function Identicon(){var _useActiveWeb3React=useActiveWeb3React(),account=_useActiveWeb3React.account;var _useENSAvatar=useENSAvatar(account!==null&&account!==void 0?account:undefined),avatar=_useENSAvatar.avatar;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),fetchable=_useState2[0],setFetchable=_useState2[1];var icon=useMemo(function(){return account&&jazzicon(16,parseInt(account.slice(2,10),16));},[account]);var iconRef=useRef(null);useLayoutEffect(function(){var current=iconRef.current;if(icon){current===null||current===void 0?void 0:current.appendChild(icon);return function(){try{current===null||current===void 0?void 0:current.removeChild(icon);}catch(e){console.error('Avatar icon not found');}};}return;},[icon,iconRef]);return/*#__PURE__*/_jsx(StyledIdenticon,{children:avatar&&fetchable?/*#__PURE__*/_jsx(StyledAvatar,{alt:\"avatar\",src:avatar,onError:function onError(){return setFetchable(false);}}):/*#__PURE__*/_jsx(\"span\",{ref:iconRef})});}","map":{"version":3,"sources":["/Users/safahi/Downloads/interface-4.30.1/src/components/Identicon/index.tsx"],"names":["jazzicon","useENSAvatar","useLayoutEffect","useMemo","useRef","useState","useActiveWeb3React","StyledIdenticon","styled","div","theme","bg4","StyledAvatar","img","Identicon","account","undefined","avatar","fetchable","setFetchable","icon","parseInt","slice","iconRef","current","appendChild","removeChild","e","console","error"],"mappings":"sMAAA,MAAOA,CAAAA,QAAP,KAAqB,oBAArB,CACA,MAAOC,CAAAA,YAAP,KAAyB,oBAAzB,CACA,OAASC,eAAT,CAA0BC,OAA1B,CAAmCC,MAAnC,CAA2CC,QAA3C,KAA2D,OAA3D,CAGA,OAASC,kBAAT,KAAmC,kBAAnC,C,2CAEA,GAAMC,CAAAA,eAAe,CAAGC,OAAM,CAACC,GAAV,mIAIC,kBAAGC,CAAAA,KAAH,MAAGA,KAAH,OAAeA,CAAAA,KAAK,CAACC,GAArB,EAJD,CAArB,CAQA,GAAMC,CAAAA,YAAY,CAAGJ,OAAM,CAACK,GAAV,iGAAlB,CAMA,cAAe,SAASC,CAAAA,SAAT,EAAqB,CAClC,wBAAoBR,kBAAkB,EAAtC,CAAQS,OAAR,qBAAQA,OAAR,CACA,kBAAmBd,YAAY,CAACc,OAAD,SAACA,OAAD,UAACA,OAAD,CAAYC,SAAZ,CAA/B,CAAQC,MAAR,eAAQA,MAAR,CACA,cAAkCZ,QAAQ,CAAC,IAAD,CAA1C,wCAAOa,SAAP,eAAkBC,YAAlB,eAEA,GAAMC,CAAAA,IAAI,CAAGjB,OAAO,CAAC,iBAAMY,CAAAA,OAAO,EAAIf,QAAQ,CAAC,EAAD,CAAKqB,QAAQ,CAACN,OAAO,CAACO,KAAR,CAAc,CAAd,CAAiB,EAAjB,CAAD,CAAuB,EAAvB,CAAb,CAAzB,EAAD,CAAoE,CAACP,OAAD,CAApE,CAApB,CACA,GAAMQ,CAAAA,OAAO,CAAGnB,MAAM,CAAiB,IAAjB,CAAtB,CACAF,eAAe,CAAC,UAAM,CACpB,GAAMsB,CAAAA,OAAO,CAAGD,OAAO,CAACC,OAAxB,CACA,GAAIJ,IAAJ,CAAU,CACRI,OAAO,OAAP,EAAAA,OAAO,SAAP,QAAAA,OAAO,CAAEC,WAAT,CAAqBL,IAArB,EACA,MAAO,WAAM,CACX,GAAI,CACFI,OAAO,OAAP,EAAAA,OAAO,SAAP,QAAAA,OAAO,CAAEE,WAAT,CAAqBN,IAArB,EACD,CAAC,MAAOO,CAAP,CAAU,CACVC,OAAO,CAACC,KAAR,CAAc,uBAAd,EACD,CACF,CAND,CAOD,CACD,OACD,CAbc,CAaZ,CAACT,IAAD,CAAOG,OAAP,CAbY,CAAf,CAeA,mBACE,KAAC,eAAD,WACGN,MAAM,EAAIC,SAAV,cACC,KAAC,YAAD,EAAc,GAAG,CAAC,QAAlB,CAA2B,GAAG,CAAED,MAAhC,CAAwC,OAAO,CAAE,yBAAME,CAAAA,YAAY,CAAC,KAAD,CAAlB,EAAjD,EADD,cAGC,aAAM,GAAG,CAAEI,OAAX,EAJJ,EADF,CASD","sourcesContent":["import jazzicon from '@metamask/jazzicon'\nimport useENSAvatar from 'hooks/useENSAvatar'\nimport { useLayoutEffect, useMemo, useRef, useState } from 'react'\nimport styled from 'styled-components/macro'\n\nimport { useActiveWeb3React } from '../../hooks/web3'\n\nconst StyledIdenticon = styled.div`\n  height: 1rem;\n  width: 1rem;\n  border-radius: 1.125rem;\n  background-color: ${({ theme }) => theme.bg4};\n  font-size: initial;\n`\n\nconst StyledAvatar = styled.img`\n  height: inherit;\n  width: inherit;\n  border-radius: inherit;\n`\n\nexport default function Identicon() {\n  const { account } = useActiveWeb3React()\n  const { avatar } = useENSAvatar(account ?? undefined)\n  const [fetchable, setFetchable] = useState(true)\n\n  const icon = useMemo(() => account && jazzicon(16, parseInt(account.slice(2, 10), 16)), [account])\n  const iconRef = useRef<HTMLDivElement>(null)\n  useLayoutEffect(() => {\n    const current = iconRef.current\n    if (icon) {\n      current?.appendChild(icon)\n      return () => {\n        try {\n          current?.removeChild(icon)\n        } catch (e) {\n          console.error('Avatar icon not found')\n        }\n      }\n    }\n    return\n  }, [icon, iconRef])\n\n  return (\n    <StyledIdenticon>\n      {avatar && fetchable ? (\n        <StyledAvatar alt=\"avatar\" src={avatar} onError={() => setFetchable(false)}></StyledAvatar>\n      ) : (\n        <span ref={iconRef} />\n      )}\n    </StyledIdenticon>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}