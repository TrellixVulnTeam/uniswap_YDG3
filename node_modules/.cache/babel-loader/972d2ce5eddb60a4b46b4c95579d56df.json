{"ast":null,"code":"import _styled from \"styled-components\";\n\nvar _jsxFileName = \"/Users/safahi/Downloads/interface-4.30.1/src/components/PositionListItem/index.tsx\",\n    _s = $RefreshSig$();\n\nimport { Trans } from \"@lingui/react\";\nimport { Percent } from '@uniswap/sdk-core';\nimport { Position } from '@uniswap/v3-sdk';\nimport Badge from 'components/Badge';\nimport RangeBadge from 'components/Badge/RangeBadge';\nimport DoubleCurrencyLogo from 'components/DoubleLogo';\nimport HoverInlineText from 'components/HoverInlineText';\nimport Loader from 'components/Loader';\nimport { RowBetween } from 'components/Row';\nimport { useToken } from 'hooks/Tokens';\nimport useIsTickAtLimit from 'hooks/useIsTickAtLimit';\nimport { usePool } from 'hooks/usePools';\nimport { useMemo } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Bound } from 'state/mint/v3/actions';\nimport { HideSmall, MEDIA_WIDTHS, SmallOnly } from 'theme';\nimport { formatTickPrice } from 'utils/formatTickPrice';\nimport { unwrappedToken } from 'utils/unwrappedToken';\nimport { DAI, USDC, USDT, WBTC, WRAPPED_NATIVE_CURRENCY } from '../../constants/tokens';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst LinkRow = _styled(Link).withConfig({\n  displayName: \"PositionListItem__LinkRow\",\n  componentId: \"sc-1bp9uni-0\"\n})([\"align-items:center;border-radius:20px;display:flex;cursor:pointer;user-select:none;display:flex;flex-direction:column;justify-content:space-between;color:\", \";margin:8px 0;padding:16px;text-decoration:none;font-weight:500;background-color:\", \";&:last-of-type{margin:8px 0 0 0;}& > div:not(:first-child){text-align:center;}:hover{background-color:\", \";}@media screen and (min-width:\", \"px){}\", \";\"], ({\n  theme\n}) => theme.text1, ({\n  theme\n}) => theme.bg1, ({\n  theme\n}) => theme.bg2, MEDIA_WIDTHS.upToSmall, ({\n  theme\n}) => theme.mediaWidth.upToSmall`\n    flex-direction: column;\n    row-gap: 12px;\n  `);\n\nconst BadgeText = _styled.div.withConfig({\n  displayName: \"PositionListItem__BadgeText\",\n  componentId: \"sc-1bp9uni-1\"\n})([\"font-weight:500;font-size:14px;\", \";\"], ({\n  theme\n}) => theme.mediaWidth.upToSmall`\n    font-size: 12px;\n  `);\n\nconst DataLineItem = _styled.div.withConfig({\n  displayName: \"PositionListItem__DataLineItem\",\n  componentId: \"sc-1bp9uni-2\"\n})([\"font-size:14px;\"]);\n\nconst RangeLineItem = _styled(DataLineItem).withConfig({\n  displayName: \"PositionListItem__RangeLineItem\",\n  componentId: \"sc-1bp9uni-3\"\n})([\"display:flex;flex-direction:row;align-items:center;margin-top:4px;width:100%;\", \";\"], ({\n  theme\n}) => theme.mediaWidth.upToSmall`\n  background-color: ${({\n  theme\n}) => theme.bg2};\n    border-radius: 12px;\n    padding: 8px 0;\n`);\n\nconst DoubleArrow = _styled.span.withConfig({\n  displayName: \"PositionListItem__DoubleArrow\",\n  componentId: \"sc-1bp9uni-4\"\n})([\"margin:0 2px;color:\", \";\", \";\"], ({\n  theme\n}) => theme.text3, ({\n  theme\n}) => theme.mediaWidth.upToSmall`\n    margin: 4px;\n    padding: 20px;\n  `);\n\nconst RangeText = _styled.span.withConfig({\n  displayName: \"PositionListItem__RangeText\",\n  componentId: \"sc-1bp9uni-5\"\n})([\"padding:0.25rem 0.5rem;border-radius:8px;\"]);\n\nconst ExtentsText = _styled.span.withConfig({\n  displayName: \"PositionListItem__ExtentsText\",\n  componentId: \"sc-1bp9uni-6\"\n})([\"color:\", \";font-size:14px;margin-right:4px;\", \";\"], ({\n  theme\n}) => theme.text3, ({\n  theme\n}) => theme.mediaWidth.upToSmall`\n    display: none;\n  `);\n\nconst PrimaryPositionIdData = _styled.div.withConfig({\n  displayName: \"PositionListItem__PrimaryPositionIdData\",\n  componentId: \"sc-1bp9uni-7\"\n})([\"display:flex;flex-direction:row;align-items:center;> *{margin-right:8px;}\"]);\n\nconst DataText = _styled.div.withConfig({\n  displayName: \"PositionListItem__DataText\",\n  componentId: \"sc-1bp9uni-8\"\n})([\"font-weight:600;font-size:18px;\", \";\"], ({\n  theme\n}) => theme.mediaWidth.upToSmall`\n    font-size: 14px;\n  `);\n\nexport function getPriceOrderingFromPositionForUI(position) {\n  if (!position) {\n    return {};\n  }\n\n  const token0 = position.amount0.currency;\n  const token1 = position.amount1.currency; // if token0 is a dollar-stable asset, set it as the quote token\n\n  const stables = [DAI, USDC, USDT];\n\n  if (stables.some(stable => stable.equals(token0))) {\n    return {\n      priceLower: position.token0PriceUpper.invert(),\n      priceUpper: position.token0PriceLower.invert(),\n      quote: token0,\n      base: token1\n    };\n  } // if token1 is an ETH-/BTC-stable asset, set it as the base token\n\n\n  const bases = [...Object.values(WRAPPED_NATIVE_CURRENCY), WBTC];\n\n  if (bases.some(base => base.equals(token1))) {\n    return {\n      priceLower: position.token0PriceUpper.invert(),\n      priceUpper: position.token0PriceLower.invert(),\n      quote: token0,\n      base: token1\n    };\n  } // if both prices are below 1, invert\n\n\n  if (position.token0PriceUpper.lessThan(1)) {\n    return {\n      priceLower: position.token0PriceUpper.invert(),\n      priceUpper: position.token0PriceLower.invert(),\n      quote: token0,\n      base: token1\n    };\n  } // otherwise, just return the default\n\n\n  return {\n    priceLower: position.token0PriceLower,\n    priceUpper: position.token0PriceUpper,\n    quote: token1,\n    base: token0\n  };\n}\nexport default function PositionListItem({\n  positionDetails\n}) {\n  _s();\n\n  var _currencyBase$symbol;\n\n  const {\n    token0: token0Address,\n    token1: token1Address,\n    fee: feeAmount,\n    liquidity,\n    tickLower,\n    tickUpper\n  } = positionDetails;\n  const token0 = useToken(token0Address);\n  const token1 = useToken(token1Address);\n  const currency0 = token0 ? unwrappedToken(token0) : undefined;\n  const currency1 = token1 ? unwrappedToken(token1) : undefined; // construct Position from details returned\n\n  const [, pool] = usePool(currency0 !== null && currency0 !== void 0 ? currency0 : undefined, currency1 !== null && currency1 !== void 0 ? currency1 : undefined, feeAmount);\n  const position = useMemo(() => {\n    if (pool) {\n      return new Position({\n        pool,\n        liquidity: liquidity.toString(),\n        tickLower,\n        tickUpper\n      });\n    }\n\n    return undefined;\n  }, [liquidity, pool, tickLower, tickUpper]);\n  const tickAtLimit = useIsTickAtLimit(feeAmount, tickLower, tickUpper); // prices\n\n  const {\n    priceLower,\n    priceUpper,\n    quote,\n    base\n  } = getPriceOrderingFromPositionForUI(position);\n  const currencyQuote = quote && unwrappedToken(quote);\n  const currencyBase = base && unwrappedToken(base); // check if price is within range\n\n  const outOfRange = pool ? pool.tickCurrent < tickLower || pool.tickCurrent >= tickUpper : false;\n  const positionSummaryLink = '/pool/' + positionDetails.tokenId;\n  const removed = liquidity === null || liquidity === void 0 ? void 0 : liquidity.eq(0);\n  return /*#__PURE__*/_jsxDEV(LinkRow, {\n    to: positionSummaryLink,\n    children: [/*#__PURE__*/_jsxDEV(RowBetween, {\n      children: [/*#__PURE__*/_jsxDEV(PrimaryPositionIdData, {\n        children: [/*#__PURE__*/_jsxDEV(DoubleCurrencyLogo, {\n          currency0: currencyBase,\n          currency1: currencyQuote,\n          size: 18,\n          margin: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(DataText, {\n          children: [\"\\xA0\", currencyQuote === null || currencyQuote === void 0 ? void 0 : currencyQuote.symbol, \"\\xA0/\\xA0\", currencyBase === null || currencyBase === void 0 ? void 0 : currencyBase.symbol]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 11\n        }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(Badge, {\n          children: /*#__PURE__*/_jsxDEV(BadgeText, {\n            children: /*#__PURE__*/_jsxDEV(Trans, {\n              id: \"{0}%\",\n              values: {\n                0: new Percent(feeAmount, 1000000).toSignificant()\n              }\n            }, void 0, false, void 0, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(RangeBadge, {\n        removed: removed,\n        inRange: !outOfRange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 7\n    }, this), priceLower && priceUpper ? /*#__PURE__*/_jsxDEV(RangeLineItem, {\n      children: [/*#__PURE__*/_jsxDEV(RangeText, {\n        children: [/*#__PURE__*/_jsxDEV(ExtentsText, {\n          children: /*#__PURE__*/_jsxDEV(Trans, {\n            id: \"Min:\"\n          }, void 0, false, void 0, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Trans, {\n          id: \"{0} <0/> per <1/>\",\n          values: {\n            0: formatTickPrice(priceLower, tickAtLimit, Bound.LOWER)\n          },\n          components: {\n            0: /*#__PURE__*/_jsxDEV(HoverInlineText, {\n              text: currencyQuote === null || currencyQuote === void 0 ? void 0 : currencyQuote.symbol\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 71\n            }, this),\n            1: /*#__PURE__*/_jsxDEV(HoverInlineText, {\n              text: (_currencyBase$symbol = currencyBase === null || currencyBase === void 0 ? void 0 : currencyBase.symbol) !== null && _currencyBase$symbol !== void 0 ? _currencyBase$symbol : ''\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 19\n            }, this)\n          }\n        }, void 0, false, void 0, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 11\n      }, this), ' ', /*#__PURE__*/_jsxDEV(HideSmall, {\n        children: [/*#__PURE__*/_jsxDEV(DoubleArrow, {\n          children: \"\\u27F7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 13\n        }, this), ' ']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(SmallOnly, {\n        children: [/*#__PURE__*/_jsxDEV(DoubleArrow, {\n          children: \"\\u27F7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 13\n        }, this), ' ']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(RangeText, {\n        children: [/*#__PURE__*/_jsxDEV(ExtentsText, {\n          children: /*#__PURE__*/_jsxDEV(Trans, {\n            id: \"Max:\"\n          }, void 0, false, void 0, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Trans, {\n          id: \"{0} <0/> per <1/>\",\n          values: {\n            0: formatTickPrice(priceUpper, tickAtLimit, Bound.UPPER)\n          },\n          components: {\n            0: /*#__PURE__*/_jsxDEV(HoverInlineText, {\n              text: currencyQuote === null || currencyQuote === void 0 ? void 0 : currencyQuote.symbol\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 71\n            }, this),\n            1: /*#__PURE__*/_jsxDEV(HoverInlineText, {\n              maxCharacters: 10,\n              text: currencyBase === null || currencyBase === void 0 ? void 0 : currencyBase.symbol\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 19\n            }, this)\n          }\n        }, void 0, false, void 0, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 230,\n    columnNumber: 5\n  }, this);\n}\n\n_s(PositionListItem, \"vYlUT3ERua6kT3LkqGfISeW6nFY=\", false, function () {\n  return [useToken, useToken, usePool, useIsTickAtLimit];\n});\n\n_c = PositionListItem;\n\nvar _c;\n\n$RefreshReg$(_c, \"PositionListItem\");","map":{"version":3,"sources":["/Users/safahi/Downloads/interface-4.30.1/src/components/PositionListItem/index.tsx"],"names":["Percent","Position","Badge","RangeBadge","DoubleCurrencyLogo","HoverInlineText","Loader","RowBetween","useToken","useIsTickAtLimit","usePool","useMemo","Link","Bound","HideSmall","MEDIA_WIDTHS","SmallOnly","formatTickPrice","unwrappedToken","DAI","USDC","USDT","WBTC","WRAPPED_NATIVE_CURRENCY","LinkRow","styled","theme","text1","bg1","bg2","upToSmall","mediaWidth","BadgeText","div","DataLineItem","RangeLineItem","DoubleArrow","span","text3","RangeText","ExtentsText","PrimaryPositionIdData","DataText","getPriceOrderingFromPositionForUI","position","token0","amount0","currency","token1","amount1","stables","some","stable","equals","priceLower","token0PriceUpper","invert","priceUpper","token0PriceLower","quote","base","bases","Object","values","lessThan","PositionListItem","positionDetails","token0Address","token1Address","fee","feeAmount","liquidity","tickLower","tickUpper","currency0","undefined","currency1","pool","toString","tickAtLimit","currencyQuote","currencyBase","outOfRange","tickCurrent","positionSummaryLink","tokenId","removed","eq","symbol","toSignificant","LOWER","UPPER"],"mappings":"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","sourcesContent":["import { Trans } from '@lingui/macro'\nimport { Percent, Price, Token } from '@uniswap/sdk-core'\nimport { Position } from '@uniswap/v3-sdk'\nimport Badge from 'components/Badge'\nimport RangeBadge from 'components/Badge/RangeBadge'\nimport DoubleCurrencyLogo from 'components/DoubleLogo'\nimport HoverInlineText from 'components/HoverInlineText'\nimport Loader from 'components/Loader'\nimport { RowBetween } from 'components/Row'\nimport { useToken } from 'hooks/Tokens'\nimport useIsTickAtLimit from 'hooks/useIsTickAtLimit'\nimport { usePool } from 'hooks/usePools'\nimport { useMemo } from 'react'\nimport { Link } from 'react-router-dom'\nimport { Bound } from 'state/mint/v3/actions'\nimport styled from 'styled-components/macro'\nimport { HideSmall, MEDIA_WIDTHS, SmallOnly } from 'theme'\nimport { PositionDetails } from 'types/position'\nimport { formatTickPrice } from 'utils/formatTickPrice'\nimport { unwrappedToken } from 'utils/unwrappedToken'\n\nimport { DAI, USDC, USDT, WBTC, WRAPPED_NATIVE_CURRENCY } from '../../constants/tokens'\n\nconst LinkRow = styled(Link)`\n  align-items: center;\n  border-radius: 20px;\n  display: flex;\n  cursor: pointer;\n  user-select: none;\n  display: flex;\n  flex-direction: column;\n\n  justify-content: space-between;\n  color: ${({ theme }) => theme.text1};\n  margin: 8px 0;\n  padding: 16px;\n  text-decoration: none;\n  font-weight: 500;\n  background-color: ${({ theme }) => theme.bg1};\n\n  &:last-of-type {\n    margin: 8px 0 0 0;\n  }\n  & > div:not(:first-child) {\n    text-align: center;\n  }\n  :hover {\n    background-color: ${({ theme }) => theme.bg2};\n  }\n\n  @media screen and (min-width: ${MEDIA_WIDTHS.upToSmall}px) {\n    /* flex-direction: row; */\n  }\n\n  ${({ theme }) => theme.mediaWidth.upToSmall`\n    flex-direction: column;\n    row-gap: 12px;\n  `};\n`\n\nconst BadgeText = styled.div`\n  font-weight: 500;\n  font-size: 14px;\n  ${({ theme }) => theme.mediaWidth.upToSmall`\n    font-size: 12px;\n  `};\n`\n\nconst DataLineItem = styled.div`\n  font-size: 14px;\n`\n\nconst RangeLineItem = styled(DataLineItem)`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n\n  margin-top: 4px;\n  width: 100%;\n\n  ${({ theme }) => theme.mediaWidth.upToSmall`\n  background-color: ${({ theme }) => theme.bg2};\n    border-radius: 12px;\n    padding: 8px 0;\n`};\n`\n\nconst DoubleArrow = styled.span`\n  margin: 0 2px;\n  color: ${({ theme }) => theme.text3};\n  ${({ theme }) => theme.mediaWidth.upToSmall`\n    margin: 4px;\n    padding: 20px;\n  `};\n`\n\nconst RangeText = styled.span`\n  /* background-color: ${({ theme }) => theme.bg2}; */\n  padding: 0.25rem 0.5rem;\n  border-radius: 8px;\n`\n\nconst ExtentsText = styled.span`\n  color: ${({ theme }) => theme.text3};\n  font-size: 14px;\n  margin-right: 4px;\n  ${({ theme }) => theme.mediaWidth.upToSmall`\n    display: none;\n  `};\n`\n\nconst PrimaryPositionIdData = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  > * {\n    margin-right: 8px;\n  }\n`\n\nconst DataText = styled.div`\n  font-weight: 600;\n  font-size: 18px;\n\n  ${({ theme }) => theme.mediaWidth.upToSmall`\n    font-size: 14px;\n  `};\n`\n\ninterface PositionListItemProps {\n  positionDetails: PositionDetails\n}\n\nexport function getPriceOrderingFromPositionForUI(position?: Position): {\n  priceLower?: Price<Token, Token>\n  priceUpper?: Price<Token, Token>\n  quote?: Token\n  base?: Token\n} {\n  if (!position) {\n    return {}\n  }\n\n  const token0 = position.amount0.currency\n  const token1 = position.amount1.currency\n\n  // if token0 is a dollar-stable asset, set it as the quote token\n  const stables = [DAI, USDC, USDT]\n  if (stables.some((stable) => stable.equals(token0))) {\n    return {\n      priceLower: position.token0PriceUpper.invert(),\n      priceUpper: position.token0PriceLower.invert(),\n      quote: token0,\n      base: token1,\n    }\n  }\n\n  // if token1 is an ETH-/BTC-stable asset, set it as the base token\n  const bases = [...Object.values(WRAPPED_NATIVE_CURRENCY), WBTC]\n  if (bases.some((base) => base.equals(token1))) {\n    return {\n      priceLower: position.token0PriceUpper.invert(),\n      priceUpper: position.token0PriceLower.invert(),\n      quote: token0,\n      base: token1,\n    }\n  }\n\n  // if both prices are below 1, invert\n  if (position.token0PriceUpper.lessThan(1)) {\n    return {\n      priceLower: position.token0PriceUpper.invert(),\n      priceUpper: position.token0PriceLower.invert(),\n      quote: token0,\n      base: token1,\n    }\n  }\n\n  // otherwise, just return the default\n  return {\n    priceLower: position.token0PriceLower,\n    priceUpper: position.token0PriceUpper,\n    quote: token1,\n    base: token0,\n  }\n}\n\nexport default function PositionListItem({ positionDetails }: PositionListItemProps) {\n  const {\n    token0: token0Address,\n    token1: token1Address,\n    fee: feeAmount,\n    liquidity,\n    tickLower,\n    tickUpper,\n  } = positionDetails\n\n  const token0 = useToken(token0Address)\n  const token1 = useToken(token1Address)\n\n  const currency0 = token0 ? unwrappedToken(token0) : undefined\n  const currency1 = token1 ? unwrappedToken(token1) : undefined\n\n  // construct Position from details returned\n  const [, pool] = usePool(currency0 ?? undefined, currency1 ?? undefined, feeAmount)\n\n  const position = useMemo(() => {\n    if (pool) {\n      return new Position({ pool, liquidity: liquidity.toString(), tickLower, tickUpper })\n    }\n    return undefined\n  }, [liquidity, pool, tickLower, tickUpper])\n\n  const tickAtLimit = useIsTickAtLimit(feeAmount, tickLower, tickUpper)\n\n  // prices\n  const { priceLower, priceUpper, quote, base } = getPriceOrderingFromPositionForUI(position)\n\n  const currencyQuote = quote && unwrappedToken(quote)\n  const currencyBase = base && unwrappedToken(base)\n\n  // check if price is within range\n  const outOfRange: boolean = pool ? pool.tickCurrent < tickLower || pool.tickCurrent >= tickUpper : false\n\n  const positionSummaryLink = '/pool/' + positionDetails.tokenId\n\n  const removed = liquidity?.eq(0)\n\n  return (\n    <LinkRow to={positionSummaryLink}>\n      <RowBetween>\n        <PrimaryPositionIdData>\n          <DoubleCurrencyLogo currency0={currencyBase} currency1={currencyQuote} size={18} margin />\n          <DataText>\n            &nbsp;{currencyQuote?.symbol}&nbsp;/&nbsp;{currencyBase?.symbol}\n          </DataText>\n          &nbsp;\n          <Badge>\n            <BadgeText>\n              <Trans>{new Percent(feeAmount, 1_000_000).toSignificant()}%</Trans>\n            </BadgeText>\n          </Badge>\n        </PrimaryPositionIdData>\n        <RangeBadge removed={removed} inRange={!outOfRange} />\n      </RowBetween>\n\n      {priceLower && priceUpper ? (\n        <RangeLineItem>\n          <RangeText>\n            <ExtentsText>\n              <Trans>Min: </Trans>\n            </ExtentsText>\n            <Trans>\n              {formatTickPrice(priceLower, tickAtLimit, Bound.LOWER)} <HoverInlineText text={currencyQuote?.symbol} />{' '}\n              per <HoverInlineText text={currencyBase?.symbol ?? ''} />\n            </Trans>\n          </RangeText>{' '}\n          <HideSmall>\n            <DoubleArrow>⟷</DoubleArrow>{' '}\n          </HideSmall>\n          <SmallOnly>\n            <DoubleArrow>⟷</DoubleArrow>{' '}\n          </SmallOnly>\n          <RangeText>\n            <ExtentsText>\n              <Trans>Max:</Trans>\n            </ExtentsText>\n            <Trans>\n              {formatTickPrice(priceUpper, tickAtLimit, Bound.UPPER)} <HoverInlineText text={currencyQuote?.symbol} />{' '}\n              per <HoverInlineText maxCharacters={10} text={currencyBase?.symbol} />\n            </Trans>\n          </RangeText>\n        </RangeLineItem>\n      ) : (\n        <Loader />\n      )}\n    </LinkRow>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}