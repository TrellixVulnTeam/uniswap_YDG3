{"ast":null,"code":"import _slicedToArray from\"/Users/safahi/Downloads/interface-4.30.1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Users/safahi/Downloads/interface-4.30.1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import _styled from\"styled-components\";var _templateObject;import{Trans}from\"@lingui/react\";import{CurrencyAmount}from'@uniswap/sdk-core';import JSBI from'jsbi';import{useCallback,useState}from'react';import{Link}from'react-router-dom';import{CountUp}from'use-count-up';import{ButtonEmpty,ButtonPrimary}from'../../components/Button';import{AutoColumn}from'../../components/Column';import DoubleCurrencyLogo from'../../components/DoubleLogo';import ClaimRewardModal from'../../components/earn/ClaimRewardModal';import StakingModal from'../../components/earn/StakingModal';import{CardBGImage,CardNoise,CardSection,DataCard}from'../../components/earn/styled';import UnstakingModal from'../../components/earn/UnstakingModal';import{RowBetween}from'../../components/Row';import{BIG_INT_SECONDS_IN_WEEK,BIG_INT_ZERO}from'../../constants/misc';import{useCurrency}from'../../hooks/Tokens';import{useColor}from'../../hooks/useColor';import usePrevious from'../../hooks/usePrevious';import{useTotalSupply}from'../../hooks/useTotalSupply';import useUSDCPrice from'../../hooks/useUSDCPrice';import{useV2Pair}from'../../hooks/useV2Pairs';import{useActiveWeb3React}from'../../hooks/web3';import{useWalletModalToggle}from'../../state/application/hooks';import{useStakingInfo}from'../../state/stake/hooks';import{useTokenBalance}from'../../state/wallet/hooks';import{ThemedText}from'../../theme';import{currencyId}from'../../utils/currencyId';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var PageWrapper=_styled(AutoColumn).withConfig({componentId:\"sc-j87c2z-0\"})([\"max-width:640px;width:100%;\"]);var PositionInfo=_styled(AutoColumn).withConfig({componentId:\"sc-j87c2z-1\"})([\"position:relative;max-width:640px;width:100%;opacity:\",\";\"],function(_ref){var dim=_ref.dim;return dim?0.6:1;});var BottomSection=_styled(AutoColumn).withConfig({componentId:\"sc-j87c2z-2\"})([\"border-radius:12px;width:100%;position:relative;\"]);var StyledDataCard=_styled(DataCard).withConfig({componentId:\"sc-j87c2z-3\"})([\"background:radial-gradient(76.02% 75.41% at 1.84% 0%,#1e1a31 0%,#3d51a5 100%);z-index:2;box-shadow:0px 4px 10px rgba(0,0,0,0.1);background:\",\";\"],function(_ref2){var theme=_ref2.theme,bgColor=_ref2.bgColor,showBackground=_ref2.showBackground;return\"radial-gradient(91.85% 100% at 1.84% 0%, \".concat(bgColor,\" 0%,  \").concat(showBackground?theme.black:theme.bg5,\" 100%) \");});var StyledBottomCard=_styled(DataCard).withConfig({componentId:\"sc-j87c2z-4\"})([\"background:\",\";opacity:\",\";margin-top:-40px;padding:0 1.25rem 1rem 1.25rem;padding-top:32px;z-index:1;\"],function(_ref3){var theme=_ref3.theme;return theme.bg3;},function(_ref4){var dim=_ref4.dim;return dim?0.4:1;});var PoolData=_styled(DataCard).withConfig({componentId:\"sc-j87c2z-5\"})([\"background:none;border:1px solid \",\";padding:1rem;z-index:1;\"],function(_ref5){var theme=_ref5.theme;return theme.bg4;});var VoteCard=_styled(DataCard).withConfig({componentId:\"sc-j87c2z-6\"})([\"background:radial-gradient(76.02% 75.41% at 1.84% 0%,#27ae60 0%,#000000 100%);overflow:hidden;\"]);var DataRow=_styled(RowBetween).withConfig({componentId:\"sc-j87c2z-7\"})([\"justify-content:center;gap:12px;\",\";\"],function(_ref6){var theme=_ref6.theme;return theme.mediaWidth.upToSmall(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    flex-direction: column;\\n    gap: 12px;\\n  \"])));});export default function Manage(_ref7){var _ref9,_ref10,_useStakingInfo,_stakingInfo$stakedAm,_stakingInfo$stakedAm2,_stakingInfo$stakedAm3,_stakingInfo$earnedAm,_stakingInfo$earnedAm2,_usePrevious,_valueOfTotalStakedAm,_valueOfTotalStakedAm2,_stakingInfo$totalRew,_stakingInfo$totalRew2,_stakingInfo$stakedAm4,_stakingInfo$stakedAm5,_stakingInfo$stakedAm6,_stakingInfo$earnedAm3,_stakingInfo$rewardRa,_stakingInfo$rewardRa2,_stakingInfo$stakedAm7,_stakingInfo$stakedAm8;var _ref7$match$params=_ref7.match.params,currencyIdA=_ref7$match$params.currencyIdA,currencyIdB=_ref7$match$params.currencyIdB;var _useActiveWeb3React=useActiveWeb3React(),account=_useActiveWeb3React.account;// get currencies and pair\nvar _ref8=[useCurrency(currencyIdA),useCurrency(currencyIdB)],currencyA=_ref8[0],currencyB=_ref8[1];var tokenA=(_ref9=currencyA!==null&&currencyA!==void 0?currencyA:undefined)===null||_ref9===void 0?void 0:_ref9.wrapped;var tokenB=(_ref10=currencyB!==null&&currencyB!==void 0?currencyB:undefined)===null||_ref10===void 0?void 0:_ref10.wrapped;var _useV2Pair=useV2Pair(tokenA,tokenB),_useV2Pair2=_slicedToArray(_useV2Pair,2),stakingTokenPair=_useV2Pair2[1];var stakingInfo=(_useStakingInfo=useStakingInfo(stakingTokenPair))===null||_useStakingInfo===void 0?void 0:_useStakingInfo[0];// detect existing unstaked LP position to show add button if none found\nvar userLiquidityUnstaked=useTokenBalance(account!==null&&account!==void 0?account:undefined,stakingInfo===null||stakingInfo===void 0?void 0:(_stakingInfo$stakedAm=stakingInfo.stakedAmount)===null||_stakingInfo$stakedAm===void 0?void 0:_stakingInfo$stakedAm.currency);var showAddLiquidityButton=Boolean((stakingInfo===null||stakingInfo===void 0?void 0:(_stakingInfo$stakedAm2=stakingInfo.stakedAmount)===null||_stakingInfo$stakedAm2===void 0?void 0:_stakingInfo$stakedAm2.equalTo('0'))&&(userLiquidityUnstaked===null||userLiquidityUnstaked===void 0?void 0:userLiquidityUnstaked.equalTo('0')));// toggle for staking modal and unstaking modal\nvar _useState=useState(false),_useState2=_slicedToArray(_useState,2),showStakingModal=_useState2[0],setShowStakingModal=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showUnstakingModal=_useState4[0],setShowUnstakingModal=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showClaimRewardModal=_useState6[0],setShowClaimRewardModal=_useState6[1];// fade cards if nothing staked or nothing earned yet\nvar disableTop=!(stakingInfo===null||stakingInfo===void 0?void 0:stakingInfo.stakedAmount)||stakingInfo.stakedAmount.equalTo(JSBI.BigInt(0));var token=(currencyA===null||currencyA===void 0?void 0:currencyA.isNative)?tokenB:tokenA;var WETH=(currencyA===null||currencyA===void 0?void 0:currencyA.isNative)?tokenA:tokenB;var backgroundColor=useColor(token);// get WETH value of staked LP tokens\nvar totalSupplyOfStakingToken=useTotalSupply(stakingInfo===null||stakingInfo===void 0?void 0:(_stakingInfo$stakedAm3=stakingInfo.stakedAmount)===null||_stakingInfo$stakedAm3===void 0?void 0:_stakingInfo$stakedAm3.currency);var valueOfTotalStakedAmountInWETH;if(totalSupplyOfStakingToken&&stakingTokenPair&&stakingInfo&&WETH){// take the total amount of LP tokens staked, multiply by ETH value of all LP tokens, divide by all LP tokens\nvalueOfTotalStakedAmountInWETH=CurrencyAmount.fromRawAmount(WETH,JSBI.divide(JSBI.multiply(JSBI.multiply(stakingInfo.totalStakedAmount.quotient,stakingTokenPair.reserveOf(WETH).quotient),JSBI.BigInt(2)// this is b/c the value of LP shares are ~double the value of the WETH they entitle owner to\n),totalSupplyOfStakingToken.quotient));}var countUpAmount=(_stakingInfo$earnedAm=stakingInfo===null||stakingInfo===void 0?void 0:(_stakingInfo$earnedAm2=stakingInfo.earnedAmount)===null||_stakingInfo$earnedAm2===void 0?void 0:_stakingInfo$earnedAm2.toFixed(6))!==null&&_stakingInfo$earnedAm!==void 0?_stakingInfo$earnedAm:'0';var countUpAmountPrevious=(_usePrevious=usePrevious(countUpAmount))!==null&&_usePrevious!==void 0?_usePrevious:'0';// get the USD value of staked WETH\nvar USDPrice=useUSDCPrice(WETH);var valueOfTotalStakedAmountInUSDC=valueOfTotalStakedAmountInWETH&&(USDPrice===null||USDPrice===void 0?void 0:USDPrice.quote(valueOfTotalStakedAmountInWETH));var toggleWalletModal=useWalletModalToggle();var handleDepositClick=useCallback(function(){if(account){setShowStakingModal(true);}else{toggleWalletModal();}},[account,toggleWalletModal]);return/*#__PURE__*/_jsxs(PageWrapper,{gap:\"lg\",justify:\"center\",children:[/*#__PURE__*/_jsxs(RowBetween,{style:{gap:'24px'},children:[/*#__PURE__*/_jsx(ThemedText.MediumHeader,{style:{margin:0},children:/*#__PURE__*/_jsx(Trans,{id:\"{0}-{1} Liquidity Mining\",values:{0:currencyA===null||currencyA===void 0?void 0:currencyA.symbol,1:currencyB===null||currencyB===void 0?void 0:currencyB.symbol}})}),/*#__PURE__*/_jsx(DoubleCurrencyLogo,{currency0:currencyA!==null&&currencyA!==void 0?currencyA:undefined,currency1:currencyB!==null&&currencyB!==void 0?currencyB:undefined,size:24})]}),/*#__PURE__*/_jsxs(DataRow,{style:{gap:'24px'},children:[/*#__PURE__*/_jsx(PoolData,{children:/*#__PURE__*/_jsxs(AutoColumn,{gap:\"sm\",children:[/*#__PURE__*/_jsx(ThemedText.Body,{style:{margin:0},children:/*#__PURE__*/_jsx(Trans,{id:\"Total deposits\"})}),/*#__PURE__*/_jsx(ThemedText.Body,{fontSize:24,fontWeight:500,children:valueOfTotalStakedAmountInUSDC?\"$\".concat(valueOfTotalStakedAmountInUSDC.toFixed(0,{groupSeparator:','})):\"\".concat((_valueOfTotalStakedAm=(_valueOfTotalStakedAm2=valueOfTotalStakedAmountInWETH)===null||_valueOfTotalStakedAm2===void 0?void 0:_valueOfTotalStakedAm2.toSignificant(4,{groupSeparator:','}))!==null&&_valueOfTotalStakedAm!==void 0?_valueOfTotalStakedAm:'-',\" ETH\")})]})}),/*#__PURE__*/_jsx(PoolData,{children:/*#__PURE__*/_jsxs(AutoColumn,{gap:\"sm\",children:[/*#__PURE__*/_jsx(ThemedText.Body,{style:{margin:0},children:/*#__PURE__*/_jsx(Trans,{id:\"Pool Rate\"})}),/*#__PURE__*/_jsx(ThemedText.Body,{fontSize:24,fontWeight:500,children:(stakingInfo===null||stakingInfo===void 0?void 0:stakingInfo.active)?/*#__PURE__*/_jsx(Trans,{id:\"{0} UNI / week\",values:{0:(_stakingInfo$totalRew=stakingInfo.totalRewardRate)===null||_stakingInfo$totalRew===void 0?void 0:(_stakingInfo$totalRew2=_stakingInfo$totalRew.multiply(BIG_INT_SECONDS_IN_WEEK))===null||_stakingInfo$totalRew2===void 0?void 0:_stakingInfo$totalRew2.toFixed(0,{groupSeparator:','})}}):/*#__PURE__*/_jsx(Trans,{id:\"0 UNI / week\"})})]})})]}),showAddLiquidityButton&&/*#__PURE__*/_jsxs(VoteCard,{children:[/*#__PURE__*/_jsx(CardBGImage,{}),/*#__PURE__*/_jsx(CardNoise,{}),/*#__PURE__*/_jsx(CardSection,{children:/*#__PURE__*/_jsxs(AutoColumn,{gap:\"md\",children:[/*#__PURE__*/_jsx(RowBetween,{children:/*#__PURE__*/_jsx(ThemedText.White,{fontWeight:600,children:/*#__PURE__*/_jsx(Trans,{id:\"Step 1. Get UNI-V2 Liquidity tokens\"})})}),/*#__PURE__*/_jsx(RowBetween,{style:{marginBottom:'1rem'},children:/*#__PURE__*/_jsx(ThemedText.White,{fontSize:14,children:/*#__PURE__*/_jsx(Trans,{id:\"UNI-V2 LP tokens are required. Once you've added liquidity to the {0}-{1} pool you can stake your liquidity tokens on this page.\",values:{0:currencyA===null||currencyA===void 0?void 0:currencyA.symbol,1:currencyB===null||currencyB===void 0?void 0:currencyB.symbol}})})}),/*#__PURE__*/_jsx(ButtonPrimary,{padding:\"8px\",$borderRadius:\"8px\",width:'fit-content',as:Link,to:\"/add/\".concat(currencyA&&currencyId(currencyA),\"/\").concat(currencyB&&currencyId(currencyB)),children:/*#__PURE__*/_jsx(Trans,{id:\"Add {0}-{1} liquidity\",values:{0:currencyA===null||currencyA===void 0?void 0:currencyA.symbol,1:currencyB===null||currencyB===void 0?void 0:currencyB.symbol}})})]})}),/*#__PURE__*/_jsx(CardBGImage,{}),/*#__PURE__*/_jsx(CardNoise,{})]}),stakingInfo&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(StakingModal,{isOpen:showStakingModal,onDismiss:function onDismiss(){return setShowStakingModal(false);},stakingInfo:stakingInfo,userLiquidityUnstaked:userLiquidityUnstaked}),/*#__PURE__*/_jsx(UnstakingModal,{isOpen:showUnstakingModal,onDismiss:function onDismiss(){return setShowUnstakingModal(false);},stakingInfo:stakingInfo}),/*#__PURE__*/_jsx(ClaimRewardModal,{isOpen:showClaimRewardModal,onDismiss:function onDismiss(){return setShowClaimRewardModal(false);},stakingInfo:stakingInfo})]}),/*#__PURE__*/_jsxs(PositionInfo,{gap:\"lg\",justify:\"center\",dim:showAddLiquidityButton,children:[/*#__PURE__*/_jsxs(BottomSection,{gap:\"lg\",justify:\"center\",children:[/*#__PURE__*/_jsx(StyledDataCard,{disabled:disableTop,bgColor:backgroundColor,showBackground:!showAddLiquidityButton,children:/*#__PURE__*/_jsxs(CardSection,{children:[/*#__PURE__*/_jsx(CardBGImage,{desaturate:true}),/*#__PURE__*/_jsx(CardNoise,{}),/*#__PURE__*/_jsxs(AutoColumn,{gap:\"md\",children:[/*#__PURE__*/_jsx(RowBetween,{children:/*#__PURE__*/_jsx(ThemedText.White,{fontWeight:600,children:/*#__PURE__*/_jsx(Trans,{id:\"Your liquidity deposits\"})})}),/*#__PURE__*/_jsxs(RowBetween,{style:{alignItems:'baseline'},children:[/*#__PURE__*/_jsx(ThemedText.White,{fontSize:36,fontWeight:600,children:(_stakingInfo$stakedAm4=stakingInfo===null||stakingInfo===void 0?void 0:(_stakingInfo$stakedAm5=stakingInfo.stakedAmount)===null||_stakingInfo$stakedAm5===void 0?void 0:_stakingInfo$stakedAm5.toSignificant(6))!==null&&_stakingInfo$stakedAm4!==void 0?_stakingInfo$stakedAm4:'-'}),/*#__PURE__*/_jsx(ThemedText.White,{children:/*#__PURE__*/_jsx(Trans,{id:\"UNI-V2 {0}-{1}\",values:{0:currencyA===null||currencyA===void 0?void 0:currencyA.symbol,1:currencyB===null||currencyB===void 0?void 0:currencyB.symbol}})})]})]})]})}),/*#__PURE__*/_jsxs(StyledBottomCard,{dim:stakingInfo===null||stakingInfo===void 0?void 0:(_stakingInfo$stakedAm6=stakingInfo.stakedAmount)===null||_stakingInfo$stakedAm6===void 0?void 0:_stakingInfo$stakedAm6.equalTo(JSBI.BigInt(0)),children:[/*#__PURE__*/_jsx(CardBGImage,{desaturate:true}),/*#__PURE__*/_jsx(CardNoise,{}),/*#__PURE__*/_jsxs(AutoColumn,{gap:\"sm\",children:[/*#__PURE__*/_jsxs(RowBetween,{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(ThemedText.Black,{children:/*#__PURE__*/_jsx(Trans,{id:\"Your unclaimed UNI\"})})}),(stakingInfo===null||stakingInfo===void 0?void 0:stakingInfo.earnedAmount)&&JSBI.notEqual(BIG_INT_ZERO,stakingInfo===null||stakingInfo===void 0?void 0:(_stakingInfo$earnedAm3=stakingInfo.earnedAmount)===null||_stakingInfo$earnedAm3===void 0?void 0:_stakingInfo$earnedAm3.quotient)&&/*#__PURE__*/_jsx(ButtonEmpty,{padding:\"8px\",$borderRadius:\"8px\",width:\"fit-content\",onClick:function onClick(){return setShowClaimRewardModal(true);},children:/*#__PURE__*/_jsx(Trans,{id:\"Claim\"})})]}),/*#__PURE__*/_jsxs(RowBetween,{style:{alignItems:'baseline'},children:[/*#__PURE__*/_jsx(ThemedText.LargeHeader,{fontSize:36,fontWeight:600,children:/*#__PURE__*/_jsx(CountUp,{isCounting:true,decimalPlaces:4,start:parseFloat(countUpAmountPrevious),end:parseFloat(countUpAmount),thousandsSeparator:',',duration:1},countUpAmount)}),/*#__PURE__*/_jsxs(ThemedText.Black,{fontSize:16,fontWeight:500,children:[/*#__PURE__*/_jsx(\"span\",{role:\"img\",\"aria-label\":\"wizard-icon\",style:{marginRight:'8px '},children:\"\\u26A1\"}),(stakingInfo===null||stakingInfo===void 0?void 0:stakingInfo.active)?/*#__PURE__*/_jsx(Trans,{id:\"{0} UNI / week\",values:{0:(_stakingInfo$rewardRa=stakingInfo.rewardRate)===null||_stakingInfo$rewardRa===void 0?void 0:(_stakingInfo$rewardRa2=_stakingInfo$rewardRa.multiply(BIG_INT_SECONDS_IN_WEEK))===null||_stakingInfo$rewardRa2===void 0?void 0:_stakingInfo$rewardRa2.toFixed(0,{groupSeparator:','})}}):/*#__PURE__*/_jsx(Trans,{id:\"0 UNI / week\"})]})]})]})]})]}),/*#__PURE__*/_jsxs(ThemedText.Main,{style:{textAlign:'center'},fontSize:14,children:[/*#__PURE__*/_jsx(\"span\",{role:\"img\",\"aria-label\":\"wizard-icon\",style:{marginRight:'8px'},children:\"\\u2B50\\uFE0F\"}),/*#__PURE__*/_jsx(Trans,{id:\"When you withdraw, the contract will automagically claim UNI on your behalf!\"})]}),!showAddLiquidityButton&&/*#__PURE__*/_jsxs(DataRow,{style:{marginBottom:'1rem'},children:[stakingInfo&&stakingInfo.active&&/*#__PURE__*/_jsx(ButtonPrimary,{padding:\"8px\",$borderRadius:\"8px\",width:\"160px\",onClick:handleDepositClick,children:(stakingInfo===null||stakingInfo===void 0?void 0:(_stakingInfo$stakedAm7=stakingInfo.stakedAmount)===null||_stakingInfo$stakedAm7===void 0?void 0:_stakingInfo$stakedAm7.greaterThan(JSBI.BigInt(0)))?/*#__PURE__*/_jsx(Trans,{id:\"Deposit\"}):/*#__PURE__*/_jsx(Trans,{id:\"Deposit UNI-V2 LP Tokens\"})}),(stakingInfo===null||stakingInfo===void 0?void 0:(_stakingInfo$stakedAm8=stakingInfo.stakedAmount)===null||_stakingInfo$stakedAm8===void 0?void 0:_stakingInfo$stakedAm8.greaterThan(JSBI.BigInt(0)))&&/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(ButtonPrimary,{padding:\"8px\",$borderRadius:\"8px\",width:\"160px\",onClick:function onClick(){return setShowUnstakingModal(true);},children:/*#__PURE__*/_jsx(Trans,{id:\"Withdraw\"})})})]}),!userLiquidityUnstaked?null:userLiquidityUnstaked.equalTo('0')?null:!(stakingInfo===null||stakingInfo===void 0?void 0:stakingInfo.active)?null:/*#__PURE__*/_jsx(ThemedText.Main,{children:/*#__PURE__*/_jsx(Trans,{id:\"{0} UNI-V2 LP tokens available\",values:{0:userLiquidityUnstaked.toSignificant(6)}})})]})]});}","map":{"version":3,"sources":["/Users/safahi/Downloads/interface-4.30.1/src/pages/Earn/Manage.tsx"],"names":["CurrencyAmount","JSBI","useCallback","useState","Link","CountUp","ButtonEmpty","ButtonPrimary","AutoColumn","DoubleCurrencyLogo","ClaimRewardModal","StakingModal","CardBGImage","CardNoise","CardSection","DataCard","UnstakingModal","RowBetween","BIG_INT_SECONDS_IN_WEEK","BIG_INT_ZERO","useCurrency","useColor","usePrevious","useTotalSupply","useUSDCPrice","useV2Pair","useActiveWeb3React","useWalletModalToggle","useStakingInfo","useTokenBalance","ThemedText","currencyId","PageWrapper","styled","PositionInfo","dim","BottomSection","StyledDataCard","theme","bgColor","showBackground","black","bg5","StyledBottomCard","bg3","PoolData","bg4","VoteCard","DataRow","mediaWidth","upToSmall","Manage","match","params","currencyIdA","currencyIdB","account","currencyA","currencyB","tokenA","undefined","wrapped","tokenB","stakingTokenPair","stakingInfo","userLiquidityUnstaked","stakedAmount","currency","showAddLiquidityButton","Boolean","equalTo","showStakingModal","setShowStakingModal","showUnstakingModal","setShowUnstakingModal","showClaimRewardModal","setShowClaimRewardModal","disableTop","BigInt","token","isNative","WETH","backgroundColor","totalSupplyOfStakingToken","valueOfTotalStakedAmountInWETH","fromRawAmount","divide","multiply","totalStakedAmount","quotient","reserveOf","countUpAmount","earnedAmount","toFixed","countUpAmountPrevious","USDPrice","valueOfTotalStakedAmountInUSDC","quote","toggleWalletModal","handleDepositClick","gap","margin","symbol","groupSeparator","toSignificant","active","totalRewardRate","marginBottom","alignItems","notEqual","parseFloat","marginRight","rewardRate","textAlign","greaterThan"],"mappings":"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","sourcesContent":["import { Trans } from '@lingui/macro'\nimport { CurrencyAmount, Token } from '@uniswap/sdk-core'\nimport JSBI from 'jsbi'\nimport { useCallback, useState } from 'react'\nimport { Link } from 'react-router-dom'\nimport { RouteComponentProps } from 'react-router-dom'\nimport styled from 'styled-components/macro'\nimport { CountUp } from 'use-count-up'\n\nimport { ButtonEmpty, ButtonPrimary } from '../../components/Button'\nimport { AutoColumn } from '../../components/Column'\nimport DoubleCurrencyLogo from '../../components/DoubleLogo'\nimport ClaimRewardModal from '../../components/earn/ClaimRewardModal'\nimport StakingModal from '../../components/earn/StakingModal'\nimport { CardBGImage, CardNoise, CardSection, DataCard } from '../../components/earn/styled'\nimport UnstakingModal from '../../components/earn/UnstakingModal'\nimport { RowBetween } from '../../components/Row'\nimport { BIG_INT_SECONDS_IN_WEEK, BIG_INT_ZERO } from '../../constants/misc'\nimport { useCurrency } from '../../hooks/Tokens'\nimport { useColor } from '../../hooks/useColor'\nimport usePrevious from '../../hooks/usePrevious'\nimport { useTotalSupply } from '../../hooks/useTotalSupply'\nimport useUSDCPrice from '../../hooks/useUSDCPrice'\nimport { useV2Pair } from '../../hooks/useV2Pairs'\nimport { useActiveWeb3React } from '../../hooks/web3'\nimport { useWalletModalToggle } from '../../state/application/hooks'\nimport { useStakingInfo } from '../../state/stake/hooks'\nimport { useTokenBalance } from '../../state/wallet/hooks'\nimport { ThemedText } from '../../theme'\nimport { currencyId } from '../../utils/currencyId'\n\nconst PageWrapper = styled(AutoColumn)`\n  max-width: 640px;\n  width: 100%;\n`\n\nconst PositionInfo = styled(AutoColumn)<{ dim: any }>`\n  position: relative;\n  max-width: 640px;\n  width: 100%;\n  opacity: ${({ dim }) => (dim ? 0.6 : 1)};\n`\n\nconst BottomSection = styled(AutoColumn)`\n  border-radius: 12px;\n  width: 100%;\n  position: relative;\n`\n\nconst StyledDataCard = styled(DataCard)<{ bgColor?: any; showBackground?: any }>`\n  background: radial-gradient(76.02% 75.41% at 1.84% 0%, #1e1a31 0%, #3d51a5 100%);\n  z-index: 2;\n  box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1);\n  background: ${({ theme, bgColor, showBackground }) =>\n    `radial-gradient(91.85% 100% at 1.84% 0%, ${bgColor} 0%,  ${showBackground ? theme.black : theme.bg5} 100%) `};\n`\n\nconst StyledBottomCard = styled(DataCard)<{ dim: any }>`\n  background: ${({ theme }) => theme.bg3};\n  opacity: ${({ dim }) => (dim ? 0.4 : 1)};\n  margin-top: -40px;\n  padding: 0 1.25rem 1rem 1.25rem;\n  padding-top: 32px;\n  z-index: 1;\n`\n\nconst PoolData = styled(DataCard)`\n  background: none;\n  border: 1px solid ${({ theme }) => theme.bg4};\n  padding: 1rem;\n  z-index: 1;\n`\n\nconst VoteCard = styled(DataCard)`\n  background: radial-gradient(76.02% 75.41% at 1.84% 0%, #27ae60 0%, #000000 100%);\n  overflow: hidden;\n`\n\nconst DataRow = styled(RowBetween)`\n  justify-content: center;\n  gap: 12px;\n\n  ${({ theme }) => theme.mediaWidth.upToSmall`\n    flex-direction: column;\n    gap: 12px;\n  `};\n`\n\nexport default function Manage({\n  match: {\n    params: { currencyIdA, currencyIdB },\n  },\n}: RouteComponentProps<{ currencyIdA: string; currencyIdB: string }>) {\n  const { account } = useActiveWeb3React()\n\n  // get currencies and pair\n  const [currencyA, currencyB] = [useCurrency(currencyIdA), useCurrency(currencyIdB)]\n  const tokenA = (currencyA ?? undefined)?.wrapped\n  const tokenB = (currencyB ?? undefined)?.wrapped\n\n  const [, stakingTokenPair] = useV2Pair(tokenA, tokenB)\n  const stakingInfo = useStakingInfo(stakingTokenPair)?.[0]\n\n  // detect existing unstaked LP position to show add button if none found\n  const userLiquidityUnstaked = useTokenBalance(account ?? undefined, stakingInfo?.stakedAmount?.currency)\n  const showAddLiquidityButton = Boolean(stakingInfo?.stakedAmount?.equalTo('0') && userLiquidityUnstaked?.equalTo('0'))\n\n  // toggle for staking modal and unstaking modal\n  const [showStakingModal, setShowStakingModal] = useState(false)\n  const [showUnstakingModal, setShowUnstakingModal] = useState(false)\n  const [showClaimRewardModal, setShowClaimRewardModal] = useState(false)\n\n  // fade cards if nothing staked or nothing earned yet\n  const disableTop = !stakingInfo?.stakedAmount || stakingInfo.stakedAmount.equalTo(JSBI.BigInt(0))\n\n  const token = currencyA?.isNative ? tokenB : tokenA\n  const WETH = currencyA?.isNative ? tokenA : tokenB\n  const backgroundColor = useColor(token)\n\n  // get WETH value of staked LP tokens\n  const totalSupplyOfStakingToken = useTotalSupply(stakingInfo?.stakedAmount?.currency)\n  let valueOfTotalStakedAmountInWETH: CurrencyAmount<Token> | undefined\n  if (totalSupplyOfStakingToken && stakingTokenPair && stakingInfo && WETH) {\n    // take the total amount of LP tokens staked, multiply by ETH value of all LP tokens, divide by all LP tokens\n    valueOfTotalStakedAmountInWETH = CurrencyAmount.fromRawAmount(\n      WETH,\n      JSBI.divide(\n        JSBI.multiply(\n          JSBI.multiply(stakingInfo.totalStakedAmount.quotient, stakingTokenPair.reserveOf(WETH).quotient),\n          JSBI.BigInt(2) // this is b/c the value of LP shares are ~double the value of the WETH they entitle owner to\n        ),\n        totalSupplyOfStakingToken.quotient\n      )\n    )\n  }\n\n  const countUpAmount = stakingInfo?.earnedAmount?.toFixed(6) ?? '0'\n  const countUpAmountPrevious = usePrevious(countUpAmount) ?? '0'\n\n  // get the USD value of staked WETH\n  const USDPrice = useUSDCPrice(WETH)\n  const valueOfTotalStakedAmountInUSDC =\n    valueOfTotalStakedAmountInWETH && USDPrice?.quote(valueOfTotalStakedAmountInWETH)\n\n  const toggleWalletModal = useWalletModalToggle()\n\n  const handleDepositClick = useCallback(() => {\n    if (account) {\n      setShowStakingModal(true)\n    } else {\n      toggleWalletModal()\n    }\n  }, [account, toggleWalletModal])\n\n  return (\n    <PageWrapper gap=\"lg\" justify=\"center\">\n      <RowBetween style={{ gap: '24px' }}>\n        <ThemedText.MediumHeader style={{ margin: 0 }}>\n          <Trans>\n            {currencyA?.symbol}-{currencyB?.symbol} Liquidity Mining\n          </Trans>\n        </ThemedText.MediumHeader>\n        <DoubleCurrencyLogo currency0={currencyA ?? undefined} currency1={currencyB ?? undefined} size={24} />\n      </RowBetween>\n\n      <DataRow style={{ gap: '24px' }}>\n        <PoolData>\n          <AutoColumn gap=\"sm\">\n            <ThemedText.Body style={{ margin: 0 }}>\n              <Trans>Total deposits</Trans>\n            </ThemedText.Body>\n            <ThemedText.Body fontSize={24} fontWeight={500}>\n              {valueOfTotalStakedAmountInUSDC\n                ? `$${valueOfTotalStakedAmountInUSDC.toFixed(0, { groupSeparator: ',' })}`\n                : `${valueOfTotalStakedAmountInWETH?.toSignificant(4, { groupSeparator: ',' }) ?? '-'} ETH`}\n            </ThemedText.Body>\n          </AutoColumn>\n        </PoolData>\n        <PoolData>\n          <AutoColumn gap=\"sm\">\n            <ThemedText.Body style={{ margin: 0 }}>\n              <Trans>Pool Rate</Trans>\n            </ThemedText.Body>\n            <ThemedText.Body fontSize={24} fontWeight={500}>\n              {stakingInfo?.active ? (\n                <Trans>\n                  {stakingInfo.totalRewardRate?.multiply(BIG_INT_SECONDS_IN_WEEK)?.toFixed(0, { groupSeparator: ',' })}{' '}\n                  UNI / week\n                </Trans>\n              ) : (\n                <Trans>0 UNI / week</Trans>\n              )}\n            </ThemedText.Body>\n          </AutoColumn>\n        </PoolData>\n      </DataRow>\n\n      {showAddLiquidityButton && (\n        <VoteCard>\n          <CardBGImage />\n          <CardNoise />\n          <CardSection>\n            <AutoColumn gap=\"md\">\n              <RowBetween>\n                <ThemedText.White fontWeight={600}>\n                  <Trans>Step 1. Get UNI-V2 Liquidity tokens</Trans>\n                </ThemedText.White>\n              </RowBetween>\n              <RowBetween style={{ marginBottom: '1rem' }}>\n                <ThemedText.White fontSize={14}>\n                  <Trans>\n                    UNI-V2 LP tokens are required. Once you&apos;ve added liquidity to the {currencyA?.symbol}-\n                    {currencyB?.symbol} pool you can stake your liquidity tokens on this page.\n                  </Trans>\n                </ThemedText.White>\n              </RowBetween>\n              <ButtonPrimary\n                padding=\"8px\"\n                $borderRadius=\"8px\"\n                width={'fit-content'}\n                as={Link}\n                to={`/add/${currencyA && currencyId(currencyA)}/${currencyB && currencyId(currencyB)}`}\n              >\n                <Trans>\n                  Add {currencyA?.symbol}-{currencyB?.symbol} liquidity\n                </Trans>\n              </ButtonPrimary>\n            </AutoColumn>\n          </CardSection>\n          <CardBGImage />\n          <CardNoise />\n        </VoteCard>\n      )}\n\n      {stakingInfo && (\n        <>\n          <StakingModal\n            isOpen={showStakingModal}\n            onDismiss={() => setShowStakingModal(false)}\n            stakingInfo={stakingInfo}\n            userLiquidityUnstaked={userLiquidityUnstaked}\n          />\n          <UnstakingModal\n            isOpen={showUnstakingModal}\n            onDismiss={() => setShowUnstakingModal(false)}\n            stakingInfo={stakingInfo}\n          />\n          <ClaimRewardModal\n            isOpen={showClaimRewardModal}\n            onDismiss={() => setShowClaimRewardModal(false)}\n            stakingInfo={stakingInfo}\n          />\n        </>\n      )}\n\n      <PositionInfo gap=\"lg\" justify=\"center\" dim={showAddLiquidityButton}>\n        <BottomSection gap=\"lg\" justify=\"center\">\n          <StyledDataCard disabled={disableTop} bgColor={backgroundColor} showBackground={!showAddLiquidityButton}>\n            <CardSection>\n              <CardBGImage desaturate />\n              <CardNoise />\n              <AutoColumn gap=\"md\">\n                <RowBetween>\n                  <ThemedText.White fontWeight={600}>\n                    <Trans>Your liquidity deposits</Trans>\n                  </ThemedText.White>\n                </RowBetween>\n                <RowBetween style={{ alignItems: 'baseline' }}>\n                  <ThemedText.White fontSize={36} fontWeight={600}>\n                    {stakingInfo?.stakedAmount?.toSignificant(6) ?? '-'}\n                  </ThemedText.White>\n                  <ThemedText.White>\n                    <Trans>\n                      UNI-V2 {currencyA?.symbol}-{currencyB?.symbol}\n                    </Trans>\n                  </ThemedText.White>\n                </RowBetween>\n              </AutoColumn>\n            </CardSection>\n          </StyledDataCard>\n          <StyledBottomCard dim={stakingInfo?.stakedAmount?.equalTo(JSBI.BigInt(0))}>\n            <CardBGImage desaturate />\n            <CardNoise />\n            <AutoColumn gap=\"sm\">\n              <RowBetween>\n                <div>\n                  <ThemedText.Black>\n                    <Trans>Your unclaimed UNI</Trans>\n                  </ThemedText.Black>\n                </div>\n                {stakingInfo?.earnedAmount && JSBI.notEqual(BIG_INT_ZERO, stakingInfo?.earnedAmount?.quotient) && (\n                  <ButtonEmpty\n                    padding=\"8px\"\n                    $borderRadius=\"8px\"\n                    width=\"fit-content\"\n                    onClick={() => setShowClaimRewardModal(true)}\n                  >\n                    <Trans>Claim</Trans>\n                  </ButtonEmpty>\n                )}\n              </RowBetween>\n              <RowBetween style={{ alignItems: 'baseline' }}>\n                <ThemedText.LargeHeader fontSize={36} fontWeight={600}>\n                  <CountUp\n                    key={countUpAmount}\n                    isCounting\n                    decimalPlaces={4}\n                    start={parseFloat(countUpAmountPrevious)}\n                    end={parseFloat(countUpAmount)}\n                    thousandsSeparator={','}\n                    duration={1}\n                  />\n                </ThemedText.LargeHeader>\n                <ThemedText.Black fontSize={16} fontWeight={500}>\n                  <span role=\"img\" aria-label=\"wizard-icon\" style={{ marginRight: '8px ' }}>\n                    ⚡\n                  </span>\n\n                  {stakingInfo?.active ? (\n                    <Trans>\n                      {stakingInfo.rewardRate?.multiply(BIG_INT_SECONDS_IN_WEEK)?.toFixed(0, { groupSeparator: ',' })}{' '}\n                      UNI / week\n                    </Trans>\n                  ) : (\n                    <Trans>0 UNI / week</Trans>\n                  )}\n                </ThemedText.Black>\n              </RowBetween>\n            </AutoColumn>\n          </StyledBottomCard>\n        </BottomSection>\n        <ThemedText.Main style={{ textAlign: 'center' }} fontSize={14}>\n          <span role=\"img\" aria-label=\"wizard-icon\" style={{ marginRight: '8px' }}>\n            ⭐️\n          </span>\n          <Trans>When you withdraw, the contract will automagically claim UNI on your behalf!</Trans>\n        </ThemedText.Main>\n\n        {!showAddLiquidityButton && (\n          <DataRow style={{ marginBottom: '1rem' }}>\n            {stakingInfo && stakingInfo.active && (\n              <ButtonPrimary padding=\"8px\" $borderRadius=\"8px\" width=\"160px\" onClick={handleDepositClick}>\n                {stakingInfo?.stakedAmount?.greaterThan(JSBI.BigInt(0)) ? (\n                  <Trans>Deposit</Trans>\n                ) : (\n                  <Trans>Deposit UNI-V2 LP Tokens</Trans>\n                )}\n              </ButtonPrimary>\n            )}\n\n            {stakingInfo?.stakedAmount?.greaterThan(JSBI.BigInt(0)) && (\n              <>\n                <ButtonPrimary\n                  padding=\"8px\"\n                  $borderRadius=\"8px\"\n                  width=\"160px\"\n                  onClick={() => setShowUnstakingModal(true)}\n                >\n                  <Trans>Withdraw</Trans>\n                </ButtonPrimary>\n              </>\n            )}\n          </DataRow>\n        )}\n        {!userLiquidityUnstaked ? null : userLiquidityUnstaked.equalTo('0') ? null : !stakingInfo?.active ? null : (\n          <ThemedText.Main>\n            <Trans>{userLiquidityUnstaked.toSignificant(6)} UNI-V2 LP tokens available</Trans>\n          </ThemedText.Main>\n        )}\n      </PositionInfo>\n    </PageWrapper>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}