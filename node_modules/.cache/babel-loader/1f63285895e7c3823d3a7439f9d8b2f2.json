{"ast":null,"code":"import _slicedToArray from\"/Users/safahi/Downloads/interface-4.30.1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import usePrevious from'hooks/usePrevious';import{useCallback,useEffect,useState}from'react';import useLast from'../../hooks/useLast';import{WrappedTokenInfo}from'../../state/lists/wrappedTokenInfo';import Modal from'../Modal';import{CurrencySearch}from'./CurrencySearch';import{ImportList}from'./ImportList';import{ImportToken}from'./ImportToken';import Manage from'./Manage';import{jsx as _jsx}from\"react/jsx-runtime\";export var CurrencyModalView;(function(CurrencyModalView){CurrencyModalView[CurrencyModalView[\"search\"]=0]=\"search\";CurrencyModalView[CurrencyModalView[\"manage\"]=1]=\"manage\";CurrencyModalView[CurrencyModalView[\"importToken\"]=2]=\"importToken\";CurrencyModalView[CurrencyModalView[\"importList\"]=3]=\"importList\";})(CurrencyModalView||(CurrencyModalView={}));export default function CurrencySearchModal(_ref){var isOpen=_ref.isOpen,onDismiss=_ref.onDismiss,onCurrencySelect=_ref.onCurrencySelect,selectedCurrency=_ref.selectedCurrency,otherSelectedCurrency=_ref.otherSelectedCurrency,_ref$showCommonBases=_ref.showCommonBases,showCommonBases=_ref$showCommonBases===void 0?false:_ref$showCommonBases,_ref$showCurrencyAmou=_ref.showCurrencyAmount,showCurrencyAmount=_ref$showCurrencyAmou===void 0?true:_ref$showCurrencyAmou,_ref$disableNonToken=_ref.disableNonToken,disableNonToken=_ref$disableNonToken===void 0?false:_ref$disableNonToken;var _useState=useState(CurrencyModalView.manage),_useState2=_slicedToArray(_useState,2),modalView=_useState2[0],setModalView=_useState2[1];var lastOpen=useLast(isOpen);useEffect(function(){if(isOpen&&!lastOpen){setModalView(CurrencyModalView.search);}},[isOpen,lastOpen]);var handleCurrencySelect=useCallback(function(currency){onCurrencySelect(currency);onDismiss();},[onDismiss,onCurrencySelect]);// for token import view\nvar prevView=usePrevious(modalView);// used for import token flow\nvar _useState3=useState(),_useState4=_slicedToArray(_useState3,2),importToken=_useState4[0],setImportToken=_useState4[1];// used for import list\nvar _useState5=useState(),_useState6=_slicedToArray(_useState5,2),importList=_useState6[0],setImportList=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),listURL=_useState8[0],setListUrl=_useState8[1];var showImportView=useCallback(function(){return setModalView(CurrencyModalView.importToken);},[setModalView]);var showManageView=useCallback(function(){return setModalView(CurrencyModalView.manage);},[setModalView]);var handleBackImport=useCallback(function(){return setModalView(prevView&&prevView!==CurrencyModalView.importToken?prevView:CurrencyModalView.search);},[setModalView,prevView]);// change min height if not searching\nvar minHeight=modalView===CurrencyModalView.importToken||modalView===CurrencyModalView.importList?40:80;var content=null;switch(modalView){case CurrencyModalView.search:content=/*#__PURE__*/_jsx(CurrencySearch,{isOpen:isOpen,onDismiss:onDismiss,onCurrencySelect:handleCurrencySelect,selectedCurrency:selectedCurrency,otherSelectedCurrency:otherSelectedCurrency,showCommonBases:showCommonBases,showCurrencyAmount:showCurrencyAmount,disableNonToken:disableNonToken,showImportView:showImportView,setImportToken:setImportToken,showManageView:showManageView});break;case CurrencyModalView.importToken:if(importToken){content=/*#__PURE__*/_jsx(ImportToken,{tokens:[importToken],onDismiss:onDismiss,list:importToken instanceof WrappedTokenInfo?importToken.list:undefined,onBack:handleBackImport,handleCurrencySelect:handleCurrencySelect});}break;case CurrencyModalView.importList:if(importList&&listURL){content=/*#__PURE__*/_jsx(ImportList,{list:importList,listURL:listURL,onDismiss:onDismiss,setModalView:setModalView});}break;case CurrencyModalView.manage:content=/*#__PURE__*/_jsx(Manage,{onDismiss:onDismiss,setModalView:setModalView,setImportToken:setImportToken,setImportList:setImportList,setListUrl:setListUrl});break;}return/*#__PURE__*/_jsx(Modal,{isOpen:isOpen,onDismiss:onDismiss,maxHeight:80,minHeight:minHeight,children:content});}","map":{"version":3,"sources":["/Users/safahi/Downloads/interface-4.30.1/src/components/SearchModal/CurrencySearchModal.tsx"],"names":["usePrevious","useCallback","useEffect","useState","useLast","WrappedTokenInfo","Modal","CurrencySearch","ImportList","ImportToken","Manage","CurrencyModalView","CurrencySearchModal","isOpen","onDismiss","onCurrencySelect","selectedCurrency","otherSelectedCurrency","showCommonBases","showCurrencyAmount","disableNonToken","manage","modalView","setModalView","lastOpen","search","handleCurrencySelect","currency","prevView","importToken","setImportToken","importList","setImportList","listURL","setListUrl","showImportView","showManageView","handleBackImport","minHeight","content","list","undefined"],"mappings":"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","sourcesContent":["import { Currency, Token } from '@uniswap/sdk-core'\nimport { TokenList } from '@uniswap/token-lists'\nimport usePrevious from 'hooks/usePrevious'\nimport { useCallback, useEffect, useState } from 'react'\n\nimport useLast from '../../hooks/useLast'\nimport { WrappedTokenInfo } from '../../state/lists/wrappedTokenInfo'\nimport Modal from '../Modal'\nimport { CurrencySearch } from './CurrencySearch'\nimport { ImportList } from './ImportList'\nimport { ImportToken } from './ImportToken'\nimport Manage from './Manage'\n\ninterface CurrencySearchModalProps {\n  isOpen: boolean\n  onDismiss: () => void\n  selectedCurrency?: Currency | null\n  onCurrencySelect: (currency: Currency) => void\n  otherSelectedCurrency?: Currency | null\n  showCommonBases?: boolean\n  showCurrencyAmount?: boolean\n  disableNonToken?: boolean\n}\n\nexport enum CurrencyModalView {\n  search,\n  manage,\n  importToken,\n  importList,\n}\n\nexport default function CurrencySearchModal({\n  isOpen,\n  onDismiss,\n  onCurrencySelect,\n  selectedCurrency,\n  otherSelectedCurrency,\n  showCommonBases = false,\n  showCurrencyAmount = true,\n  disableNonToken = false,\n}: CurrencySearchModalProps) {\n  const [modalView, setModalView] = useState<CurrencyModalView>(CurrencyModalView.manage)\n  const lastOpen = useLast(isOpen)\n\n  useEffect(() => {\n    if (isOpen && !lastOpen) {\n      setModalView(CurrencyModalView.search)\n    }\n  }, [isOpen, lastOpen])\n\n  const handleCurrencySelect = useCallback(\n    (currency: Currency) => {\n      onCurrencySelect(currency)\n      onDismiss()\n    },\n    [onDismiss, onCurrencySelect]\n  )\n\n  // for token import view\n  const prevView = usePrevious(modalView)\n\n  // used for import token flow\n  const [importToken, setImportToken] = useState<Token | undefined>()\n\n  // used for import list\n  const [importList, setImportList] = useState<TokenList | undefined>()\n  const [listURL, setListUrl] = useState<string | undefined>()\n\n  const showImportView = useCallback(() => setModalView(CurrencyModalView.importToken), [setModalView])\n  const showManageView = useCallback(() => setModalView(CurrencyModalView.manage), [setModalView])\n  const handleBackImport = useCallback(\n    () => setModalView(prevView && prevView !== CurrencyModalView.importToken ? prevView : CurrencyModalView.search),\n    [setModalView, prevView]\n  )\n\n  // change min height if not searching\n  const minHeight = modalView === CurrencyModalView.importToken || modalView === CurrencyModalView.importList ? 40 : 80\n  let content = null\n  switch (modalView) {\n    case CurrencyModalView.search:\n      content = (\n        <CurrencySearch\n          isOpen={isOpen}\n          onDismiss={onDismiss}\n          onCurrencySelect={handleCurrencySelect}\n          selectedCurrency={selectedCurrency}\n          otherSelectedCurrency={otherSelectedCurrency}\n          showCommonBases={showCommonBases}\n          showCurrencyAmount={showCurrencyAmount}\n          disableNonToken={disableNonToken}\n          showImportView={showImportView}\n          setImportToken={setImportToken}\n          showManageView={showManageView}\n        />\n      )\n      break\n    case CurrencyModalView.importToken:\n      if (importToken) {\n        content = (\n          <ImportToken\n            tokens={[importToken]}\n            onDismiss={onDismiss}\n            list={importToken instanceof WrappedTokenInfo ? importToken.list : undefined}\n            onBack={handleBackImport}\n            handleCurrencySelect={handleCurrencySelect}\n          />\n        )\n      }\n      break\n    case CurrencyModalView.importList:\n      if (importList && listURL) {\n        content = <ImportList list={importList} listURL={listURL} onDismiss={onDismiss} setModalView={setModalView} />\n      }\n      break\n    case CurrencyModalView.manage:\n      content = (\n        <Manage\n          onDismiss={onDismiss}\n          setModalView={setModalView}\n          setImportToken={setImportToken}\n          setImportList={setImportList}\n          setListUrl={setListUrl}\n        />\n      )\n      break\n  }\n  return (\n    <Modal isOpen={isOpen} onDismiss={onDismiss} maxHeight={80} minHeight={minHeight}>\n      {content}\n    </Modal>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}