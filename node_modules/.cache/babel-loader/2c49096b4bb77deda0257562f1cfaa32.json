{"ast":null,"code":"import _regeneratorRuntime from\"/Users/safahi/Downloads/interface-4.30.1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _toConsumableArray from\"/Users/safahi/Downloads/interface-4.30.1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _asyncToGenerator from\"/Users/safahi/Downloads/interface-4.30.1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _objectSpread from\"/Users/safahi/Downloads/interface-4.30.1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _defineProperty from\"/Users/safahi/Downloads/interface-4.30.1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _slicedToArray from\"/Users/safahi/Downloads/interface-4.30.1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{ThemeContext as _ThemeContext}from\"styled-components\";import{Trans}from\"@lingui/react\";import{BigNumber}from'@ethersproject/bignumber';import{Percent}from'@uniswap/sdk-core';import{FeeAmount,NonfungiblePositionManager}from'@uniswap/v3-sdk';import UnsupportedCurrencyFooter from'components/swap/UnsupportedCurrencyFooter';import{useCallback,useContext,useEffect,useState}from'react';import{AlertTriangle}from'react-feather';import ReactGA from'react-ga';import{Text}from'rebass';import{useRangeHopCallbacks,useV3DerivedMintInfo,useV3MintActionHandlers,useV3MintState}from'state/mint/v3/hooks';import{ButtonError,ButtonLight,ButtonPrimary,ButtonText,ButtonYellow}from'../../components/Button';import{BlueCard,OutlineCard,YellowCard}from'../../components/Card';import{AutoColumn}from'../../components/Column';import CurrencyInputPanel from'../../components/CurrencyInputPanel';import FeeSelector from'../../components/FeeSelector';import HoverInlineText from'../../components/HoverInlineText';import LiquidityChartRangeInput from'../../components/LiquidityChartRangeInput';import{AddRemoveTabs}from'../../components/NavigationTabs';import{PositionPreview}from'../../components/PositionPreview';import RangeSelector from'../../components/RangeSelector';import PresetsButtons from'../../components/RangeSelector/PresetsButtons';import RateToggle from'../../components/RateToggle';import Row,{AutoRow,RowBetween,RowFixed}from'../../components/Row';import{SwitchLocaleLink}from'../../components/SwitchLocaleLink';import TransactionConfirmationModal,{ConfirmationModalContent}from'../../components/TransactionConfirmationModal';import{NONFUNGIBLE_POSITION_MANAGER_ADDRESSES}from'../../constants/addresses';import{ZERO_PERCENT}from'../../constants/misc';import{WRAPPED_NATIVE_CURRENCY}from'../../constants/tokens';import{useCurrency}from'../../hooks/Tokens';import{ApprovalState,useApproveCallback}from'../../hooks/useApproveCallback';import{useArgentWalletContract}from'../../hooks/useArgentWalletContract';import{useV3NFTPositionManagerContract}from'../../hooks/useContract';import{useDerivedPositionInfo}from'../../hooks/useDerivedPositionInfo';import{useIsSwapUnsupported}from'../../hooks/useIsSwapUnsupported';import useTransactionDeadline from'../../hooks/useTransactionDeadline';import{useUSDCValue}from'../../hooks/useUSDCPrice';import{useV3PositionFromTokenId}from'../../hooks/useV3Positions';import{useActiveWeb3React}from'../../hooks/web3';import{useWalletModalToggle}from'../../state/application/hooks';import{Bound,Field}from'../../state/mint/v3/actions';import{TransactionType}from'../../state/transactions/actions';import{useTransactionAdder}from'../../state/transactions/hooks';import{useIsExpertMode,useUserSlippageToleranceWithDefault}from'../../state/user/hooks';import{ExternalLink,ThemedText}from'../../theme';import approveAmountCalldata from'../../utils/approveAmountCalldata';import{calculateGasMargin}from'../../utils/calculateGasMargin';import{currencyId}from'../../utils/currencyId';import{maxAmountSpend}from'../../utils/maxAmountSpend';import{Dots}from'../Pool/styleds';import{Review}from'./Review';import{CurrencyDropdown,DynamicSection,HideMedium,MediumOnly,PageWrapper,ResponsiveTwoColumns,RightContainer,ScrollablePage,StackedContainer,StackedItem,StyledInput,Wrapper}from'./styled';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var DEFAULT_ADD_IN_RANGE_SLIPPAGE_TOLERANCE=new Percent(50,10000);export default function AddLiquidity(_ref){var _parsedAmounts$depend,_parsedAmounts$depend2,_formattedAmounts,_usdcValues,_parsedAmounts$Field$,_currencies$Field$CUR,_parsedAmounts$Field$2,_currencies$Field$CUR2,_currencies$Field$CUR7,_currencies$Field$CUR8,_currencies$Field$CUR9,_currencies$Field$CUR10,_price$invert;var _ref$match$params=_ref.match.params,currencyIdA=_ref$match$params.currencyIdA,currencyIdB=_ref$match$params.currencyIdB,feeAmountFromUrl=_ref$match$params.feeAmount,tokenId=_ref$match$params.tokenId,history=_ref.history;var _useActiveWeb3React=useActiveWeb3React(),account=_useActiveWeb3React.account,chainId=_useActiveWeb3React.chainId,library=_useActiveWeb3React.library;var theme=useContext(_ThemeContext);var toggleWalletModal=useWalletModalToggle();// toggle wallet when disconnected\nvar expertMode=useIsExpertMode();var addTransaction=useTransactionAdder();var positionManager=useV3NFTPositionManagerContract();// check for existing position if tokenId in url\nvar _useV3PositionFromTok=useV3PositionFromTokenId(tokenId?BigNumber.from(tokenId):undefined),existingPositionDetails=_useV3PositionFromTok.position,positionLoading=_useV3PositionFromTok.loading;var hasExistingPosition=!!existingPositionDetails&&!positionLoading;var _useDerivedPositionIn=useDerivedPositionInfo(existingPositionDetails),existingPosition=_useDerivedPositionIn.position;// fee selection from url\nvar feeAmount=feeAmountFromUrl&&Object.values(FeeAmount).includes(parseFloat(feeAmountFromUrl))?parseFloat(feeAmountFromUrl):undefined;var baseCurrency=useCurrency(currencyIdA);var currencyB=useCurrency(currencyIdB);// prevent an error if they input ETH/WETH\nvar quoteCurrency=baseCurrency&&currencyB&&baseCurrency.wrapped.equals(currencyB.wrapped)?undefined:currencyB;// mint state\nvar _useV3MintState=useV3MintState(),independentField=_useV3MintState.independentField,typedValue=_useV3MintState.typedValue,startPriceTypedValue=_useV3MintState.startPriceTypedValue;var _useV3DerivedMintInfo=useV3DerivedMintInfo(baseCurrency!==null&&baseCurrency!==void 0?baseCurrency:undefined,quoteCurrency!==null&&quoteCurrency!==void 0?quoteCurrency:undefined,feeAmount,baseCurrency!==null&&baseCurrency!==void 0?baseCurrency:undefined,existingPosition),pool=_useV3DerivedMintInfo.pool,ticks=_useV3DerivedMintInfo.ticks,dependentField=_useV3DerivedMintInfo.dependentField,price=_useV3DerivedMintInfo.price,pricesAtTicks=_useV3DerivedMintInfo.pricesAtTicks,parsedAmounts=_useV3DerivedMintInfo.parsedAmounts,currencyBalances=_useV3DerivedMintInfo.currencyBalances,position=_useV3DerivedMintInfo.position,noLiquidity=_useV3DerivedMintInfo.noLiquidity,currencies=_useV3DerivedMintInfo.currencies,errorMessage=_useV3DerivedMintInfo.errorMessage,invalidPool=_useV3DerivedMintInfo.invalidPool,invalidRange=_useV3DerivedMintInfo.invalidRange,outOfRange=_useV3DerivedMintInfo.outOfRange,depositADisabled=_useV3DerivedMintInfo.depositADisabled,depositBDisabled=_useV3DerivedMintInfo.depositBDisabled,invertPrice=_useV3DerivedMintInfo.invertPrice,ticksAtLimit=_useV3DerivedMintInfo.ticksAtLimit;var _useV3MintActionHandl=useV3MintActionHandlers(noLiquidity),onFieldAInput=_useV3MintActionHandl.onFieldAInput,onFieldBInput=_useV3MintActionHandl.onFieldBInput,onLeftRangeInput=_useV3MintActionHandl.onLeftRangeInput,onRightRangeInput=_useV3MintActionHandl.onRightRangeInput,onStartPriceInput=_useV3MintActionHandl.onStartPriceInput;var isValid=!errorMessage&&!invalidRange;// modal and loading\nvar _useState=useState(false),_useState2=_slicedToArray(_useState,2),showConfirm=_useState2[0],setShowConfirm=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),attemptingTxn=_useState4[0],setAttemptingTxn=_useState4[1];// clicked confirm\n// capital efficiency warning\nvar _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showCapitalEfficiencyWarning=_useState6[0],setShowCapitalEfficiencyWarning=_useState6[1];useEffect(function(){return setShowCapitalEfficiencyWarning(false);},[baseCurrency,quoteCurrency,feeAmount]);// txn values\nvar deadline=useTransactionDeadline();// custom from users settings\nvar _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),txHash=_useState8[0],setTxHash=_useState8[1];// get formatted amounts\nvar formattedAmounts=(_formattedAmounts={},_defineProperty(_formattedAmounts,independentField,typedValue),_defineProperty(_formattedAmounts,dependentField,(_parsedAmounts$depend=(_parsedAmounts$depend2=parsedAmounts[dependentField])===null||_parsedAmounts$depend2===void 0?void 0:_parsedAmounts$depend2.toSignificant(6))!==null&&_parsedAmounts$depend!==void 0?_parsedAmounts$depend:''),_formattedAmounts);var usdcValues=(_usdcValues={},_defineProperty(_usdcValues,Field.CURRENCY_A,useUSDCValue(parsedAmounts[Field.CURRENCY_A])),_defineProperty(_usdcValues,Field.CURRENCY_B,useUSDCValue(parsedAmounts[Field.CURRENCY_B])),_usdcValues);// get the max amounts user can add\nvar maxAmounts=[Field.CURRENCY_A,Field.CURRENCY_B].reduce(function(accumulator,field){return _objectSpread(_objectSpread({},accumulator),{},_defineProperty({},field,maxAmountSpend(currencyBalances[field])));},{});var atMaxAmounts=[Field.CURRENCY_A,Field.CURRENCY_B].reduce(function(accumulator,field){var _maxAmounts$field,_parsedAmounts$field;return _objectSpread(_objectSpread({},accumulator),{},_defineProperty({},field,(_maxAmounts$field=maxAmounts[field])===null||_maxAmounts$field===void 0?void 0:_maxAmounts$field.equalTo((_parsedAmounts$field=parsedAmounts[field])!==null&&_parsedAmounts$field!==void 0?_parsedAmounts$field:'0')));},{});var argentWalletContract=useArgentWalletContract();// check whether the user has approved the router on the tokens\nvar _useApproveCallback=useApproveCallback(argentWalletContract?undefined:parsedAmounts[Field.CURRENCY_A],chainId?NONFUNGIBLE_POSITION_MANAGER_ADDRESSES[chainId]:undefined),_useApproveCallback2=_slicedToArray(_useApproveCallback,2),approvalA=_useApproveCallback2[0],approveACallback=_useApproveCallback2[1];var _useApproveCallback3=useApproveCallback(argentWalletContract?undefined:parsedAmounts[Field.CURRENCY_B],chainId?NONFUNGIBLE_POSITION_MANAGER_ADDRESSES[chainId]:undefined),_useApproveCallback4=_slicedToArray(_useApproveCallback3,2),approvalB=_useApproveCallback4[0],approveBCallback=_useApproveCallback4[1];var allowedSlippage=useUserSlippageToleranceWithDefault(outOfRange?ZERO_PERCENT:DEFAULT_ADD_IN_RANGE_SLIPPAGE_TOLERANCE);function onAdd(){return _onAdd.apply(this,arguments);}function _onAdd(){_onAdd=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var useNative,_ref4,calldata,value,txn,amountA,amountB,batch,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(!chainId||!library||!account)){_context.next=2;break;}return _context.abrupt(\"return\");case 2:if(!(!positionManager||!baseCurrency||!quoteCurrency)){_context.next=4;break;}return _context.abrupt(\"return\");case 4:if(!(position&&account&&deadline)){_context.next=13;break;}useNative=baseCurrency.isNative?baseCurrency:quoteCurrency.isNative?quoteCurrency:undefined;_ref4=hasExistingPosition&&tokenId?NonfungiblePositionManager.addCallParameters(position,{tokenId:tokenId,slippageTolerance:allowedSlippage,deadline:deadline.toString(),useNative:useNative}):NonfungiblePositionManager.addCallParameters(position,{slippageTolerance:allowedSlippage,recipient:account,deadline:deadline.toString(),useNative:useNative,createPool:noLiquidity}),calldata=_ref4.calldata,value=_ref4.value;txn={to:NONFUNGIBLE_POSITION_MANAGER_ADDRESSES[chainId],data:calldata,value:value};if(argentWalletContract){amountA=parsedAmounts[Field.CURRENCY_A];amountB=parsedAmounts[Field.CURRENCY_B];batch=[].concat(_toConsumableArray(amountA&&amountA.currency.isToken?[approveAmountCalldata(amountA,NONFUNGIBLE_POSITION_MANAGER_ADDRESSES[chainId])]:[]),_toConsumableArray(amountB&&amountB.currency.isToken?[approveAmountCalldata(amountB,NONFUNGIBLE_POSITION_MANAGER_ADDRESSES[chainId])]:[]),[{to:txn.to,data:txn.data,value:txn.value}]);data=argentWalletContract.interface.encodeFunctionData('wc_multiCall',[batch]);txn={to:argentWalletContract.address,data:data,value:'0x0'};}setAttemptingTxn(true);library.getSigner().estimateGas(txn).then(function(estimate){var newTxn=_objectSpread(_objectSpread({},txn),{},{gasLimit:calculateGasMargin(estimate)});return library.getSigner().sendTransaction(newTxn).then(function(response){var _parsedAmounts$Field$3,_parsedAmounts$Field$4,_parsedAmounts$Field$5,_parsedAmounts$Field$6,_parsedAmounts$Field$7,_parsedAmounts$Field$8,_currencies$Field$CUR11,_currencies$Field$CUR12;setAttemptingTxn(false);addTransaction(response,{type:TransactionType.ADD_LIQUIDITY_V3_POOL,baseCurrencyId:currencyId(baseCurrency),quoteCurrencyId:currencyId(quoteCurrency),createPool:Boolean(noLiquidity),expectedAmountBaseRaw:(_parsedAmounts$Field$3=(_parsedAmounts$Field$4=parsedAmounts[Field.CURRENCY_A])===null||_parsedAmounts$Field$4===void 0?void 0:(_parsedAmounts$Field$5=_parsedAmounts$Field$4.quotient)===null||_parsedAmounts$Field$5===void 0?void 0:_parsedAmounts$Field$5.toString())!==null&&_parsedAmounts$Field$3!==void 0?_parsedAmounts$Field$3:'0',expectedAmountQuoteRaw:(_parsedAmounts$Field$6=(_parsedAmounts$Field$7=parsedAmounts[Field.CURRENCY_B])===null||_parsedAmounts$Field$7===void 0?void 0:(_parsedAmounts$Field$8=_parsedAmounts$Field$7.quotient)===null||_parsedAmounts$Field$8===void 0?void 0:_parsedAmounts$Field$8.toString())!==null&&_parsedAmounts$Field$6!==void 0?_parsedAmounts$Field$6:'0',feeAmount:position.pool.fee});setTxHash(response.hash);ReactGA.event({category:'Liquidity',action:'Add',label:[(_currencies$Field$CUR11=currencies[Field.CURRENCY_A])===null||_currencies$Field$CUR11===void 0?void 0:_currencies$Field$CUR11.symbol,(_currencies$Field$CUR12=currencies[Field.CURRENCY_B])===null||_currencies$Field$CUR12===void 0?void 0:_currencies$Field$CUR12.symbol].join('/')});});}).catch(function(error){console.error('Failed to send transaction',error);setAttemptingTxn(false);// we only care if the error is something _other_ than the user rejected the tx\nif((error===null||error===void 0?void 0:error.code)!==4001){console.error(error);}});_context.next=14;break;case 13:return _context.abrupt(\"return\");case 14:case\"end\":return _context.stop();}}},_callee);}));return _onAdd.apply(this,arguments);}var handleCurrencySelect=useCallback(function(currencyNew,currencyIdOther){var currencyIdNew=currencyId(currencyNew);if(currencyIdNew===currencyIdOther){// not ideal, but for now clobber the other if the currency ids are equal\nreturn[currencyIdNew,undefined];}else{var _WRAPPED_NATIVE_CURRE,_WRAPPED_NATIVE_CURRE2;// prevent weth + eth\nvar isETHOrWETHNew=currencyIdNew==='ETH'||chainId!==undefined&&currencyIdNew===((_WRAPPED_NATIVE_CURRE=WRAPPED_NATIVE_CURRENCY[chainId])===null||_WRAPPED_NATIVE_CURRE===void 0?void 0:_WRAPPED_NATIVE_CURRE.address);var isETHOrWETHOther=currencyIdOther!==undefined&&(currencyIdOther==='ETH'||chainId!==undefined&&currencyIdOther===((_WRAPPED_NATIVE_CURRE2=WRAPPED_NATIVE_CURRENCY[chainId])===null||_WRAPPED_NATIVE_CURRE2===void 0?void 0:_WRAPPED_NATIVE_CURRE2.address));if(isETHOrWETHNew&&isETHOrWETHOther){return[currencyIdNew,undefined];}else{return[currencyIdNew,currencyIdOther];}}},[chainId]);var handleCurrencyASelect=useCallback(function(currencyANew){var _handleCurrencySelect=handleCurrencySelect(currencyANew,currencyIdB),_handleCurrencySelect2=_slicedToArray(_handleCurrencySelect,2),idA=_handleCurrencySelect2[0],idB=_handleCurrencySelect2[1];if(idB===undefined){history.push(\"/add/\".concat(idA));}else{history.push(\"/add/\".concat(idA,\"/\").concat(idB));}},[handleCurrencySelect,currencyIdB,history]);var handleCurrencyBSelect=useCallback(function(currencyBNew){var _handleCurrencySelect3=handleCurrencySelect(currencyBNew,currencyIdA),_handleCurrencySelect4=_slicedToArray(_handleCurrencySelect3,2),idB=_handleCurrencySelect4[0],idA=_handleCurrencySelect4[1];if(idA===undefined){history.push(\"/add/\".concat(idB));}else{history.push(\"/add/\".concat(idA,\"/\").concat(idB));}},[handleCurrencySelect,currencyIdA,history]);var handleFeePoolSelect=useCallback(function(newFeeAmount){onLeftRangeInput('');onRightRangeInput('');history.push(\"/add/\".concat(currencyIdA,\"/\").concat(currencyIdB,\"/\").concat(newFeeAmount));},[currencyIdA,currencyIdB,history,onLeftRangeInput,onRightRangeInput]);var handleDismissConfirmation=useCallback(function(){setShowConfirm(false);// if there was a tx hash, we want to clear the input\nif(txHash){onFieldAInput('');// dont jump to pool page if creating\nhistory.push('/pool');}setTxHash('');},[history,onFieldAInput,txHash]);var addIsUnsupported=useIsSwapUnsupported(currencies===null||currencies===void 0?void 0:currencies.CURRENCY_A,currencies===null||currencies===void 0?void 0:currencies.CURRENCY_B);var clearAll=useCallback(function(){onFieldAInput('');onFieldBInput('');onLeftRangeInput('');onRightRangeInput('');history.push(\"/add\");},[history,onFieldAInput,onFieldBInput,onLeftRangeInput,onRightRangeInput]);// get value and prices at ticks\nvar tickLower=ticks[Bound.LOWER],tickUpper=ticks[Bound.UPPER];var priceLower=pricesAtTicks[Bound.LOWER],priceUpper=pricesAtTicks[Bound.UPPER];var _useRangeHopCallbacks=useRangeHopCallbacks(baseCurrency!==null&&baseCurrency!==void 0?baseCurrency:undefined,quoteCurrency!==null&&quoteCurrency!==void 0?quoteCurrency:undefined,feeAmount,tickLower,tickUpper,pool),getDecrementLower=_useRangeHopCallbacks.getDecrementLower,getIncrementLower=_useRangeHopCallbacks.getIncrementLower,getDecrementUpper=_useRangeHopCallbacks.getDecrementUpper,getIncrementUpper=_useRangeHopCallbacks.getIncrementUpper,getSetFullRange=_useRangeHopCallbacks.getSetFullRange;// we need an existence check on parsed amounts for single-asset deposits\nvar showApprovalA=!argentWalletContract&&approvalA!==ApprovalState.APPROVED&&!!parsedAmounts[Field.CURRENCY_A];var showApprovalB=!argentWalletContract&&approvalB!==ApprovalState.APPROVED&&!!parsedAmounts[Field.CURRENCY_B];var pendingText=\"Supplying \".concat(!depositADisabled?(_parsedAmounts$Field$=parsedAmounts[Field.CURRENCY_A])===null||_parsedAmounts$Field$===void 0?void 0:_parsedAmounts$Field$.toSignificant(6):'',\" \").concat(!depositADisabled?(_currencies$Field$CUR=currencies[Field.CURRENCY_A])===null||_currencies$Field$CUR===void 0?void 0:_currencies$Field$CUR.symbol:'',\" \").concat(!outOfRange?'and':'',\" \").concat(!depositBDisabled?(_parsedAmounts$Field$2=parsedAmounts[Field.CURRENCY_B])===null||_parsedAmounts$Field$2===void 0?void 0:_parsedAmounts$Field$2.toSignificant(6):'',\" \").concat(!depositBDisabled?(_currencies$Field$CUR2=currencies[Field.CURRENCY_B])===null||_currencies$Field$CUR2===void 0?void 0:_currencies$Field$CUR2.symbol:'');var Buttons=function Buttons(){var _currencies$Field$CUR3,_currencies$Field$CUR4,_currencies$Field$CUR5,_currencies$Field$CUR6;return addIsUnsupported?/*#__PURE__*/_jsx(ButtonPrimary,{disabled:true,$borderRadius:\"12px\",padding:'12px',children:/*#__PURE__*/_jsx(ThemedText.Main,{mb:\"4px\",children:/*#__PURE__*/_jsx(Trans,{id:\"Unsupported Asset\"})})}):!account?/*#__PURE__*/_jsx(ButtonLight,{onClick:toggleWalletModal,$borderRadius:\"12px\",padding:'12px',children:/*#__PURE__*/_jsx(Trans,{id:\"Connect Wallet\"})}):/*#__PURE__*/_jsxs(AutoColumn,{gap:'md',children:[(approvalA===ApprovalState.NOT_APPROVED||approvalA===ApprovalState.PENDING||approvalB===ApprovalState.NOT_APPROVED||approvalB===ApprovalState.PENDING)&&isValid&&/*#__PURE__*/_jsxs(RowBetween,{children:[showApprovalA&&/*#__PURE__*/_jsx(ButtonPrimary,{onClick:approveACallback,disabled:approvalA===ApprovalState.PENDING,width:showApprovalB?'48%':'100%',children:approvalA===ApprovalState.PENDING?/*#__PURE__*/_jsx(Dots,{children:/*#__PURE__*/_jsx(Trans,{id:\"Approving {0}\",values:{0:(_currencies$Field$CUR3=currencies[Field.CURRENCY_A])===null||_currencies$Field$CUR3===void 0?void 0:_currencies$Field$CUR3.symbol}})}):/*#__PURE__*/_jsx(Trans,{id:\"Approve {0}\",values:{0:(_currencies$Field$CUR4=currencies[Field.CURRENCY_A])===null||_currencies$Field$CUR4===void 0?void 0:_currencies$Field$CUR4.symbol}})}),showApprovalB&&/*#__PURE__*/_jsx(ButtonPrimary,{onClick:approveBCallback,disabled:approvalB===ApprovalState.PENDING,width:showApprovalA?'48%':'100%',children:approvalB===ApprovalState.PENDING?/*#__PURE__*/_jsx(Dots,{children:/*#__PURE__*/_jsx(Trans,{id:\"Approving {0}\",values:{0:(_currencies$Field$CUR5=currencies[Field.CURRENCY_B])===null||_currencies$Field$CUR5===void 0?void 0:_currencies$Field$CUR5.symbol}})}):/*#__PURE__*/_jsx(Trans,{id:\"Approve {0}\",values:{0:(_currencies$Field$CUR6=currencies[Field.CURRENCY_B])===null||_currencies$Field$CUR6===void 0?void 0:_currencies$Field$CUR6.symbol}})})]}),/*#__PURE__*/_jsx(ButtonError,{onClick:function onClick(){expertMode?onAdd():setShowConfirm(true);},disabled:!isValid||!argentWalletContract&&approvalA!==ApprovalState.APPROVED&&!depositADisabled||!argentWalletContract&&approvalB!==ApprovalState.APPROVED&&!depositBDisabled,error:!isValid&&!!parsedAmounts[Field.CURRENCY_A]&&!!parsedAmounts[Field.CURRENCY_B],children:/*#__PURE__*/_jsx(Text,{fontWeight:500,children:errorMessage?errorMessage:/*#__PURE__*/_jsx(Trans,{id:\"Preview\"})})})]});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(ScrollablePage,{children:[/*#__PURE__*/_jsx(TransactionConfirmationModal,{isOpen:showConfirm,onDismiss:handleDismissConfirmation,attemptingTxn:attemptingTxn,hash:txHash,content:function content(){return/*#__PURE__*/_jsx(ConfirmationModalContent,{title:/*#__PURE__*/_jsx(Trans,{id:\"Add Liquidity\"}),onDismiss:handleDismissConfirmation,topContent:function topContent(){return/*#__PURE__*/_jsx(Review,{parsedAmounts:parsedAmounts,position:position,existingPosition:existingPosition,priceLower:priceLower,priceUpper:priceUpper,outOfRange:outOfRange,ticksAtLimit:ticksAtLimit});},bottomContent:function bottomContent(){return/*#__PURE__*/_jsx(ButtonPrimary,{style:{marginTop:'1rem'},onClick:onAdd,children:/*#__PURE__*/_jsx(Text,{fontWeight:500,fontSize:20,children:/*#__PURE__*/_jsx(Trans,{id:\"Add\"})})});}});},pendingText:pendingText}),/*#__PURE__*/_jsxs(PageWrapper,{wide:!hasExistingPosition,children:[/*#__PURE__*/_jsx(AddRemoveTabs,{creating:false,adding:true,positionID:tokenId,defaultSlippage:DEFAULT_ADD_IN_RANGE_SLIPPAGE_TOLERANCE,showBackLink:!hasExistingPosition,children:!hasExistingPosition&&/*#__PURE__*/_jsxs(Row,{justifyContent:\"flex-end\",style:{width:'fit-content',minWidth:'fit-content'},children:[/*#__PURE__*/_jsx(MediumOnly,{children:/*#__PURE__*/_jsx(ButtonText,{onClick:clearAll,margin:\"0 15px 0 0\",children:/*#__PURE__*/_jsx(ThemedText.Blue,{fontSize:\"12px\",children:/*#__PURE__*/_jsx(Trans,{id:\"Clear All\"})})})}),baseCurrency&&quoteCurrency?/*#__PURE__*/_jsx(RateToggle,{currencyA:baseCurrency,currencyB:quoteCurrency,handleRateToggle:function handleRateToggle(){if(!ticksAtLimit[Bound.LOWER]&&!ticksAtLimit[Bound.UPPER]){var _toSignificant,_ref2,_toSignificant2,_ref3,_formattedAmounts$Fie;onLeftRangeInput((_toSignificant=(_ref2=invertPrice?priceLower:priceUpper===null||priceUpper===void 0?void 0:priceUpper.invert())===null||_ref2===void 0?void 0:_ref2.toSignificant(6))!==null&&_toSignificant!==void 0?_toSignificant:'');onRightRangeInput((_toSignificant2=(_ref3=invertPrice?priceUpper:priceLower===null||priceLower===void 0?void 0:priceLower.invert())===null||_ref3===void 0?void 0:_ref3.toSignificant(6))!==null&&_toSignificant2!==void 0?_toSignificant2:'');onFieldAInput((_formattedAmounts$Fie=formattedAmounts[Field.CURRENCY_B])!==null&&_formattedAmounts$Fie!==void 0?_formattedAmounts$Fie:'');}history.push(\"/add/\".concat(currencyIdB,\"/\").concat(currencyIdA).concat(feeAmount?'/'+feeAmount:''));}}):null]})}),/*#__PURE__*/_jsx(Wrapper,{children:/*#__PURE__*/_jsxs(ResponsiveTwoColumns,{wide:!hasExistingPosition,children:[/*#__PURE__*/_jsxs(AutoColumn,{gap:\"lg\",children:[!hasExistingPosition&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(AutoColumn,{gap:\"md\",children:[/*#__PURE__*/_jsx(RowBetween,{paddingBottom:\"20px\",children:/*#__PURE__*/_jsx(ThemedText.Label,{children:/*#__PURE__*/_jsx(Trans,{id:\"Select Pair\"})})}),/*#__PURE__*/_jsxs(RowBetween,{children:[/*#__PURE__*/_jsx(CurrencyDropdown,{value:formattedAmounts[Field.CURRENCY_A],onUserInput:onFieldAInput,hideInput:true,onMax:function onMax(){var _maxAmounts$Field$CUR,_maxAmounts$Field$CUR2;onFieldAInput((_maxAmounts$Field$CUR=(_maxAmounts$Field$CUR2=maxAmounts[Field.CURRENCY_A])===null||_maxAmounts$Field$CUR2===void 0?void 0:_maxAmounts$Field$CUR2.toExact())!==null&&_maxAmounts$Field$CUR!==void 0?_maxAmounts$Field$CUR:'');},onCurrencySelect:handleCurrencyASelect,showMaxButton:!atMaxAmounts[Field.CURRENCY_A],currency:(_currencies$Field$CUR7=currencies[Field.CURRENCY_A])!==null&&_currencies$Field$CUR7!==void 0?_currencies$Field$CUR7:null,id:\"add-liquidity-input-tokena\",showCommonBases:true}),/*#__PURE__*/_jsx(\"div\",{style:{width:'12px'}}),/*#__PURE__*/_jsx(CurrencyDropdown,{value:formattedAmounts[Field.CURRENCY_B],hideInput:true,onUserInput:onFieldBInput,onCurrencySelect:handleCurrencyBSelect,onMax:function onMax(){var _maxAmounts$Field$CUR3,_maxAmounts$Field$CUR4;onFieldBInput((_maxAmounts$Field$CUR3=(_maxAmounts$Field$CUR4=maxAmounts[Field.CURRENCY_B])===null||_maxAmounts$Field$CUR4===void 0?void 0:_maxAmounts$Field$CUR4.toExact())!==null&&_maxAmounts$Field$CUR3!==void 0?_maxAmounts$Field$CUR3:'');},showMaxButton:!atMaxAmounts[Field.CURRENCY_B],currency:(_currencies$Field$CUR8=currencies[Field.CURRENCY_B])!==null&&_currencies$Field$CUR8!==void 0?_currencies$Field$CUR8:null,id:\"add-liquidity-input-tokenb\",showCommonBases:true})]}),/*#__PURE__*/_jsx(FeeSelector,{disabled:!quoteCurrency||!baseCurrency,feeAmount:feeAmount,handleFeePoolSelect:handleFeePoolSelect,currencyA:baseCurrency!==null&&baseCurrency!==void 0?baseCurrency:undefined,currencyB:quoteCurrency!==null&&quoteCurrency!==void 0?quoteCurrency:undefined})]}),' ']}),hasExistingPosition&&existingPosition&&/*#__PURE__*/_jsx(PositionPreview,{position:existingPosition,title:/*#__PURE__*/_jsx(Trans,{id:\"Selected Range\"}),inRange:!outOfRange,ticksAtLimit:ticksAtLimit})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(DynamicSection,{disabled:tickLower===undefined||tickUpper===undefined||invalidPool||invalidRange,children:/*#__PURE__*/_jsxs(AutoColumn,{gap:\"md\",children:[/*#__PURE__*/_jsx(ThemedText.Label,{children:hasExistingPosition?/*#__PURE__*/_jsx(Trans,{id:\"Add more liquidity\"}):/*#__PURE__*/_jsx(Trans,{id:\"Deposit Amounts\"})}),/*#__PURE__*/_jsx(CurrencyInputPanel,{value:formattedAmounts[Field.CURRENCY_A],onUserInput:onFieldAInput,onMax:function onMax(){var _maxAmounts$Field$CUR5,_maxAmounts$Field$CUR6;onFieldAInput((_maxAmounts$Field$CUR5=(_maxAmounts$Field$CUR6=maxAmounts[Field.CURRENCY_A])===null||_maxAmounts$Field$CUR6===void 0?void 0:_maxAmounts$Field$CUR6.toExact())!==null&&_maxAmounts$Field$CUR5!==void 0?_maxAmounts$Field$CUR5:'');},showMaxButton:!atMaxAmounts[Field.CURRENCY_A],currency:(_currencies$Field$CUR9=currencies[Field.CURRENCY_A])!==null&&_currencies$Field$CUR9!==void 0?_currencies$Field$CUR9:null,id:\"add-liquidity-input-tokena\",fiatValue:usdcValues[Field.CURRENCY_A],showCommonBases:true,locked:depositADisabled}),/*#__PURE__*/_jsx(CurrencyInputPanel,{value:formattedAmounts[Field.CURRENCY_B],onUserInput:onFieldBInput,onMax:function onMax(){var _maxAmounts$Field$CUR7,_maxAmounts$Field$CUR8;onFieldBInput((_maxAmounts$Field$CUR7=(_maxAmounts$Field$CUR8=maxAmounts[Field.CURRENCY_B])===null||_maxAmounts$Field$CUR8===void 0?void 0:_maxAmounts$Field$CUR8.toExact())!==null&&_maxAmounts$Field$CUR7!==void 0?_maxAmounts$Field$CUR7:'');},showMaxButton:!atMaxAmounts[Field.CURRENCY_B],fiatValue:usdcValues[Field.CURRENCY_B],currency:(_currencies$Field$CUR10=currencies[Field.CURRENCY_B])!==null&&_currencies$Field$CUR10!==void 0?_currencies$Field$CUR10:null,id:\"add-liquidity-input-tokenb\",showCommonBases:true,locked:depositBDisabled})]})})}),!hasExistingPosition?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(HideMedium,{children:/*#__PURE__*/_jsx(Buttons,{})}),/*#__PURE__*/_jsxs(RightContainer,{gap:\"lg\",children:[/*#__PURE__*/_jsx(DynamicSection,{gap:\"md\",disabled:!feeAmount||invalidPool,children:!noLiquidity?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(RowBetween,{children:/*#__PURE__*/_jsx(ThemedText.Label,{children:/*#__PURE__*/_jsx(Trans,{id:\"Set Price Range\"})})}),price&&baseCurrency&&quoteCurrency&&!noLiquidity&&/*#__PURE__*/_jsx(AutoRow,{gap:\"4px\",justify:\"center\",style:{marginTop:'0.5rem'},children:/*#__PURE__*/_jsx(Trans,{id:\"<0>Current Price:</0><1><2/></1><3>{0} per {1}</3>\",values:{0:quoteCurrency===null||quoteCurrency===void 0?void 0:quoteCurrency.symbol,1:baseCurrency.symbol},components:{0:/*#__PURE__*/_jsx(ThemedText.Main,{fontWeight:500,textAlign:\"center\",fontSize:12,color:\"text1\"}),1:/*#__PURE__*/_jsx(ThemedText.Body,{fontWeight:500,textAlign:\"center\",fontSize:12,color:\"text1\"}),2:/*#__PURE__*/_jsx(HoverInlineText,{maxCharacters:20,text:invertPrice?price.invert().toSignificant(6):price.toSignificant(6)}),3:/*#__PURE__*/_jsx(ThemedText.Body,{color:\"text2\",fontSize:12})}})}),/*#__PURE__*/_jsx(LiquidityChartRangeInput,{currencyA:baseCurrency!==null&&baseCurrency!==void 0?baseCurrency:undefined,currencyB:quoteCurrency!==null&&quoteCurrency!==void 0?quoteCurrency:undefined,feeAmount:feeAmount,ticksAtLimit:ticksAtLimit,price:price?parseFloat((invertPrice?price.invert():price).toSignificant(8)):undefined,priceLower:priceLower,priceUpper:priceUpper,onLeftRangeInput:onLeftRangeInput,onRightRangeInput:onRightRangeInput,interactive:!hasExistingPosition})]}):/*#__PURE__*/_jsxs(AutoColumn,{gap:\"md\",children:[/*#__PURE__*/_jsx(RowBetween,{children:/*#__PURE__*/_jsx(ThemedText.Label,{children:/*#__PURE__*/_jsx(Trans,{id:\"Set Starting Price\"})})}),noLiquidity&&/*#__PURE__*/_jsx(BlueCard,{style:{display:'flex',flexDirection:'row',alignItems:'center',padding:'1rem 1rem'},children:/*#__PURE__*/_jsx(ThemedText.Body,{fontSize:14,style:{fontWeight:500},textAlign:\"left\",color:theme.primaryText1,children:/*#__PURE__*/_jsx(Trans,{id:\"This pool must be initialized before you can add liquidity. To initialize, select a starting price for the pool. Then, enter your liquidity price range and deposit amount. Gas fees will be higher than usual due to the initialization transaction.\"})})}),/*#__PURE__*/_jsx(OutlineCard,{padding:\"12px\",children:/*#__PURE__*/_jsx(StyledInput,{className:\"start-price-input\",value:startPriceTypedValue,onUserInput:onStartPriceInput})}),/*#__PURE__*/_jsxs(RowBetween,{style:{backgroundColor:theme.bg1,padding:'12px',borderRadius:'12px'},children:[/*#__PURE__*/_jsx(ThemedText.Main,{children:/*#__PURE__*/_jsx(Trans,{id:\"Current {0} Price:\",values:{0:baseCurrency===null||baseCurrency===void 0?void 0:baseCurrency.symbol}})}),/*#__PURE__*/_jsx(ThemedText.Main,{children:price?/*#__PURE__*/_jsx(ThemedText.Main,{children:/*#__PURE__*/_jsxs(RowFixed,{children:[/*#__PURE__*/_jsx(HoverInlineText,{maxCharacters:20,text:invertPrice?price===null||price===void 0?void 0:(_price$invert=price.invert())===null||_price$invert===void 0?void 0:_price$invert.toSignificant(5):price===null||price===void 0?void 0:price.toSignificant(5)}),' ',/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:'4px'},children:quoteCurrency===null||quoteCurrency===void 0?void 0:quoteCurrency.symbol})]})}):'-'})]})]})}),/*#__PURE__*/_jsxs(DynamicSection,{gap:\"md\",disabled:!feeAmount||invalidPool||noLiquidity&&!startPriceTypedValue,children:[/*#__PURE__*/_jsxs(StackedContainer,{children:[/*#__PURE__*/_jsx(StackedItem,{style:{opacity:showCapitalEfficiencyWarning?'0.05':1},children:/*#__PURE__*/_jsxs(AutoColumn,{gap:\"md\",children:[noLiquidity&&/*#__PURE__*/_jsx(RowBetween,{children:/*#__PURE__*/_jsx(ThemedText.Label,{children:/*#__PURE__*/_jsx(Trans,{id:\"Set Price Range\"})})}),/*#__PURE__*/_jsx(RangeSelector,{priceLower:priceLower,priceUpper:priceUpper,getDecrementLower:getDecrementLower,getIncrementLower:getIncrementLower,getDecrementUpper:getDecrementUpper,getIncrementUpper:getIncrementUpper,onLeftRangeInput:onLeftRangeInput,onRightRangeInput:onRightRangeInput,currencyA:baseCurrency,currencyB:quoteCurrency,feeAmount:feeAmount,ticksAtLimit:ticksAtLimit}),!noLiquidity&&/*#__PURE__*/_jsx(PresetsButtons,{setFullRange:function setFullRange(){setShowCapitalEfficiencyWarning(true);}})]})}),showCapitalEfficiencyWarning&&/*#__PURE__*/_jsx(StackedItem,{zIndex:1,children:/*#__PURE__*/_jsx(YellowCard,{padding:\"15px\",$borderRadius:\"12px\",height:\"100%\",style:{borderColor:theme.yellow3,border:'1px solid'},children:/*#__PURE__*/_jsxs(AutoColumn,{gap:\"8px\",style:{height:'100%'},children:[/*#__PURE__*/_jsxs(RowFixed,{children:[/*#__PURE__*/_jsx(AlertTriangle,{stroke:theme.yellow3,size:\"16px\"}),/*#__PURE__*/_jsx(ThemedText.Yellow,{ml:\"12px\",fontSize:\"15px\",children:/*#__PURE__*/_jsx(Trans,{id:\"Efficiency Comparison\"})})]}),/*#__PURE__*/_jsx(RowFixed,{children:/*#__PURE__*/_jsx(ThemedText.Yellow,{ml:\"12px\",fontSize:\"13px\",margin:0,fontWeight:400,children:/*#__PURE__*/_jsx(Trans,{id:\"Full range positions may earn less fees than concentrated positions. Learn more <0>here</0>.\",components:{0:/*#__PURE__*/_jsx(ExternalLink,{style:{color:theme.yellow3,textDecoration:'underline'},href:'https://help.uniswap.org/en/articles/5434296-can-i-provide-liquidity-over-the-full-range-in-v3'})}})})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(ButtonYellow,{padding:\"8px\",marginRight:\"8px\",$borderRadius:\"8px\",width:\"auto\",onClick:function onClick(){setShowCapitalEfficiencyWarning(false);getSetFullRange();},children:/*#__PURE__*/_jsx(ThemedText.Black,{fontSize:13,color:\"black\",children:/*#__PURE__*/_jsx(Trans,{id:\"I understand\"})})})})]})})})]}),outOfRange?/*#__PURE__*/_jsx(YellowCard,{padding:\"8px 12px\",$borderRadius:\"12px\",children:/*#__PURE__*/_jsxs(RowBetween,{children:[/*#__PURE__*/_jsx(AlertTriangle,{stroke:theme.yellow3,size:\"16px\"}),/*#__PURE__*/_jsx(ThemedText.Yellow,{ml:\"12px\",fontSize:\"12px\",children:/*#__PURE__*/_jsx(Trans,{id:\"Your position will not earn fees or be used in trades until the market price moves into your range.\"})})]})}):null,invalidRange?/*#__PURE__*/_jsx(YellowCard,{padding:\"8px 12px\",$borderRadius:\"12px\",children:/*#__PURE__*/_jsxs(RowBetween,{children:[/*#__PURE__*/_jsx(AlertTriangle,{stroke:theme.yellow3,size:\"16px\"}),/*#__PURE__*/_jsx(ThemedText.Yellow,{ml:\"12px\",fontSize:\"12px\",children:/*#__PURE__*/_jsx(Trans,{id:\"Invalid range selected. The min price must be lower than the max price.\"})})]})}):null]}),/*#__PURE__*/_jsx(MediumOnly,{children:/*#__PURE__*/_jsx(Buttons,{})})]})]}):/*#__PURE__*/_jsx(Buttons,{})]})})]}),addIsUnsupported&&/*#__PURE__*/_jsx(UnsupportedCurrencyFooter,{show:addIsUnsupported,currencies:[currencies.CURRENCY_A,currencies.CURRENCY_B]})]}),/*#__PURE__*/_jsx(SwitchLocaleLink,{})]});}","map":{"version":3,"sources":["/Users/safahi/Downloads/interface-4.30.1/src/pages/AddLiquidity/index.tsx"],"names":["BigNumber","Percent","FeeAmount","NonfungiblePositionManager","UnsupportedCurrencyFooter","useCallback","useContext","useEffect","useState","AlertTriangle","ReactGA","Text","useRangeHopCallbacks","useV3DerivedMintInfo","useV3MintActionHandlers","useV3MintState","ButtonError","ButtonLight","ButtonPrimary","ButtonText","ButtonYellow","BlueCard","OutlineCard","YellowCard","AutoColumn","CurrencyInputPanel","FeeSelector","HoverInlineText","LiquidityChartRangeInput","AddRemoveTabs","PositionPreview","RangeSelector","PresetsButtons","RateToggle","Row","AutoRow","RowBetween","RowFixed","SwitchLocaleLink","TransactionConfirmationModal","ConfirmationModalContent","NONFUNGIBLE_POSITION_MANAGER_ADDRESSES","ZERO_PERCENT","WRAPPED_NATIVE_CURRENCY","useCurrency","ApprovalState","useApproveCallback","useArgentWalletContract","useV3NFTPositionManagerContract","useDerivedPositionInfo","useIsSwapUnsupported","useTransactionDeadline","useUSDCValue","useV3PositionFromTokenId","useActiveWeb3React","useWalletModalToggle","Bound","Field","TransactionType","useTransactionAdder","useIsExpertMode","useUserSlippageToleranceWithDefault","ExternalLink","ThemedText","approveAmountCalldata","calculateGasMargin","currencyId","maxAmountSpend","Dots","Review","CurrencyDropdown","DynamicSection","HideMedium","MediumOnly","PageWrapper","ResponsiveTwoColumns","RightContainer","ScrollablePage","StackedContainer","StackedItem","StyledInput","Wrapper","DEFAULT_ADD_IN_RANGE_SLIPPAGE_TOLERANCE","AddLiquidity","match","params","currencyIdA","currencyIdB","feeAmountFromUrl","feeAmount","tokenId","history","account","chainId","library","theme","ThemeContext","toggleWalletModal","expertMode","addTransaction","positionManager","from","undefined","existingPositionDetails","position","positionLoading","loading","hasExistingPosition","existingPosition","Object","values","includes","parseFloat","baseCurrency","currencyB","quoteCurrency","wrapped","equals","independentField","typedValue","startPriceTypedValue","pool","ticks","dependentField","price","pricesAtTicks","parsedAmounts","currencyBalances","noLiquidity","currencies","errorMessage","invalidPool","invalidRange","outOfRange","depositADisabled","depositBDisabled","invertPrice","ticksAtLimit","onFieldAInput","onFieldBInput","onLeftRangeInput","onRightRangeInput","onStartPriceInput","isValid","showConfirm","setShowConfirm","attemptingTxn","setAttemptingTxn","showCapitalEfficiencyWarning","setShowCapitalEfficiencyWarning","deadline","txHash","setTxHash","formattedAmounts","toSignificant","usdcValues","CURRENCY_A","CURRENCY_B","maxAmounts","reduce","accumulator","field","atMaxAmounts","equalTo","argentWalletContract","approvalA","approveACallback","approvalB","approveBCallback","allowedSlippage","onAdd","useNative","isNative","addCallParameters","slippageTolerance","toString","recipient","createPool","calldata","value","txn","to","data","amountA","amountB","batch","currency","isToken","interface","encodeFunctionData","address","getSigner","estimateGas","then","estimate","newTxn","gasLimit","sendTransaction","response","type","ADD_LIQUIDITY_V3_POOL","baseCurrencyId","quoteCurrencyId","Boolean","expectedAmountBaseRaw","quotient","expectedAmountQuoteRaw","fee","hash","event","category","action","label","symbol","join","catch","error","console","code","handleCurrencySelect","currencyNew","currencyIdOther","currencyIdNew","isETHOrWETHNew","isETHOrWETHOther","handleCurrencyASelect","currencyANew","idA","idB","push","handleCurrencyBSelect","currencyBNew","handleFeePoolSelect","newFeeAmount","handleDismissConfirmation","addIsUnsupported","clearAll","tickLower","LOWER","tickUpper","UPPER","priceLower","priceUpper","getDecrementLower","getIncrementLower","getDecrementUpper","getIncrementUpper","getSetFullRange","showApprovalA","APPROVED","showApprovalB","pendingText","Buttons","NOT_APPROVED","PENDING","marginTop","width","minWidth","invert","toExact","display","flexDirection","alignItems","padding","fontWeight","primaryText1","backgroundColor","bg1","borderRadius","marginLeft","opacity","borderColor","yellow3","border","height","color","textDecoration"],"mappings":"8hCAAA,OAASA,SAAT,KAA0B,0BAA1B,CAGA,OAAmCC,OAAnC,KAAkD,mBAAlD,CACA,OAASC,SAAT,CAAoBC,0BAApB,KAAsD,iBAAtD,CACA,MAAOC,CAAAA,yBAAP,KAAsC,2CAAtC,CACA,OAASC,WAAT,CAAsBC,UAAtB,CAAkCC,SAAlC,CAA6CC,QAA7C,KAA6D,OAA7D,CACA,OAASC,aAAT,KAA8B,eAA9B,CACA,MAAOC,CAAAA,OAAP,KAAoB,UAApB,CAEA,OAASC,IAAT,KAAqB,QAArB,CACA,OACEC,oBADF,CAEEC,oBAFF,CAGEC,uBAHF,CAIEC,cAJF,KAKO,qBALP,CAQA,OAASC,WAAT,CAAsBC,WAAtB,CAAmCC,aAAnC,CAAkDC,UAAlD,CAA8DC,YAA9D,KAAkF,yBAAlF,CACA,OAASC,QAAT,CAAmBC,WAAnB,CAAgCC,UAAhC,KAAkD,uBAAlD,CACA,OAASC,UAAT,KAA2B,yBAA3B,CACA,MAAOC,CAAAA,kBAAP,KAA+B,qCAA/B,CACA,MAAOC,CAAAA,WAAP,KAAwB,8BAAxB,CACA,MAAOC,CAAAA,eAAP,KAA4B,kCAA5B,CACA,MAAOC,CAAAA,wBAAP,KAAqC,2CAArC,CACA,OAASC,aAAT,KAA8B,iCAA9B,CACA,OAASC,eAAT,KAAgC,kCAAhC,CACA,MAAOC,CAAAA,aAAP,KAA0B,gCAA1B,CACA,MAAOC,CAAAA,cAAP,KAA2B,+CAA3B,CACA,MAAOC,CAAAA,UAAP,KAAuB,6BAAvB,CACA,MAAOC,CAAAA,GAAP,EAAcC,OAAd,CAAuBC,UAAvB,CAAmCC,QAAnC,KAAmD,sBAAnD,CACA,OAASC,gBAAT,KAAiC,mCAAjC,CACA,MAAOC,CAAAA,4BAAP,EAAuCC,wBAAvC,KAAuE,+CAAvE,CACA,OAASC,sCAAT,KAAuD,2BAAvD,CACA,OAASC,YAAT,KAA6B,sBAA7B,CACA,OAASC,uBAAT,KAAwC,wBAAxC,CACA,OAASC,WAAT,KAA4B,oBAA5B,CACA,OAASC,aAAT,CAAwBC,kBAAxB,KAAkD,gCAAlD,CACA,OAASC,uBAAT,KAAwC,qCAAxC,CACA,OAASC,+BAAT,KAAgD,yBAAhD,CACA,OAASC,sBAAT,KAAuC,oCAAvC,CACA,OAASC,oBAAT,KAAqC,kCAArC,CACA,MAAOC,CAAAA,sBAAP,KAAmC,oCAAnC,CACA,OAASC,YAAT,KAA6B,0BAA7B,CACA,OAASC,wBAAT,KAAyC,4BAAzC,CACA,OAASC,kBAAT,KAAmC,kBAAnC,CACA,OAASC,oBAAT,KAAqC,+BAArC,CACA,OAASC,KAAT,CAAgBC,KAAhB,KAA6B,6BAA7B,CACA,OAASC,eAAT,KAAgC,kCAAhC,CACA,OAASC,mBAAT,KAAoC,gCAApC,CACA,OAASC,eAAT,CAA0BC,mCAA1B,KAAqE,wBAArE,CACA,OAASC,YAAT,CAAuBC,UAAvB,KAAyC,aAAzC,CACA,MAAOC,CAAAA,qBAAP,KAAkC,mCAAlC,CACA,OAASC,kBAAT,KAAmC,gCAAnC,CACA,OAASC,UAAT,KAA2B,wBAA3B,CACA,OAASC,cAAT,KAA+B,4BAA/B,CACA,OAASC,IAAT,KAAqB,iBAArB,CACA,OAASC,MAAT,KAAuB,UAAvB,CACA,OACEC,gBADF,CAEEC,cAFF,CAGEC,UAHF,CAIEC,UAJF,CAKEC,WALF,CAMEC,oBANF,CAOEC,cAPF,CAQEC,cARF,CASEC,gBATF,CAUEC,WAVF,CAWEC,WAXF,CAYEC,OAZF,KAaO,UAbP,C,6IAeA,GAAMC,CAAAA,uCAAuC,CAAG,GAAIjF,CAAAA,OAAJ,CAAY,EAAZ,CAAgB,KAAhB,CAAhD,CAEA,cAAe,SAASkF,CAAAA,YAAT,MAK+F,gTAJ5GC,KAI4G,CAH1GC,MAG0G,CAHhGC,WAGgG,mBAHhGA,WAGgG,CAHnFC,WAGmF,mBAHnFA,WAGmF,CAH3DC,gBAG2D,mBAHtEC,SAGsE,CAHzCC,OAGyC,mBAHzCA,OAGyC,CAD5GC,OAC4G,MAD5GA,OAC4G,CAC5G,wBAAsCrC,kBAAkB,EAAxD,CAAQsC,OAAR,qBAAQA,OAAR,CAAiBC,OAAjB,qBAAiBA,OAAjB,CAA0BC,OAA1B,qBAA0BA,OAA1B,CACA,GAAMC,CAAAA,KAAK,CAAGzF,UAAU,CAAC0F,aAAD,CAAxB,CACA,GAAMC,CAAAA,iBAAiB,CAAG1C,oBAAoB,EAA9C,CAAiD;AACjD,GAAM2C,CAAAA,UAAU,CAAGtC,eAAe,EAAlC,CACA,GAAMuC,CAAAA,cAAc,CAAGxC,mBAAmB,EAA1C,CACA,GAAMyC,CAAAA,eAAe,CAAGpD,+BAA+B,EAAvD,CAEA;AACA,0BAAwEK,wBAAwB,CAC9FqC,OAAO,CAAG1F,SAAS,CAACqG,IAAV,CAAeX,OAAf,CAAH,CAA6BY,SAD0D,CAAhG,CAAkBC,uBAAlB,uBAAQC,QAAR,CAAoDC,eAApD,uBAA2CC,OAA3C,CAGA,GAAMC,CAAAA,mBAAmB,CAAG,CAAC,CAACJ,uBAAF,EAA6B,CAACE,eAA1D,CACA,0BAAuCxD,sBAAsB,CAACsD,uBAAD,CAA7D,CAAkBK,gBAAlB,uBAAQJ,QAAR,CAEA;AACA,GAAMf,CAAAA,SAAgC,CACpCD,gBAAgB,EAAIqB,MAAM,CAACC,MAAP,CAAc5G,SAAd,EAAyB6G,QAAzB,CAAkCC,UAAU,CAACxB,gBAAD,CAA5C,CAApB,CACIwB,UAAU,CAACxB,gBAAD,CADd,CAEIc,SAHN,CAKA,GAAMW,CAAAA,YAAY,CAAGrE,WAAW,CAAC0C,WAAD,CAAhC,CACA,GAAM4B,CAAAA,SAAS,CAAGtE,WAAW,CAAC2C,WAAD,CAA7B,CACA;AACA,GAAM4B,CAAAA,aAAa,CACjBF,YAAY,EAAIC,SAAhB,EAA6BD,YAAY,CAACG,OAAb,CAAqBC,MAArB,CAA4BH,SAAS,CAACE,OAAtC,CAA7B,CAA8Ed,SAA9E,CAA0FY,SAD5F,CAGA;AACA,oBAA+DnG,cAAc,EAA7E,CAAQuG,gBAAR,iBAAQA,gBAAR,CAA0BC,UAA1B,iBAA0BA,UAA1B,CAAsCC,oBAAtC,iBAAsCA,oBAAtC,CAEA,0BAmBI3G,oBAAoB,CACtBoG,YADsB,SACtBA,YADsB,UACtBA,YADsB,CACNX,SADM,CAEtBa,aAFsB,SAEtBA,aAFsB,UAEtBA,aAFsB,CAELb,SAFK,CAGtBb,SAHsB,CAItBwB,YAJsB,SAItBA,YAJsB,UAItBA,YAJsB,CAINX,SAJM,CAKtBM,gBALsB,CAnBxB,CACEa,IADF,uBACEA,IADF,CAEEC,KAFF,uBAEEA,KAFF,CAGEC,cAHF,uBAGEA,cAHF,CAIEC,KAJF,uBAIEA,KAJF,CAKEC,aALF,uBAKEA,aALF,CAMEC,aANF,uBAMEA,aANF,CAOEC,gBAPF,uBAOEA,gBAPF,CAQEvB,QARF,uBAQEA,QARF,CASEwB,WATF,uBASEA,WATF,CAUEC,UAVF,uBAUEA,UAVF,CAWEC,YAXF,uBAWEA,YAXF,CAYEC,WAZF,uBAYEA,WAZF,CAaEC,YAbF,uBAaEA,YAbF,CAcEC,UAdF,uBAcEA,UAdF,CAeEC,gBAfF,uBAeEA,gBAfF,CAgBEC,gBAhBF,uBAgBEA,gBAhBF,CAiBEC,WAjBF,uBAiBEA,WAjBF,CAkBEC,YAlBF,uBAkBEA,YAlBF,CA2BA,0BACE3H,uBAAuB,CAACkH,WAAD,CADzB,CAAQU,aAAR,uBAAQA,aAAR,CAAuBC,aAAvB,uBAAuBA,aAAvB,CAAsCC,gBAAtC,uBAAsCA,gBAAtC,CAAwDC,iBAAxD,uBAAwDA,iBAAxD,CAA2EC,iBAA3E,uBAA2EA,iBAA3E,CAGA,GAAMC,CAAAA,OAAO,CAAG,CAACb,YAAD,EAAiB,CAACE,YAAlC,CAEA;AACA,cAAsC5H,QAAQ,CAAU,KAAV,CAA9C,wCAAOwI,WAAP,eAAoBC,cAApB,eACA,eAA0CzI,QAAQ,CAAU,KAAV,CAAlD,yCAAO0I,aAAP,eAAsBC,gBAAtB,eAAmE;AAEnE;AACA,eAAwE3I,QAAQ,CAAC,KAAD,CAAhF,yCAAO4I,4BAAP,eAAqCC,+BAArC,eAEA9I,SAAS,CAAC,iBAAM8I,CAAAA,+BAA+B,CAAC,KAAD,CAArC,EAAD,CAA+C,CAACpC,YAAD,CAAeE,aAAf,CAA8B1B,SAA9B,CAA/C,CAAT,CAEA;AACA,GAAM6D,CAAAA,QAAQ,CAAGnG,sBAAsB,EAAvC,CAA0C;AAE1C,eAA4B3C,QAAQ,CAAS,EAAT,CAApC,yCAAO+I,MAAP,eAAeC,SAAf,eAEA;AACA,GAAMC,CAAAA,gBAAgB,yDACnBnC,gBADmB,CACAC,UADA,oCAEnBI,cAFmB,gDAEFG,aAAa,CAACH,cAAD,CAFX,iDAEF,uBAA+B+B,aAA/B,CAA6C,CAA7C,CAFE,+DAEiD,EAFjD,oBAAtB,CAKA,GAAMC,CAAAA,UAAU,6CACblG,KAAK,CAACmG,UADO,CACMxG,YAAY,CAAC0E,aAAa,CAACrE,KAAK,CAACmG,UAAP,CAAd,CADlB,8BAEbnG,KAAK,CAACoG,UAFO,CAEMzG,YAAY,CAAC0E,aAAa,CAACrE,KAAK,CAACoG,UAAP,CAAd,CAFlB,cAAhB,CAKA;AACA,GAAMC,CAAAA,UAA2D,CAAG,CAACrG,KAAK,CAACmG,UAAP,CAAmBnG,KAAK,CAACoG,UAAzB,EAAqCE,MAArC,CAClE,SAACC,WAAD,CAAcC,KAAd,CAAwB,CACtB,sCACKD,WADL,wBAEGC,KAFH,CAEW9F,cAAc,CAAC4D,gBAAgB,CAACkC,KAAD,CAAjB,CAFzB,GAID,CANiE,CAOlE,EAPkE,CAApE,CAUA,GAAMC,CAAAA,YAA6D,CAAG,CAACzG,KAAK,CAACmG,UAAP,CAAmBnG,KAAK,CAACoG,UAAzB,EAAqCE,MAArC,CACpE,SAACC,WAAD,CAAcC,KAAd,CAAwB,4CACtB,sCACKD,WADL,wBAEGC,KAFH,oBAEWH,UAAU,CAACG,KAAD,CAFrB,4CAEW,kBAAmBE,OAAnB,uBAA2BrC,aAAa,CAACmC,KAAD,CAAxC,6DAAmD,GAAnD,CAFX,GAID,CANmE,CAOpE,EAPoE,CAAtE,CAUA,GAAMG,CAAAA,oBAAoB,CAAGrH,uBAAuB,EAApD,CAEA;AACA,wBAAsCD,kBAAkB,CACtDsH,oBAAoB,CAAG9D,SAAH,CAAewB,aAAa,CAACrE,KAAK,CAACmG,UAAP,CADM,CAEtD/D,OAAO,CAAGpD,sCAAsC,CAACoD,OAAD,CAAzC,CAAqDS,SAFN,CAAxD,4DAAO+D,SAAP,yBAAkBC,gBAAlB,yBAIA,yBAAsCxH,kBAAkB,CACtDsH,oBAAoB,CAAG9D,SAAH,CAAewB,aAAa,CAACrE,KAAK,CAACoG,UAAP,CADM,CAEtDhE,OAAO,CAAGpD,sCAAsC,CAACoD,OAAD,CAAzC,CAAqDS,SAFN,CAAxD,6DAAOiE,SAAP,yBAAkBC,gBAAlB,yBAKA,GAAMC,CAAAA,eAAe,CAAG5G,mCAAmC,CACzDwE,UAAU,CAAG3F,YAAH,CAAkBwC,uCAD6B,CAA3D,CAxH4G,QA4H7FwF,CAAAA,KA5H6F,yHA4H5G,0MACM,CAAC7E,OAAD,EAAY,CAACC,OAAb,EAAwB,CAACF,OAD/B,uEAGM,CAACQ,eAAD,EAAoB,CAACa,YAArB,EAAqC,CAACE,aAH5C,uEAOMX,QAAQ,EAAIZ,OAAZ,EAAuB0D,QAP7B,2BAQUqB,SARV,CAQsB1D,YAAY,CAAC2D,QAAb,CAAwB3D,YAAxB,CAAuCE,aAAa,CAACyD,QAAd,CAAyBzD,aAAzB,CAAyCb,SARtG,OAUMK,mBAAmB,EAAIjB,OAAvB,CACIvF,0BAA0B,CAAC0K,iBAA3B,CAA6CrE,QAA7C,CAAuD,CACrDd,OAAO,CAAPA,OADqD,CAErDoF,iBAAiB,CAAEL,eAFkC,CAGrDnB,QAAQ,CAAEA,QAAQ,CAACyB,QAAT,EAH2C,CAIrDJ,SAAS,CAATA,SAJqD,CAAvD,CADJ,CAOIxK,0BAA0B,CAAC0K,iBAA3B,CAA6CrE,QAA7C,CAAuD,CACrDsE,iBAAiB,CAAEL,eADkC,CAErDO,SAAS,CAAEpF,OAF0C,CAGrD0D,QAAQ,CAAEA,QAAQ,CAACyB,QAAT,EAH2C,CAIrDJ,SAAS,CAATA,SAJqD,CAKrDM,UAAU,CAAEjD,WALyC,CAAvD,CAjBV,CASYkD,QATZ,OASYA,QATZ,CASsBC,KATtB,OASsBA,KATtB,CAyBQC,GAzBR,CAyB2D,CACrDC,EAAE,CAAE5I,sCAAsC,CAACoD,OAAD,CADW,CAErDyF,IAAI,CAAEJ,QAF+C,CAGrDC,KAAK,CAALA,KAHqD,CAzB3D,CA+BI,GAAIf,oBAAJ,CAA0B,CAClBmB,OADkB,CACRzD,aAAa,CAACrE,KAAK,CAACmG,UAAP,CADL,CAElB4B,OAFkB,CAER1D,aAAa,CAACrE,KAAK,CAACoG,UAAP,CAFL,CAGlB4B,KAHkB,8BAIlBF,OAAO,EAAIA,OAAO,CAACG,QAAR,CAAiBC,OAA5B,CACA,CAAC3H,qBAAqB,CAACuH,OAAD,CAAU9I,sCAAsC,CAACoD,OAAD,CAAhD,CAAtB,CADA,CAEA,EANkB,qBAOlB2F,OAAO,EAAIA,OAAO,CAACE,QAAR,CAAiBC,OAA5B,CACA,CAAC3H,qBAAqB,CAACwH,OAAD,CAAU/I,sCAAsC,CAACoD,OAAD,CAAhD,CAAtB,CADA,CAEA,EATkB,GAUtB,CACEwF,EAAE,CAAED,GAAG,CAACC,EADV,CAEEC,IAAI,CAAEF,GAAG,CAACE,IAFZ,CAGEH,KAAK,CAAEC,GAAG,CAACD,KAHb,CAVsB,GAgBlBG,IAhBkB,CAgBXlB,oBAAoB,CAACwB,SAArB,CAA+BC,kBAA/B,CAAkD,cAAlD,CAAkE,CAACJ,KAAD,CAAlE,CAhBW,CAiBxBL,GAAG,CAAG,CACJC,EAAE,CAAEjB,oBAAoB,CAAC0B,OADrB,CAEJR,IAAI,CAAJA,IAFI,CAGJH,KAAK,CAAE,KAHH,CAAN,CAKD,CAEDhC,gBAAgB,CAAC,IAAD,CAAhB,CAEArD,OAAO,CACJiG,SADH,GAEGC,WAFH,CAEeZ,GAFf,EAGGa,IAHH,CAGQ,SAACC,QAAD,CAAc,CAClB,GAAMC,CAAAA,MAAM,gCACPf,GADO,MAEVgB,QAAQ,CAAEnI,kBAAkB,CAACiI,QAAD,CAFlB,EAAZ,CAKA,MAAOpG,CAAAA,OAAO,CACXiG,SADI,GAEJM,eAFI,CAEYF,MAFZ,EAGJF,IAHI,CAGC,SAACK,QAAD,CAAmC,+LACvCnD,gBAAgB,CAAC,KAAD,CAAhB,CACAhD,cAAc,CAACmG,QAAD,CAAW,CACvBC,IAAI,CAAE7I,eAAe,CAAC8I,qBADC,CAEvBC,cAAc,CAAEvI,UAAU,CAAC+C,YAAD,CAFH,CAGvByF,eAAe,CAAExI,UAAU,CAACiD,aAAD,CAHJ,CAIvB8D,UAAU,CAAE0B,OAAO,CAAC3E,WAAD,CAJI,CAKvB4E,qBAAqB,iDAAE9E,aAAa,CAACrE,KAAK,CAACmG,UAAP,CAAf,yEAAE,uBAAiCiD,QAAnC,iDAAE,uBAA2C9B,QAA3C,EAAF,iEAA2D,GALzD,CAMvB+B,sBAAsB,iDAAEhF,aAAa,CAACrE,KAAK,CAACoG,UAAP,CAAf,yEAAE,uBAAiCgD,QAAnC,iDAAE,uBAA2C9B,QAA3C,EAAF,iEAA2D,GAN1D,CAOvBtF,SAAS,CAAEe,QAAQ,CAACiB,IAAT,CAAcsF,GAPF,CAAX,CAAd,CASAvD,SAAS,CAAC8C,QAAQ,CAACU,IAAV,CAAT,CACAtM,OAAO,CAACuM,KAAR,CAAc,CACZC,QAAQ,CAAE,WADE,CAEZC,MAAM,CAAE,KAFI,CAGZC,KAAK,CAAE,0BAACnF,UAAU,CAACxE,KAAK,CAACmG,UAAP,CAAX,kDAAC,wBAA8ByD,MAA/B,0BAAuCpF,UAAU,CAACxE,KAAK,CAACoG,UAAP,CAAjD,kDAAuC,wBAA8BwD,MAArE,EAA6EC,IAA7E,CAAkF,GAAlF,CAHK,CAAd,EAKD,CApBI,CAAP,CAqBD,CA9BH,EA+BGC,KA/BH,CA+BS,SAACC,KAAD,CAAW,CAChBC,OAAO,CAACD,KAAR,CAAc,4BAAd,CAA4CA,KAA5C,EACArE,gBAAgB,CAAC,KAAD,CAAhB,CACA;AACA,GAAI,CAAAqE,KAAK,OAAL,EAAAA,KAAK,SAAL,QAAAA,KAAK,CAAEE,IAAP,IAAgB,IAApB,CAA0B,CACxBD,OAAO,CAACD,KAAR,CAAcA,KAAd,EACD,CACF,CAtCH,EAzDJ,uHA5H4G,wCAiO5G,GAAMG,CAAAA,oBAAoB,CAAGtN,WAAW,CACtC,SAACuN,WAAD,CAAwBC,eAAxB,CAA6E,CAC3E,GAAMC,CAAAA,aAAa,CAAG5J,UAAU,CAAC0J,WAAD,CAAhC,CAEA,GAAIE,aAAa,GAAKD,eAAtB,CAAuC,CACrC;AACA,MAAO,CAACC,aAAD,CAAgBxH,SAAhB,CAAP,CACD,CAHD,IAGO,kDACL;AACA,GAAMyH,CAAAA,cAAc,CAClBD,aAAa,GAAK,KAAlB,EACCjI,OAAO,GAAKS,SAAZ,EAAyBwH,aAAa,2BAAKnL,uBAAuB,CAACkD,OAAD,CAA5B,gDAAK,sBAAkCiG,OAAvC,CAFzC,CAGA,GAAMkC,CAAAA,gBAAgB,CACpBH,eAAe,GAAKvH,SAApB,GACCuH,eAAe,GAAK,KAApB,EACEhI,OAAO,GAAKS,SAAZ,EAAyBuH,eAAe,4BAAKlL,uBAAuB,CAACkD,OAAD,CAA5B,iDAAK,uBAAkCiG,OAAvC,CAF3C,CADF,CAKA,GAAIiC,cAAc,EAAIC,gBAAtB,CAAwC,CACtC,MAAO,CAACF,aAAD,CAAgBxH,SAAhB,CAAP,CACD,CAFD,IAEO,CACL,MAAO,CAACwH,aAAD,CAAgBD,eAAhB,CAAP,CACD,CACF,CACF,CAvBqC,CAwBtC,CAAChI,OAAD,CAxBsC,CAAxC,CA2BA,GAAMoI,CAAAA,qBAAqB,CAAG5N,WAAW,CACvC,SAAC6N,YAAD,CAA4B,CAC1B,0BAAmBP,oBAAoB,CAACO,YAAD,CAAe3I,WAAf,CAAvC,gEAAO4I,GAAP,2BAAYC,GAAZ,2BACA,GAAIA,GAAG,GAAK9H,SAAZ,CAAuB,CACrBX,OAAO,CAAC0I,IAAR,gBAAqBF,GAArB,GACD,CAFD,IAEO,CACLxI,OAAO,CAAC0I,IAAR,gBAAqBF,GAArB,aAA4BC,GAA5B,GACD,CACF,CARsC,CASvC,CAACT,oBAAD,CAAuBpI,WAAvB,CAAoCI,OAApC,CATuC,CAAzC,CAYA,GAAM2I,CAAAA,qBAAqB,CAAGjO,WAAW,CACvC,SAACkO,YAAD,CAA4B,CAC1B,2BAAmBZ,oBAAoB,CAACY,YAAD,CAAejJ,WAAf,CAAvC,iEAAO8I,GAAP,2BAAYD,GAAZ,2BACA,GAAIA,GAAG,GAAK7H,SAAZ,CAAuB,CACrBX,OAAO,CAAC0I,IAAR,gBAAqBD,GAArB,GACD,CAFD,IAEO,CACLzI,OAAO,CAAC0I,IAAR,gBAAqBF,GAArB,aAA4BC,GAA5B,GACD,CACF,CARsC,CASvC,CAACT,oBAAD,CAAuBrI,WAAvB,CAAoCK,OAApC,CATuC,CAAzC,CAYA,GAAM6I,CAAAA,mBAAmB,CAAGnO,WAAW,CACrC,SAACoO,YAAD,CAA6B,CAC3B7F,gBAAgB,CAAC,EAAD,CAAhB,CACAC,iBAAiB,CAAC,EAAD,CAAjB,CACAlD,OAAO,CAAC0I,IAAR,gBAAqB/I,WAArB,aAAoCC,WAApC,aAAmDkJ,YAAnD,GACD,CALoC,CAMrC,CAACnJ,WAAD,CAAcC,WAAd,CAA2BI,OAA3B,CAAoCiD,gBAApC,CAAsDC,iBAAtD,CANqC,CAAvC,CASA,GAAM6F,CAAAA,yBAAyB,CAAGrO,WAAW,CAAC,UAAM,CAClD4I,cAAc,CAAC,KAAD,CAAd,CACA;AACA,GAAIM,MAAJ,CAAY,CACVb,aAAa,CAAC,EAAD,CAAb,CACA;AACA/C,OAAO,CAAC0I,IAAR,CAAa,OAAb,EACD,CACD7E,SAAS,CAAC,EAAD,CAAT,CACD,CAT4C,CAS1C,CAAC7D,OAAD,CAAU+C,aAAV,CAAyBa,MAAzB,CAT0C,CAA7C,CAWA,GAAMoF,CAAAA,gBAAgB,CAAGzL,oBAAoB,CAAC+E,UAAD,SAACA,UAAD,iBAACA,UAAU,CAAE2B,UAAb,CAAyB3B,UAAzB,SAAyBA,UAAzB,iBAAyBA,UAAU,CAAE4B,UAArC,CAA7C,CAEA,GAAM+E,CAAAA,QAAQ,CAAGvO,WAAW,CAAC,UAAM,CACjCqI,aAAa,CAAC,EAAD,CAAb,CACAC,aAAa,CAAC,EAAD,CAAb,CACAC,gBAAgB,CAAC,EAAD,CAAhB,CACAC,iBAAiB,CAAC,EAAD,CAAjB,CACAlD,OAAO,CAAC0I,IAAR,SACD,CAN2B,CAMzB,CAAC1I,OAAD,CAAU+C,aAAV,CAAyBC,aAAzB,CAAwCC,gBAAxC,CAA0DC,iBAA1D,CANyB,CAA5B,CAQA;AACA,GAAuBgG,CAAAA,SAAvB,CAA+DnH,KAA/D,CAASlE,KAAK,CAACsL,KAAf,EAAiDC,SAAjD,CAA+DrH,KAA/D,CAAmClE,KAAK,CAACwL,KAAzC,EACA,GAAuBC,CAAAA,UAAvB,CAAiEpH,aAAjE,CAASrE,KAAK,CAACsL,KAAf,EAAkDI,UAAlD,CAAiErH,aAAjE,CAAoCrE,KAAK,CAACwL,KAA1C,EAEA,0BACEpO,oBAAoB,CAACqG,YAAD,SAACA,YAAD,UAACA,YAAD,CAAiBX,SAAjB,CAA4Ba,aAA5B,SAA4BA,aAA5B,UAA4BA,aAA5B,CAA6Cb,SAA7C,CAAwDb,SAAxD,CAAmEoJ,SAAnE,CAA8EE,SAA9E,CAAyFtH,IAAzF,CADtB,CAAQ0H,iBAAR,uBAAQA,iBAAR,CAA2BC,iBAA3B,uBAA2BA,iBAA3B,CAA8CC,iBAA9C,uBAA8CA,iBAA9C,CAAiEC,iBAAjE,uBAAiEA,iBAAjE,CAAoFC,eAApF,uBAAoFA,eAApF,CAGA;AACA,GAAMC,CAAAA,aAAa,CACjB,CAACpF,oBAAD,EAAyBC,SAAS,GAAKxH,aAAa,CAAC4M,QAArD,EAAiE,CAAC,CAAC3H,aAAa,CAACrE,KAAK,CAACmG,UAAP,CADlF,CAEA,GAAM8F,CAAAA,aAAa,CACjB,CAACtF,oBAAD,EAAyBG,SAAS,GAAK1H,aAAa,CAAC4M,QAArD,EAAiE,CAAC,CAAC3H,aAAa,CAACrE,KAAK,CAACoG,UAAP,CADlF,CAGA,GAAM8F,CAAAA,WAAW,qBAAgB,CAACrH,gBAAD,wBAAoBR,aAAa,CAACrE,KAAK,CAACmG,UAAP,CAAjC,gDAAoB,sBAAiCF,aAAjC,CAA+C,CAA/C,CAApB,CAAwE,EAAxF,aACf,CAACpB,gBAAD,wBAAoBL,UAAU,CAACxE,KAAK,CAACmG,UAAP,CAA9B,gDAAoB,sBAA8ByD,MAAlD,CAA2D,EAD5C,aAEb,CAAChF,UAAD,CAAc,KAAd,CAAsB,EAFT,aAEe,CAACE,gBAAD,yBAAoBT,aAAa,CAACrE,KAAK,CAACoG,UAAP,CAAjC,iDAAoB,uBAAiCH,aAAjC,CAA+C,CAA/C,CAApB,CAAwE,EAFvF,aAGf,CAACnB,gBAAD,yBAAoBN,UAAU,CAACxE,KAAK,CAACoG,UAAP,CAA9B,iDAAoB,uBAA8BwD,MAAlD,CAA2D,EAH5C,CAAjB,CAMA,GAAMuC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,yGACdjB,CAAAA,gBAAgB,cACd,KAAC,aAAD,EAAe,QAAQ,CAAE,IAAzB,CAA+B,aAAa,CAAC,MAA7C,CAAoD,OAAO,CAAE,MAA7D,uBACE,KAAC,UAAD,CAAY,IAAZ,EAAiB,EAAE,CAAC,KAApB,uBACE,oCADF,EADF,EADc,CAMZ,CAAC/I,OAAD,cACF,KAAC,WAAD,EAAa,OAAO,CAAEK,iBAAtB,CAAyC,aAAa,CAAC,MAAvD,CAA8D,OAAO,CAAE,MAAvE,uBACE,iCADF,EADE,cAKF,MAAC,UAAD,EAAY,GAAG,CAAE,IAAjB,WACG,CAACoE,SAAS,GAAKxH,aAAa,CAACgN,YAA5B,EACAxF,SAAS,GAAKxH,aAAa,CAACiN,OAD5B,EAEAvF,SAAS,GAAK1H,aAAa,CAACgN,YAF5B,EAGAtF,SAAS,GAAK1H,aAAa,CAACiN,OAH7B,GAIC/G,OAJD,eAKG,MAAC,UAAD,YACGyG,aAAa,eACZ,KAAC,aAAD,EACE,OAAO,CAAElF,gBADX,CAEE,QAAQ,CAAED,SAAS,GAAKxH,aAAa,CAACiN,OAFxC,CAGE,KAAK,CAAEJ,aAAa,CAAG,KAAH,CAAW,MAHjC,UAKGrF,SAAS,GAAKxH,aAAa,CAACiN,OAA5B,cACC,KAAC,IAAD,wBACE,iEAAkB7H,UAAU,CAACxE,KAAK,CAACmG,UAAP,CAA5B,iDAAkB,uBAA8ByD,MAAhD,GADF,EADD,cAKC,+DAAgBpF,UAAU,CAACxE,KAAK,CAACmG,UAAP,CAA1B,iDAAgB,uBAA8ByD,MAA9C,GAVJ,EAFJ,CAgBGqC,aAAa,eACZ,KAAC,aAAD,EACE,OAAO,CAAElF,gBADX,CAEE,QAAQ,CAAED,SAAS,GAAK1H,aAAa,CAACiN,OAFxC,CAGE,KAAK,CAAEN,aAAa,CAAG,KAAH,CAAW,MAHjC,UAKGjF,SAAS,GAAK1H,aAAa,CAACiN,OAA5B,cACC,KAAC,IAAD,wBACE,iEAAkB7H,UAAU,CAACxE,KAAK,CAACoG,UAAP,CAA5B,iDAAkB,uBAA8BwD,MAAhD,GADF,EADD,cAKC,+DAAgBpF,UAAU,CAACxE,KAAK,CAACoG,UAAP,CAA1B,iDAAgB,uBAA8BwD,MAA9C,GAVJ,EAjBJ,GANN,cAuCE,KAAC,WAAD,EACE,OAAO,CAAE,kBAAM,CACbnH,UAAU,CAAGwE,KAAK,EAAR,CAAazB,cAAc,CAAC,IAAD,CAArC,CACD,CAHH,CAIE,QAAQ,CACN,CAACF,OAAD,EACC,CAACqB,oBAAD,EAAyBC,SAAS,GAAKxH,aAAa,CAAC4M,QAArD,EAAiE,CAACnH,gBADnE,EAEC,CAAC8B,oBAAD,EAAyBG,SAAS,GAAK1H,aAAa,CAAC4M,QAArD,EAAiE,CAAClH,gBAPvE,CASE,KAAK,CAAE,CAACQ,OAAD,EAAY,CAAC,CAACjB,aAAa,CAACrE,KAAK,CAACmG,UAAP,CAA3B,EAAiD,CAAC,CAAC9B,aAAa,CAACrE,KAAK,CAACoG,UAAP,CATzE,uBAWE,KAAC,IAAD,EAAM,UAAU,CAAE,GAAlB,UAAwB3B,YAAY,CAAGA,YAAH,cAAkB,0BAAtD,EAXF,EAvCF,GAZY,EAAhB,CAmEA,mBACE,wCACE,MAAC,cAAD,yBACE,KAAC,4BAAD,EACE,MAAM,CAAEc,WADV,CAEE,SAAS,CAAE0F,yBAFb,CAGE,aAAa,CAAExF,aAHjB,CAIE,IAAI,CAAEK,MAJR,CAKE,OAAO,CAAE,sCACP,KAAC,wBAAD,EACE,KAAK,cAAE,gCADT,CAEE,SAAS,CAAEmF,yBAFb,CAGE,UAAU,CAAE,yCACV,KAAC,MAAD,EACE,aAAa,CAAE5G,aADjB,CAEE,QAAQ,CAAEtB,QAFZ,CAGE,gBAAgB,CAAEI,gBAHpB,CAIE,UAAU,CAAEqI,UAJd,CAKE,UAAU,CAAEC,UALd,CAME,UAAU,CAAE7G,UANd,CAOE,YAAY,CAAEI,YAPhB,EADU,EAHd,CAcE,aAAa,CAAE,4CACb,KAAC,aAAD,EAAe,KAAK,CAAE,CAAEsH,SAAS,CAAE,MAAb,CAAtB,CAA6C,OAAO,CAAErF,KAAtD,uBACE,KAAC,IAAD,EAAM,UAAU,CAAE,GAAlB,CAAuB,QAAQ,CAAE,EAAjC,uBACE,sBADF,EADF,EADa,EAdjB,EADO,EALX,CA6BE,WAAW,CAAEiF,WA7Bf,EADF,cAgCE,MAAC,WAAD,EAAa,IAAI,CAAE,CAAChJ,mBAApB,wBACE,KAAC,aAAD,EACE,QAAQ,CAAE,KADZ,CAEE,MAAM,CAAE,IAFV,CAGE,UAAU,CAAEjB,OAHd,CAIE,eAAe,CAAER,uCAJnB,CAKE,YAAY,CAAE,CAACyB,mBALjB,UAOG,CAACA,mBAAD,eACC,MAAC,GAAD,EAAK,cAAc,CAAC,UAApB,CAA+B,KAAK,CAAE,CAAEqJ,KAAK,CAAE,aAAT,CAAwBC,QAAQ,CAAE,aAAlC,CAAtC,wBACE,KAAC,UAAD,wBACE,KAAC,UAAD,EAAY,OAAO,CAAErB,QAArB,CAA+B,MAAM,CAAC,YAAtC,uBACE,KAAC,UAAD,CAAY,IAAZ,EAAiB,QAAQ,CAAC,MAA1B,uBACE,4BADF,EADF,EADF,EADF,CAQG3H,YAAY,EAAIE,aAAhB,cACC,KAAC,UAAD,EACE,SAAS,CAAEF,YADb,CAEE,SAAS,CAAEE,aAFb,CAGE,gBAAgB,CAAE,2BAAM,CACtB,GAAI,CAACsB,YAAY,CAACjF,KAAK,CAACsL,KAAP,CAAb,EAA8B,CAACrG,YAAY,CAACjF,KAAK,CAACwL,KAAP,CAA/C,CAA8D,sEAC5DpG,gBAAgB,wBAAEJ,WAAW,CAAGyG,UAAH,CAAgBC,UAAhB,SAAgBA,UAAhB,iBAAgBA,UAAU,CAAEgB,MAAZ,EAA7B,gCAAC,MAAmDxG,aAAnD,CAAiE,CAAjE,CAAD,iDAAwE,EAAxE,CAAhB,CACAb,iBAAiB,yBAAEL,WAAW,CAAG0G,UAAH,CAAgBD,UAAhB,SAAgBA,UAAhB,iBAAgBA,UAAU,CAAEiB,MAAZ,EAA7B,gCAAC,MAAmDxG,aAAnD,CAAiE,CAAjE,CAAD,mDAAwE,EAAxE,CAAjB,CACAhB,aAAa,wBAACe,gBAAgB,CAAChG,KAAK,CAACoG,UAAP,CAAjB,+DAAuC,EAAvC,CAAb,CACD,CACDlE,OAAO,CAAC0I,IAAR,gBACU9I,WADV,aACmCD,WADnC,SAC2DG,SAAS,CAAG,IAAMA,SAAT,CAAqB,EADzF,GAGD,CAZH,EADD,CAeG,IAvBN,GARJ,EADF,cAoCE,KAAC,OAAD,wBACE,MAAC,oBAAD,EAAsB,IAAI,CAAE,CAACkB,mBAA7B,wBACE,MAAC,UAAD,EAAY,GAAG,CAAC,IAAhB,WACG,CAACA,mBAAD,eACC,wCACE,MAAC,UAAD,EAAY,GAAG,CAAC,IAAhB,wBACE,KAAC,UAAD,EAAY,aAAa,CAAC,MAA1B,uBACE,KAAC,UAAD,CAAY,KAAZ,wBACE,8BADF,EADF,EADF,cAME,MAAC,UAAD,yBACE,KAAC,gBAAD,EACE,KAAK,CAAE8C,gBAAgB,CAAChG,KAAK,CAACmG,UAAP,CADzB,CAEE,WAAW,CAAElB,aAFf,CAGE,SAAS,CAAE,IAHb,CAIE,KAAK,CAAE,gBAAM,kDACXA,aAAa,gDAACoB,UAAU,CAACrG,KAAK,CAACmG,UAAP,CAAX,iDAAC,uBAA8BuG,OAA9B,EAAD,+DAA4C,EAA5C,CAAb,CACD,CANH,CAOE,gBAAgB,CAAElC,qBAPpB,CAQE,aAAa,CAAE,CAAC/D,YAAY,CAACzG,KAAK,CAACmG,UAAP,CAR9B,CASE,QAAQ,yBAAE3B,UAAU,CAACxE,KAAK,CAACmG,UAAP,CAAZ,iEAAkC,IAT5C,CAUE,EAAE,CAAC,4BAVL,CAWE,eAAe,KAXjB,EADF,cAeE,YAAK,KAAK,CAAE,CAAEoG,KAAK,CAAE,MAAT,CAAZ,EAfF,cAiBE,KAAC,gBAAD,EACE,KAAK,CAAEvG,gBAAgB,CAAChG,KAAK,CAACoG,UAAP,CADzB,CAEE,SAAS,CAAE,IAFb,CAGE,WAAW,CAAElB,aAHf,CAIE,gBAAgB,CAAE2F,qBAJpB,CAKE,KAAK,CAAE,gBAAM,mDACX3F,aAAa,iDAACmB,UAAU,CAACrG,KAAK,CAACoG,UAAP,CAAX,iDAAC,uBAA8BsG,OAA9B,EAAD,iEAA4C,EAA5C,CAAb,CACD,CAPH,CAQE,aAAa,CAAE,CAACjG,YAAY,CAACzG,KAAK,CAACoG,UAAP,CAR9B,CASE,QAAQ,yBAAE5B,UAAU,CAACxE,KAAK,CAACoG,UAAP,CAAZ,iEAAkC,IAT5C,CAUE,EAAE,CAAC,4BAVL,CAWE,eAAe,KAXjB,EAjBF,GANF,cAsCE,KAAC,WAAD,EACE,QAAQ,CAAE,CAAC1C,aAAD,EAAkB,CAACF,YAD/B,CAEE,SAAS,CAAExB,SAFb,CAGE,mBAAmB,CAAE+I,mBAHvB,CAIE,SAAS,CAAEvH,YAAF,SAAEA,YAAF,UAAEA,YAAF,CAAkBX,SAJ7B,CAKE,SAAS,CAAEa,aAAF,SAAEA,aAAF,UAAEA,aAAF,CAAmBb,SAL9B,EAtCF,GADF,CA8CgB,GA9ChB,GAFJ,CAmDGK,mBAAmB,EAAIC,gBAAvB,eACC,KAAC,eAAD,EACE,QAAQ,CAAEA,gBADZ,CAEE,KAAK,cAAE,iCAFT,CAGE,OAAO,CAAE,CAACyB,UAHZ,CAIE,YAAY,CAAEI,YAJhB,EApDJ,GADF,cA6DE,kCACE,KAAC,cAAD,EACE,QAAQ,CAAEoG,SAAS,GAAKvI,SAAd,EAA2ByI,SAAS,GAAKzI,SAAzC,EAAsD6B,WAAtD,EAAqEC,YADjF,uBAGE,MAAC,UAAD,EAAY,GAAG,CAAC,IAAhB,wBACE,KAAC,UAAD,CAAY,KAAZ,WACGzB,mBAAmB,cAAG,qCAAH,cAAuC,kCAD7D,EADF,cAKE,KAAC,kBAAD,EACE,KAAK,CAAE8C,gBAAgB,CAAChG,KAAK,CAACmG,UAAP,CADzB,CAEE,WAAW,CAAElB,aAFf,CAGE,KAAK,CAAE,gBAAM,mDACXA,aAAa,iDAACoB,UAAU,CAACrG,KAAK,CAACmG,UAAP,CAAX,iDAAC,uBAA8BuG,OAA9B,EAAD,iEAA4C,EAA5C,CAAb,CACD,CALH,CAME,aAAa,CAAE,CAACjG,YAAY,CAACzG,KAAK,CAACmG,UAAP,CAN9B,CAOE,QAAQ,yBAAE3B,UAAU,CAACxE,KAAK,CAACmG,UAAP,CAAZ,iEAAkC,IAP5C,CAQE,EAAE,CAAC,4BARL,CASE,SAAS,CAAED,UAAU,CAAClG,KAAK,CAACmG,UAAP,CATvB,CAUE,eAAe,KAVjB,CAWE,MAAM,CAAEtB,gBAXV,EALF,cAmBE,KAAC,kBAAD,EACE,KAAK,CAAEmB,gBAAgB,CAAChG,KAAK,CAACoG,UAAP,CADzB,CAEE,WAAW,CAAElB,aAFf,CAGE,KAAK,CAAE,gBAAM,mDACXA,aAAa,iDAACmB,UAAU,CAACrG,KAAK,CAACoG,UAAP,CAAX,iDAAC,uBAA8BsG,OAA9B,EAAD,iEAA4C,EAA5C,CAAb,CACD,CALH,CAME,aAAa,CAAE,CAACjG,YAAY,CAACzG,KAAK,CAACoG,UAAP,CAN9B,CAOE,SAAS,CAAEF,UAAU,CAAClG,KAAK,CAACoG,UAAP,CAPvB,CAQE,QAAQ,0BAAE5B,UAAU,CAACxE,KAAK,CAACoG,UAAP,CAAZ,mEAAkC,IAR5C,CASE,EAAE,CAAC,4BATL,CAUE,eAAe,KAVjB,CAWE,MAAM,CAAEtB,gBAXV,EAnBF,GAHF,EADF,EA7DF,CAqGG,CAAC5B,mBAAD,cACC,wCACE,KAAC,UAAD,wBACE,KAAC,OAAD,IADF,EADF,cAIE,MAAC,cAAD,EAAgB,GAAG,CAAC,IAApB,wBACE,KAAC,cAAD,EAAgB,GAAG,CAAC,IAApB,CAAyB,QAAQ,CAAE,CAAClB,SAAD,EAAc0C,WAAjD,UACG,CAACH,WAAD,cACC,wCACE,KAAC,UAAD,wBACE,KAAC,UAAD,CAAY,KAAZ,wBACE,kCADF,EADF,EADF,CAOGJ,KAAK,EAAIX,YAAT,EAAyBE,aAAzB,EAA0C,CAACa,WAA3C,eACC,KAAC,OAAD,EAAS,GAAG,CAAC,KAAb,CAAmB,OAAO,CAAC,QAA3B,CAAoC,KAAK,CAAE,CAAE+H,SAAS,CAAE,QAAb,CAA3C,uBACE,8EAWK5I,aAXL,SAWKA,aAXL,iBAWKA,aAAa,CAAEkG,MAXpB,GAWiCpG,YAAY,CAACoG,MAX9C,6BACE,KAAC,UAAD,CAAY,IAAZ,EAAiB,UAAU,CAAE,GAA7B,CAAkC,SAAS,CAAC,QAA5C,CAAqD,QAAQ,CAAE,EAA/D,CAAmE,KAAK,CAAC,OAAzE,EADF,gBAIE,KAAC,UAAD,CAAY,IAAZ,EAAiB,UAAU,CAAE,GAA7B,CAAkC,SAAS,CAAC,QAA5C,CAAqD,QAAQ,CAAE,EAA/D,CAAmE,KAAK,CAAC,OAAzE,EAJF,gBAKI,KAAC,eAAD,EACE,aAAa,CAAE,EADjB,CAEE,IAAI,CAAE7E,WAAW,CAAGZ,KAAK,CAACsI,MAAN,GAAexG,aAAf,CAA6B,CAA7B,CAAH,CAAqC9B,KAAK,CAAC8B,aAAN,CAAoB,CAApB,CAFxD,EALJ,gBAUE,KAAC,UAAD,CAAY,IAAZ,EAAiB,KAAK,CAAC,OAAvB,CAA+B,QAAQ,CAAE,EAAzC,EAVF,GADF,EARJ,cA0BE,KAAC,wBAAD,EACE,SAAS,CAAEzC,YAAF,SAAEA,YAAF,UAAEA,YAAF,CAAkBX,SAD7B,CAEE,SAAS,CAAEa,aAAF,SAAEA,aAAF,UAAEA,aAAF,CAAmBb,SAF9B,CAGE,SAAS,CAAEb,SAHb,CAIE,YAAY,CAAEgD,YAJhB,CAKE,KAAK,CACHb,KAAK,CAAGZ,UAAU,CAAC,CAACwB,WAAW,CAAGZ,KAAK,CAACsI,MAAN,EAAH,CAAoBtI,KAAhC,EAAuC8B,aAAvC,CAAqD,CAArD,CAAD,CAAb,CAAyEpD,SANlF,CAQE,UAAU,CAAE2I,UARd,CASE,UAAU,CAAEC,UATd,CAUE,gBAAgB,CAAEtG,gBAVpB,CAWE,iBAAiB,CAAEC,iBAXrB,CAYE,WAAW,CAAE,CAAClC,mBAZhB,EA1BF,GADD,cA2CC,MAAC,UAAD,EAAY,GAAG,CAAC,IAAhB,wBACE,KAAC,UAAD,wBACE,KAAC,UAAD,CAAY,KAAZ,wBACE,qCADF,EADF,EADF,CAMGqB,WAAW,eACV,KAAC,QAAD,EACE,KAAK,CAAE,CACLoI,OAAO,CAAE,MADJ,CAELC,aAAa,CAAE,KAFV,CAGLC,UAAU,CAAE,QAHP,CAILC,OAAO,CAAE,WAJJ,CADT,uBAQE,KAAC,UAAD,CAAY,IAAZ,EACE,QAAQ,CAAE,EADZ,CAEE,KAAK,CAAE,CAAEC,UAAU,CAAE,GAAd,CAFT,CAGE,SAAS,CAAC,MAHZ,CAIE,KAAK,CAAEzK,KAAK,CAAC0K,YAJf,uBAME,wQANF,EARF,EAPJ,cA6BE,KAAC,WAAD,EAAa,OAAO,CAAC,MAArB,uBACE,KAAC,WAAD,EACE,SAAS,CAAC,mBADZ,CAEE,KAAK,CAAEjJ,oBAFT,CAGE,WAAW,CAAEsB,iBAHf,EADF,EA7BF,cAoCE,MAAC,UAAD,EAAY,KAAK,CAAE,CAAE4H,eAAe,CAAE3K,KAAK,CAAC4K,GAAzB,CAA8BJ,OAAO,CAAE,MAAvC,CAA+CK,YAAY,CAAE,MAA7D,CAAnB,wBACE,KAAC,UAAD,CAAY,IAAZ,wBACE,8CAAgB3J,YAAhB,SAAgBA,YAAhB,iBAAgBA,YAAY,CAAEoG,MAA9B,GADF,EADF,cAIE,KAAC,UAAD,CAAY,IAAZ,WACGzF,KAAK,cACJ,KAAC,UAAD,CAAY,IAAZ,wBACE,MAAC,QAAD,yBACE,KAAC,eAAD,EACE,aAAa,CAAE,EADjB,CAEE,IAAI,CAAEY,WAAW,CAAGZ,KAAH,SAAGA,KAAH,gCAAGA,KAAK,CAAEsI,MAAP,EAAH,wCAAG,cAAiBxG,aAAjB,CAA+B,CAA/B,CAAH,CAAuC9B,KAAvC,SAAuCA,KAAvC,iBAAuCA,KAAK,CAAE8B,aAAP,CAAqB,CAArB,CAF1D,EADF,CAIK,GAJL,cAKE,aAAM,KAAK,CAAE,CAAEmH,UAAU,CAAE,KAAd,CAAb,UAAqC1J,aAArC,SAAqCA,aAArC,iBAAqCA,aAAa,CAAEkG,MAApD,EALF,GADF,EADI,CAWJ,GAZJ,EAJF,GApCF,GA5CJ,EADF,cAyGE,MAAC,cAAD,EACE,GAAG,CAAC,IADN,CAEE,QAAQ,CAAE,CAAC5H,SAAD,EAAc0C,WAAd,EAA8BH,WAAW,EAAI,CAACR,oBAF1D,wBAIE,MAAC,gBAAD,yBACE,KAAC,WAAD,EAAa,KAAK,CAAE,CAAEsJ,OAAO,CAAE1H,4BAA4B,CAAG,MAAH,CAAY,CAAnD,CAApB,uBACE,MAAC,UAAD,EAAY,GAAG,CAAC,IAAhB,WACGpB,WAAW,eACV,KAAC,UAAD,wBACE,KAAC,UAAD,CAAY,KAAZ,wBACE,kCADF,EADF,EAFJ,cAQE,KAAC,aAAD,EACE,UAAU,CAAEiH,UADd,CAEE,UAAU,CAAEC,UAFd,CAGE,iBAAiB,CAAEC,iBAHrB,CAIE,iBAAiB,CAAEC,iBAJrB,CAKE,iBAAiB,CAAEC,iBALrB,CAME,iBAAiB,CAAEC,iBANrB,CAOE,gBAAgB,CAAE1G,gBAPpB,CAQE,iBAAiB,CAAEC,iBARrB,CASE,SAAS,CAAE5B,YATb,CAUE,SAAS,CAAEE,aAVb,CAWE,SAAS,CAAE1B,SAXb,CAYE,YAAY,CAAEgD,YAZhB,EARF,CAsBG,CAACT,WAAD,eACC,KAAC,cAAD,EACE,YAAY,CAAE,uBAAM,CAClBqB,+BAA+B,CAAC,IAAD,CAA/B,CACD,CAHH,EAvBJ,GADF,EADF,CAkCGD,4BAA4B,eAC3B,KAAC,WAAD,EAAa,MAAM,CAAE,CAArB,uBACE,KAAC,UAAD,EACE,OAAO,CAAC,MADV,CAEE,aAAa,CAAC,MAFhB,CAGE,MAAM,CAAC,MAHT,CAIE,KAAK,CAAE,CACL2H,WAAW,CAAEhL,KAAK,CAACiL,OADd,CAELC,MAAM,CAAE,WAFH,CAJT,uBASE,MAAC,UAAD,EAAY,GAAG,CAAC,KAAhB,CAAsB,KAAK,CAAE,CAAEC,MAAM,CAAE,MAAV,CAA7B,wBACE,MAAC,QAAD,yBACE,KAAC,aAAD,EAAe,MAAM,CAAEnL,KAAK,CAACiL,OAA7B,CAAsC,IAAI,CAAC,MAA3C,EADF,cAEE,KAAC,UAAD,CAAY,MAAZ,EAAmB,EAAE,CAAC,MAAtB,CAA6B,QAAQ,CAAC,MAAtC,uBACE,wCADF,EAFF,GADF,cAOE,KAAC,QAAD,wBACE,KAAC,UAAD,CAAY,MAAZ,EAAmB,EAAE,CAAC,MAAtB,CAA6B,QAAQ,CAAC,MAAtC,CAA6C,MAAM,CAAE,CAArD,CAAwD,UAAU,CAAE,GAApE,uBACE,yIAEE,KAAC,YAAD,EACE,KAAK,CAAE,CAAEG,KAAK,CAAEpL,KAAK,CAACiL,OAAf,CAAwBI,cAAc,CAAE,WAAxC,CADT,CAEE,IAAI,CACF,gGAHJ,EAFF,GADF,EADF,EAPF,cAuBE,KAAC,GAAD,wBACE,KAAC,YAAD,EACE,OAAO,CAAC,KADV,CAEE,WAAW,CAAC,KAFd,CAGE,aAAa,CAAC,KAHhB,CAIE,KAAK,CAAC,MAJR,CAKE,OAAO,CAAE,kBAAM,CACb/H,+BAA+B,CAAC,KAAD,CAA/B,CACAkG,eAAe,GAChB,CARH,uBAUE,KAAC,UAAD,CAAY,KAAZ,EAAkB,QAAQ,CAAE,EAA5B,CAAgC,KAAK,CAAC,OAAtC,uBACE,+BADF,EAVF,EADF,EAvBF,GATF,EADF,EAnCJ,GAJF,CA8FGlH,UAAU,cACT,KAAC,UAAD,EAAY,OAAO,CAAC,UAApB,CAA+B,aAAa,CAAC,MAA7C,uBACE,MAAC,UAAD,yBACE,KAAC,aAAD,EAAe,MAAM,CAAEtC,KAAK,CAACiL,OAA7B,CAAsC,IAAI,CAAC,MAA3C,EADF,cAEE,KAAC,UAAD,CAAY,MAAZ,EAAmB,EAAE,CAAC,MAAtB,CAA6B,QAAQ,CAAC,MAAtC,uBACE,sHADF,EAFF,GADF,EADS,CAYP,IA1GN,CA4GG5I,YAAY,cACX,KAAC,UAAD,EAAY,OAAO,CAAC,UAApB,CAA+B,aAAa,CAAC,MAA7C,uBACE,MAAC,UAAD,yBACE,KAAC,aAAD,EAAe,MAAM,CAAErC,KAAK,CAACiL,OAA7B,CAAsC,IAAI,CAAC,MAA3C,EADF,cAEE,KAAC,UAAD,CAAY,MAAZ,EAAmB,EAAE,CAAC,MAAtB,CAA6B,QAAQ,CAAC,MAAtC,uBACE,0FADF,EAFF,GADF,EADW,CAST,IArHN,GAzGF,cAiOE,KAAC,UAAD,wBACE,KAAC,OAAD,IADF,EAjOF,GAJF,GADD,cA4OC,KAAC,OAAD,IAjVJ,GADF,EApCF,GAhCF,CA2ZGrC,gBAAgB,eACf,KAAC,yBAAD,EACE,IAAI,CAAEA,gBADR,CAEE,UAAU,CAAE,CAAC1G,UAAU,CAAC2B,UAAZ,CAAwB3B,UAAU,CAAC4B,UAAnC,CAFd,EA5ZJ,GADF,cAmaE,KAAC,gBAAD,IAnaF,GADF,CAuaD","sourcesContent":["import { BigNumber } from '@ethersproject/bignumber'\nimport { TransactionResponse } from '@ethersproject/providers'\nimport { Trans } from '@lingui/macro'\nimport { Currency, CurrencyAmount, Percent } from '@uniswap/sdk-core'\nimport { FeeAmount, NonfungiblePositionManager } from '@uniswap/v3-sdk'\nimport UnsupportedCurrencyFooter from 'components/swap/UnsupportedCurrencyFooter'\nimport { useCallback, useContext, useEffect, useState } from 'react'\nimport { AlertTriangle } from 'react-feather'\nimport ReactGA from 'react-ga'\nimport { RouteComponentProps } from 'react-router-dom'\nimport { Text } from 'rebass'\nimport {\n  useRangeHopCallbacks,\n  useV3DerivedMintInfo,\n  useV3MintActionHandlers,\n  useV3MintState,\n} from 'state/mint/v3/hooks'\nimport { ThemeContext } from 'styled-components/macro'\n\nimport { ButtonError, ButtonLight, ButtonPrimary, ButtonText, ButtonYellow } from '../../components/Button'\nimport { BlueCard, OutlineCard, YellowCard } from '../../components/Card'\nimport { AutoColumn } from '../../components/Column'\nimport CurrencyInputPanel from '../../components/CurrencyInputPanel'\nimport FeeSelector from '../../components/FeeSelector'\nimport HoverInlineText from '../../components/HoverInlineText'\nimport LiquidityChartRangeInput from '../../components/LiquidityChartRangeInput'\nimport { AddRemoveTabs } from '../../components/NavigationTabs'\nimport { PositionPreview } from '../../components/PositionPreview'\nimport RangeSelector from '../../components/RangeSelector'\nimport PresetsButtons from '../../components/RangeSelector/PresetsButtons'\nimport RateToggle from '../../components/RateToggle'\nimport Row, { AutoRow, RowBetween, RowFixed } from '../../components/Row'\nimport { SwitchLocaleLink } from '../../components/SwitchLocaleLink'\nimport TransactionConfirmationModal, { ConfirmationModalContent } from '../../components/TransactionConfirmationModal'\nimport { NONFUNGIBLE_POSITION_MANAGER_ADDRESSES } from '../../constants/addresses'\nimport { ZERO_PERCENT } from '../../constants/misc'\nimport { WRAPPED_NATIVE_CURRENCY } from '../../constants/tokens'\nimport { useCurrency } from '../../hooks/Tokens'\nimport { ApprovalState, useApproveCallback } from '../../hooks/useApproveCallback'\nimport { useArgentWalletContract } from '../../hooks/useArgentWalletContract'\nimport { useV3NFTPositionManagerContract } from '../../hooks/useContract'\nimport { useDerivedPositionInfo } from '../../hooks/useDerivedPositionInfo'\nimport { useIsSwapUnsupported } from '../../hooks/useIsSwapUnsupported'\nimport useTransactionDeadline from '../../hooks/useTransactionDeadline'\nimport { useUSDCValue } from '../../hooks/useUSDCPrice'\nimport { useV3PositionFromTokenId } from '../../hooks/useV3Positions'\nimport { useActiveWeb3React } from '../../hooks/web3'\nimport { useWalletModalToggle } from '../../state/application/hooks'\nimport { Bound, Field } from '../../state/mint/v3/actions'\nimport { TransactionType } from '../../state/transactions/actions'\nimport { useTransactionAdder } from '../../state/transactions/hooks'\nimport { useIsExpertMode, useUserSlippageToleranceWithDefault } from '../../state/user/hooks'\nimport { ExternalLink, ThemedText } from '../../theme'\nimport approveAmountCalldata from '../../utils/approveAmountCalldata'\nimport { calculateGasMargin } from '../../utils/calculateGasMargin'\nimport { currencyId } from '../../utils/currencyId'\nimport { maxAmountSpend } from '../../utils/maxAmountSpend'\nimport { Dots } from '../Pool/styleds'\nimport { Review } from './Review'\nimport {\n  CurrencyDropdown,\n  DynamicSection,\n  HideMedium,\n  MediumOnly,\n  PageWrapper,\n  ResponsiveTwoColumns,\n  RightContainer,\n  ScrollablePage,\n  StackedContainer,\n  StackedItem,\n  StyledInput,\n  Wrapper,\n} from './styled'\n\nconst DEFAULT_ADD_IN_RANGE_SLIPPAGE_TOLERANCE = new Percent(50, 10_000)\n\nexport default function AddLiquidity({\n  match: {\n    params: { currencyIdA, currencyIdB, feeAmount: feeAmountFromUrl, tokenId },\n  },\n  history,\n}: RouteComponentProps<{ currencyIdA?: string; currencyIdB?: string; feeAmount?: string; tokenId?: string }>) {\n  const { account, chainId, library } = useActiveWeb3React()\n  const theme = useContext(ThemeContext)\n  const toggleWalletModal = useWalletModalToggle() // toggle wallet when disconnected\n  const expertMode = useIsExpertMode()\n  const addTransaction = useTransactionAdder()\n  const positionManager = useV3NFTPositionManagerContract()\n\n  // check for existing position if tokenId in url\n  const { position: existingPositionDetails, loading: positionLoading } = useV3PositionFromTokenId(\n    tokenId ? BigNumber.from(tokenId) : undefined\n  )\n  const hasExistingPosition = !!existingPositionDetails && !positionLoading\n  const { position: existingPosition } = useDerivedPositionInfo(existingPositionDetails)\n\n  // fee selection from url\n  const feeAmount: FeeAmount | undefined =\n    feeAmountFromUrl && Object.values(FeeAmount).includes(parseFloat(feeAmountFromUrl))\n      ? parseFloat(feeAmountFromUrl)\n      : undefined\n\n  const baseCurrency = useCurrency(currencyIdA)\n  const currencyB = useCurrency(currencyIdB)\n  // prevent an error if they input ETH/WETH\n  const quoteCurrency =\n    baseCurrency && currencyB && baseCurrency.wrapped.equals(currencyB.wrapped) ? undefined : currencyB\n\n  // mint state\n  const { independentField, typedValue, startPriceTypedValue } = useV3MintState()\n\n  const {\n    pool,\n    ticks,\n    dependentField,\n    price,\n    pricesAtTicks,\n    parsedAmounts,\n    currencyBalances,\n    position,\n    noLiquidity,\n    currencies,\n    errorMessage,\n    invalidPool,\n    invalidRange,\n    outOfRange,\n    depositADisabled,\n    depositBDisabled,\n    invertPrice,\n    ticksAtLimit,\n  } = useV3DerivedMintInfo(\n    baseCurrency ?? undefined,\n    quoteCurrency ?? undefined,\n    feeAmount,\n    baseCurrency ?? undefined,\n    existingPosition\n  )\n\n  const { onFieldAInput, onFieldBInput, onLeftRangeInput, onRightRangeInput, onStartPriceInput } =\n    useV3MintActionHandlers(noLiquidity)\n\n  const isValid = !errorMessage && !invalidRange\n\n  // modal and loading\n  const [showConfirm, setShowConfirm] = useState<boolean>(false)\n  const [attemptingTxn, setAttemptingTxn] = useState<boolean>(false) // clicked confirm\n\n  // capital efficiency warning\n  const [showCapitalEfficiencyWarning, setShowCapitalEfficiencyWarning] = useState(false)\n\n  useEffect(() => setShowCapitalEfficiencyWarning(false), [baseCurrency, quoteCurrency, feeAmount])\n\n  // txn values\n  const deadline = useTransactionDeadline() // custom from users settings\n\n  const [txHash, setTxHash] = useState<string>('')\n\n  // get formatted amounts\n  const formattedAmounts = {\n    [independentField]: typedValue,\n    [dependentField]: parsedAmounts[dependentField]?.toSignificant(6) ?? '',\n  }\n\n  const usdcValues = {\n    [Field.CURRENCY_A]: useUSDCValue(parsedAmounts[Field.CURRENCY_A]),\n    [Field.CURRENCY_B]: useUSDCValue(parsedAmounts[Field.CURRENCY_B]),\n  }\n\n  // get the max amounts user can add\n  const maxAmounts: { [field in Field]?: CurrencyAmount<Currency> } = [Field.CURRENCY_A, Field.CURRENCY_B].reduce(\n    (accumulator, field) => {\n      return {\n        ...accumulator,\n        [field]: maxAmountSpend(currencyBalances[field]),\n      }\n    },\n    {}\n  )\n\n  const atMaxAmounts: { [field in Field]?: CurrencyAmount<Currency> } = [Field.CURRENCY_A, Field.CURRENCY_B].reduce(\n    (accumulator, field) => {\n      return {\n        ...accumulator,\n        [field]: maxAmounts[field]?.equalTo(parsedAmounts[field] ?? '0'),\n      }\n    },\n    {}\n  )\n\n  const argentWalletContract = useArgentWalletContract()\n\n  // check whether the user has approved the router on the tokens\n  const [approvalA, approveACallback] = useApproveCallback(\n    argentWalletContract ? undefined : parsedAmounts[Field.CURRENCY_A],\n    chainId ? NONFUNGIBLE_POSITION_MANAGER_ADDRESSES[chainId] : undefined\n  )\n  const [approvalB, approveBCallback] = useApproveCallback(\n    argentWalletContract ? undefined : parsedAmounts[Field.CURRENCY_B],\n    chainId ? NONFUNGIBLE_POSITION_MANAGER_ADDRESSES[chainId] : undefined\n  )\n\n  const allowedSlippage = useUserSlippageToleranceWithDefault(\n    outOfRange ? ZERO_PERCENT : DEFAULT_ADD_IN_RANGE_SLIPPAGE_TOLERANCE\n  )\n\n  async function onAdd() {\n    if (!chainId || !library || !account) return\n\n    if (!positionManager || !baseCurrency || !quoteCurrency) {\n      return\n    }\n\n    if (position && account && deadline) {\n      const useNative = baseCurrency.isNative ? baseCurrency : quoteCurrency.isNative ? quoteCurrency : undefined\n      const { calldata, value } =\n        hasExistingPosition && tokenId\n          ? NonfungiblePositionManager.addCallParameters(position, {\n              tokenId,\n              slippageTolerance: allowedSlippage,\n              deadline: deadline.toString(),\n              useNative,\n            })\n          : NonfungiblePositionManager.addCallParameters(position, {\n              slippageTolerance: allowedSlippage,\n              recipient: account,\n              deadline: deadline.toString(),\n              useNative,\n              createPool: noLiquidity,\n            })\n\n      let txn: { to: string; data: string; value: string } = {\n        to: NONFUNGIBLE_POSITION_MANAGER_ADDRESSES[chainId],\n        data: calldata,\n        value,\n      }\n\n      if (argentWalletContract) {\n        const amountA = parsedAmounts[Field.CURRENCY_A]\n        const amountB = parsedAmounts[Field.CURRENCY_B]\n        const batch = [\n          ...(amountA && amountA.currency.isToken\n            ? [approveAmountCalldata(amountA, NONFUNGIBLE_POSITION_MANAGER_ADDRESSES[chainId])]\n            : []),\n          ...(amountB && amountB.currency.isToken\n            ? [approveAmountCalldata(amountB, NONFUNGIBLE_POSITION_MANAGER_ADDRESSES[chainId])]\n            : []),\n          {\n            to: txn.to,\n            data: txn.data,\n            value: txn.value,\n          },\n        ]\n        const data = argentWalletContract.interface.encodeFunctionData('wc_multiCall', [batch])\n        txn = {\n          to: argentWalletContract.address,\n          data,\n          value: '0x0',\n        }\n      }\n\n      setAttemptingTxn(true)\n\n      library\n        .getSigner()\n        .estimateGas(txn)\n        .then((estimate) => {\n          const newTxn = {\n            ...txn,\n            gasLimit: calculateGasMargin(estimate),\n          }\n\n          return library\n            .getSigner()\n            .sendTransaction(newTxn)\n            .then((response: TransactionResponse) => {\n              setAttemptingTxn(false)\n              addTransaction(response, {\n                type: TransactionType.ADD_LIQUIDITY_V3_POOL,\n                baseCurrencyId: currencyId(baseCurrency),\n                quoteCurrencyId: currencyId(quoteCurrency),\n                createPool: Boolean(noLiquidity),\n                expectedAmountBaseRaw: parsedAmounts[Field.CURRENCY_A]?.quotient?.toString() ?? '0',\n                expectedAmountQuoteRaw: parsedAmounts[Field.CURRENCY_B]?.quotient?.toString() ?? '0',\n                feeAmount: position.pool.fee,\n              })\n              setTxHash(response.hash)\n              ReactGA.event({\n                category: 'Liquidity',\n                action: 'Add',\n                label: [currencies[Field.CURRENCY_A]?.symbol, currencies[Field.CURRENCY_B]?.symbol].join('/'),\n              })\n            })\n        })\n        .catch((error) => {\n          console.error('Failed to send transaction', error)\n          setAttemptingTxn(false)\n          // we only care if the error is something _other_ than the user rejected the tx\n          if (error?.code !== 4001) {\n            console.error(error)\n          }\n        })\n    } else {\n      return\n    }\n  }\n\n  const handleCurrencySelect = useCallback(\n    (currencyNew: Currency, currencyIdOther?: string): (string | undefined)[] => {\n      const currencyIdNew = currencyId(currencyNew)\n\n      if (currencyIdNew === currencyIdOther) {\n        // not ideal, but for now clobber the other if the currency ids are equal\n        return [currencyIdNew, undefined]\n      } else {\n        // prevent weth + eth\n        const isETHOrWETHNew =\n          currencyIdNew === 'ETH' ||\n          (chainId !== undefined && currencyIdNew === WRAPPED_NATIVE_CURRENCY[chainId]?.address)\n        const isETHOrWETHOther =\n          currencyIdOther !== undefined &&\n          (currencyIdOther === 'ETH' ||\n            (chainId !== undefined && currencyIdOther === WRAPPED_NATIVE_CURRENCY[chainId]?.address))\n\n        if (isETHOrWETHNew && isETHOrWETHOther) {\n          return [currencyIdNew, undefined]\n        } else {\n          return [currencyIdNew, currencyIdOther]\n        }\n      }\n    },\n    [chainId]\n  )\n\n  const handleCurrencyASelect = useCallback(\n    (currencyANew: Currency) => {\n      const [idA, idB] = handleCurrencySelect(currencyANew, currencyIdB)\n      if (idB === undefined) {\n        history.push(`/add/${idA}`)\n      } else {\n        history.push(`/add/${idA}/${idB}`)\n      }\n    },\n    [handleCurrencySelect, currencyIdB, history]\n  )\n\n  const handleCurrencyBSelect = useCallback(\n    (currencyBNew: Currency) => {\n      const [idB, idA] = handleCurrencySelect(currencyBNew, currencyIdA)\n      if (idA === undefined) {\n        history.push(`/add/${idB}`)\n      } else {\n        history.push(`/add/${idA}/${idB}`)\n      }\n    },\n    [handleCurrencySelect, currencyIdA, history]\n  )\n\n  const handleFeePoolSelect = useCallback(\n    (newFeeAmount: FeeAmount) => {\n      onLeftRangeInput('')\n      onRightRangeInput('')\n      history.push(`/add/${currencyIdA}/${currencyIdB}/${newFeeAmount}`)\n    },\n    [currencyIdA, currencyIdB, history, onLeftRangeInput, onRightRangeInput]\n  )\n\n  const handleDismissConfirmation = useCallback(() => {\n    setShowConfirm(false)\n    // if there was a tx hash, we want to clear the input\n    if (txHash) {\n      onFieldAInput('')\n      // dont jump to pool page if creating\n      history.push('/pool')\n    }\n    setTxHash('')\n  }, [history, onFieldAInput, txHash])\n\n  const addIsUnsupported = useIsSwapUnsupported(currencies?.CURRENCY_A, currencies?.CURRENCY_B)\n\n  const clearAll = useCallback(() => {\n    onFieldAInput('')\n    onFieldBInput('')\n    onLeftRangeInput('')\n    onRightRangeInput('')\n    history.push(`/add`)\n  }, [history, onFieldAInput, onFieldBInput, onLeftRangeInput, onRightRangeInput])\n\n  // get value and prices at ticks\n  const { [Bound.LOWER]: tickLower, [Bound.UPPER]: tickUpper } = ticks\n  const { [Bound.LOWER]: priceLower, [Bound.UPPER]: priceUpper } = pricesAtTicks\n\n  const { getDecrementLower, getIncrementLower, getDecrementUpper, getIncrementUpper, getSetFullRange } =\n    useRangeHopCallbacks(baseCurrency ?? undefined, quoteCurrency ?? undefined, feeAmount, tickLower, tickUpper, pool)\n\n  // we need an existence check on parsed amounts for single-asset deposits\n  const showApprovalA =\n    !argentWalletContract && approvalA !== ApprovalState.APPROVED && !!parsedAmounts[Field.CURRENCY_A]\n  const showApprovalB =\n    !argentWalletContract && approvalB !== ApprovalState.APPROVED && !!parsedAmounts[Field.CURRENCY_B]\n\n  const pendingText = `Supplying ${!depositADisabled ? parsedAmounts[Field.CURRENCY_A]?.toSignificant(6) : ''} ${\n    !depositADisabled ? currencies[Field.CURRENCY_A]?.symbol : ''\n  } ${!outOfRange ? 'and' : ''} ${!depositBDisabled ? parsedAmounts[Field.CURRENCY_B]?.toSignificant(6) : ''} ${\n    !depositBDisabled ? currencies[Field.CURRENCY_B]?.symbol : ''\n  }`\n\n  const Buttons = () =>\n    addIsUnsupported ? (\n      <ButtonPrimary disabled={true} $borderRadius=\"12px\" padding={'12px'}>\n        <ThemedText.Main mb=\"4px\">\n          <Trans>Unsupported Asset</Trans>\n        </ThemedText.Main>\n      </ButtonPrimary>\n    ) : !account ? (\n      <ButtonLight onClick={toggleWalletModal} $borderRadius=\"12px\" padding={'12px'}>\n        <Trans>Connect Wallet</Trans>\n      </ButtonLight>\n    ) : (\n      <AutoColumn gap={'md'}>\n        {(approvalA === ApprovalState.NOT_APPROVED ||\n          approvalA === ApprovalState.PENDING ||\n          approvalB === ApprovalState.NOT_APPROVED ||\n          approvalB === ApprovalState.PENDING) &&\n          isValid && (\n            <RowBetween>\n              {showApprovalA && (\n                <ButtonPrimary\n                  onClick={approveACallback}\n                  disabled={approvalA === ApprovalState.PENDING}\n                  width={showApprovalB ? '48%' : '100%'}\n                >\n                  {approvalA === ApprovalState.PENDING ? (\n                    <Dots>\n                      <Trans>Approving {currencies[Field.CURRENCY_A]?.symbol}</Trans>\n                    </Dots>\n                  ) : (\n                    <Trans>Approve {currencies[Field.CURRENCY_A]?.symbol}</Trans>\n                  )}\n                </ButtonPrimary>\n              )}\n              {showApprovalB && (\n                <ButtonPrimary\n                  onClick={approveBCallback}\n                  disabled={approvalB === ApprovalState.PENDING}\n                  width={showApprovalA ? '48%' : '100%'}\n                >\n                  {approvalB === ApprovalState.PENDING ? (\n                    <Dots>\n                      <Trans>Approving {currencies[Field.CURRENCY_B]?.symbol}</Trans>\n                    </Dots>\n                  ) : (\n                    <Trans>Approve {currencies[Field.CURRENCY_B]?.symbol}</Trans>\n                  )}\n                </ButtonPrimary>\n              )}\n            </RowBetween>\n          )}\n        <ButtonError\n          onClick={() => {\n            expertMode ? onAdd() : setShowConfirm(true)\n          }}\n          disabled={\n            !isValid ||\n            (!argentWalletContract && approvalA !== ApprovalState.APPROVED && !depositADisabled) ||\n            (!argentWalletContract && approvalB !== ApprovalState.APPROVED && !depositBDisabled)\n          }\n          error={!isValid && !!parsedAmounts[Field.CURRENCY_A] && !!parsedAmounts[Field.CURRENCY_B]}\n        >\n          <Text fontWeight={500}>{errorMessage ? errorMessage : <Trans>Preview</Trans>}</Text>\n        </ButtonError>\n      </AutoColumn>\n    )\n\n  return (\n    <>\n      <ScrollablePage>\n        <TransactionConfirmationModal\n          isOpen={showConfirm}\n          onDismiss={handleDismissConfirmation}\n          attemptingTxn={attemptingTxn}\n          hash={txHash}\n          content={() => (\n            <ConfirmationModalContent\n              title={<Trans>Add Liquidity</Trans>}\n              onDismiss={handleDismissConfirmation}\n              topContent={() => (\n                <Review\n                  parsedAmounts={parsedAmounts}\n                  position={position}\n                  existingPosition={existingPosition}\n                  priceLower={priceLower}\n                  priceUpper={priceUpper}\n                  outOfRange={outOfRange}\n                  ticksAtLimit={ticksAtLimit}\n                />\n              )}\n              bottomContent={() => (\n                <ButtonPrimary style={{ marginTop: '1rem' }} onClick={onAdd}>\n                  <Text fontWeight={500} fontSize={20}>\n                    <Trans>Add</Trans>\n                  </Text>\n                </ButtonPrimary>\n              )}\n            />\n          )}\n          pendingText={pendingText}\n        />\n        <PageWrapper wide={!hasExistingPosition}>\n          <AddRemoveTabs\n            creating={false}\n            adding={true}\n            positionID={tokenId}\n            defaultSlippage={DEFAULT_ADD_IN_RANGE_SLIPPAGE_TOLERANCE}\n            showBackLink={!hasExistingPosition}\n          >\n            {!hasExistingPosition && (\n              <Row justifyContent=\"flex-end\" style={{ width: 'fit-content', minWidth: 'fit-content' }}>\n                <MediumOnly>\n                  <ButtonText onClick={clearAll} margin=\"0 15px 0 0\">\n                    <ThemedText.Blue fontSize=\"12px\">\n                      <Trans>Clear All</Trans>\n                    </ThemedText.Blue>\n                  </ButtonText>\n                </MediumOnly>\n                {baseCurrency && quoteCurrency ? (\n                  <RateToggle\n                    currencyA={baseCurrency}\n                    currencyB={quoteCurrency}\n                    handleRateToggle={() => {\n                      if (!ticksAtLimit[Bound.LOWER] && !ticksAtLimit[Bound.UPPER]) {\n                        onLeftRangeInput((invertPrice ? priceLower : priceUpper?.invert())?.toSignificant(6) ?? '')\n                        onRightRangeInput((invertPrice ? priceUpper : priceLower?.invert())?.toSignificant(6) ?? '')\n                        onFieldAInput(formattedAmounts[Field.CURRENCY_B] ?? '')\n                      }\n                      history.push(\n                        `/add/${currencyIdB as string}/${currencyIdA as string}${feeAmount ? '/' + feeAmount : ''}`\n                      )\n                    }}\n                  />\n                ) : null}\n              </Row>\n            )}\n          </AddRemoveTabs>\n          <Wrapper>\n            <ResponsiveTwoColumns wide={!hasExistingPosition}>\n              <AutoColumn gap=\"lg\">\n                {!hasExistingPosition && (\n                  <>\n                    <AutoColumn gap=\"md\">\n                      <RowBetween paddingBottom=\"20px\">\n                        <ThemedText.Label>\n                          <Trans>Select Pair</Trans>\n                        </ThemedText.Label>\n                      </RowBetween>\n                      <RowBetween>\n                        <CurrencyDropdown\n                          value={formattedAmounts[Field.CURRENCY_A]}\n                          onUserInput={onFieldAInput}\n                          hideInput={true}\n                          onMax={() => {\n                            onFieldAInput(maxAmounts[Field.CURRENCY_A]?.toExact() ?? '')\n                          }}\n                          onCurrencySelect={handleCurrencyASelect}\n                          showMaxButton={!atMaxAmounts[Field.CURRENCY_A]}\n                          currency={currencies[Field.CURRENCY_A] ?? null}\n                          id=\"add-liquidity-input-tokena\"\n                          showCommonBases\n                        />\n\n                        <div style={{ width: '12px' }} />\n\n                        <CurrencyDropdown\n                          value={formattedAmounts[Field.CURRENCY_B]}\n                          hideInput={true}\n                          onUserInput={onFieldBInput}\n                          onCurrencySelect={handleCurrencyBSelect}\n                          onMax={() => {\n                            onFieldBInput(maxAmounts[Field.CURRENCY_B]?.toExact() ?? '')\n                          }}\n                          showMaxButton={!atMaxAmounts[Field.CURRENCY_B]}\n                          currency={currencies[Field.CURRENCY_B] ?? null}\n                          id=\"add-liquidity-input-tokenb\"\n                          showCommonBases\n                        />\n                      </RowBetween>\n\n                      <FeeSelector\n                        disabled={!quoteCurrency || !baseCurrency}\n                        feeAmount={feeAmount}\n                        handleFeePoolSelect={handleFeePoolSelect}\n                        currencyA={baseCurrency ?? undefined}\n                        currencyB={quoteCurrency ?? undefined}\n                      />\n                    </AutoColumn>{' '}\n                  </>\n                )}\n                {hasExistingPosition && existingPosition && (\n                  <PositionPreview\n                    position={existingPosition}\n                    title={<Trans>Selected Range</Trans>}\n                    inRange={!outOfRange}\n                    ticksAtLimit={ticksAtLimit}\n                  />\n                )}\n              </AutoColumn>\n              <div>\n                <DynamicSection\n                  disabled={tickLower === undefined || tickUpper === undefined || invalidPool || invalidRange}\n                >\n                  <AutoColumn gap=\"md\">\n                    <ThemedText.Label>\n                      {hasExistingPosition ? <Trans>Add more liquidity</Trans> : <Trans>Deposit Amounts</Trans>}\n                    </ThemedText.Label>\n\n                    <CurrencyInputPanel\n                      value={formattedAmounts[Field.CURRENCY_A]}\n                      onUserInput={onFieldAInput}\n                      onMax={() => {\n                        onFieldAInput(maxAmounts[Field.CURRENCY_A]?.toExact() ?? '')\n                      }}\n                      showMaxButton={!atMaxAmounts[Field.CURRENCY_A]}\n                      currency={currencies[Field.CURRENCY_A] ?? null}\n                      id=\"add-liquidity-input-tokena\"\n                      fiatValue={usdcValues[Field.CURRENCY_A]}\n                      showCommonBases\n                      locked={depositADisabled}\n                    />\n\n                    <CurrencyInputPanel\n                      value={formattedAmounts[Field.CURRENCY_B]}\n                      onUserInput={onFieldBInput}\n                      onMax={() => {\n                        onFieldBInput(maxAmounts[Field.CURRENCY_B]?.toExact() ?? '')\n                      }}\n                      showMaxButton={!atMaxAmounts[Field.CURRENCY_B]}\n                      fiatValue={usdcValues[Field.CURRENCY_B]}\n                      currency={currencies[Field.CURRENCY_B] ?? null}\n                      id=\"add-liquidity-input-tokenb\"\n                      showCommonBases\n                      locked={depositBDisabled}\n                    />\n                  </AutoColumn>\n                </DynamicSection>\n              </div>\n\n              {!hasExistingPosition ? (\n                <>\n                  <HideMedium>\n                    <Buttons />\n                  </HideMedium>\n                  <RightContainer gap=\"lg\">\n                    <DynamicSection gap=\"md\" disabled={!feeAmount || invalidPool}>\n                      {!noLiquidity ? (\n                        <>\n                          <RowBetween>\n                            <ThemedText.Label>\n                              <Trans>Set Price Range</Trans>\n                            </ThemedText.Label>\n                          </RowBetween>\n\n                          {price && baseCurrency && quoteCurrency && !noLiquidity && (\n                            <AutoRow gap=\"4px\" justify=\"center\" style={{ marginTop: '0.5rem' }}>\n                              <Trans>\n                                <ThemedText.Main fontWeight={500} textAlign=\"center\" fontSize={12} color=\"text1\">\n                                  Current Price:\n                                </ThemedText.Main>\n                                <ThemedText.Body fontWeight={500} textAlign=\"center\" fontSize={12} color=\"text1\">\n                                  <HoverInlineText\n                                    maxCharacters={20}\n                                    text={invertPrice ? price.invert().toSignificant(6) : price.toSignificant(6)}\n                                  />\n                                </ThemedText.Body>\n                                <ThemedText.Body color=\"text2\" fontSize={12}>\n                                  {quoteCurrency?.symbol} per {baseCurrency.symbol}\n                                </ThemedText.Body>\n                              </Trans>\n                            </AutoRow>\n                          )}\n\n                          <LiquidityChartRangeInput\n                            currencyA={baseCurrency ?? undefined}\n                            currencyB={quoteCurrency ?? undefined}\n                            feeAmount={feeAmount}\n                            ticksAtLimit={ticksAtLimit}\n                            price={\n                              price ? parseFloat((invertPrice ? price.invert() : price).toSignificant(8)) : undefined\n                            }\n                            priceLower={priceLower}\n                            priceUpper={priceUpper}\n                            onLeftRangeInput={onLeftRangeInput}\n                            onRightRangeInput={onRightRangeInput}\n                            interactive={!hasExistingPosition}\n                          />\n                        </>\n                      ) : (\n                        <AutoColumn gap=\"md\">\n                          <RowBetween>\n                            <ThemedText.Label>\n                              <Trans>Set Starting Price</Trans>\n                            </ThemedText.Label>\n                          </RowBetween>\n                          {noLiquidity && (\n                            <BlueCard\n                              style={{\n                                display: 'flex',\n                                flexDirection: 'row',\n                                alignItems: 'center',\n                                padding: '1rem 1rem',\n                              }}\n                            >\n                              <ThemedText.Body\n                                fontSize={14}\n                                style={{ fontWeight: 500 }}\n                                textAlign=\"left\"\n                                color={theme.primaryText1}\n                              >\n                                <Trans>\n                                  This pool must be initialized before you can add liquidity. To initialize, select a\n                                  starting price for the pool. Then, enter your liquidity price range and deposit\n                                  amount. Gas fees will be higher than usual due to the initialization transaction.\n                                </Trans>\n                              </ThemedText.Body>\n                            </BlueCard>\n                          )}\n                          <OutlineCard padding=\"12px\">\n                            <StyledInput\n                              className=\"start-price-input\"\n                              value={startPriceTypedValue}\n                              onUserInput={onStartPriceInput}\n                            />\n                          </OutlineCard>\n                          <RowBetween style={{ backgroundColor: theme.bg1, padding: '12px', borderRadius: '12px' }}>\n                            <ThemedText.Main>\n                              <Trans>Current {baseCurrency?.symbol} Price:</Trans>\n                            </ThemedText.Main>\n                            <ThemedText.Main>\n                              {price ? (\n                                <ThemedText.Main>\n                                  <RowFixed>\n                                    <HoverInlineText\n                                      maxCharacters={20}\n                                      text={invertPrice ? price?.invert()?.toSignificant(5) : price?.toSignificant(5)}\n                                    />{' '}\n                                    <span style={{ marginLeft: '4px' }}>{quoteCurrency?.symbol}</span>\n                                  </RowFixed>\n                                </ThemedText.Main>\n                              ) : (\n                                '-'\n                              )}\n                            </ThemedText.Main>\n                          </RowBetween>\n                        </AutoColumn>\n                      )}\n                    </DynamicSection>\n\n                    <DynamicSection\n                      gap=\"md\"\n                      disabled={!feeAmount || invalidPool || (noLiquidity && !startPriceTypedValue)}\n                    >\n                      <StackedContainer>\n                        <StackedItem style={{ opacity: showCapitalEfficiencyWarning ? '0.05' : 1 }}>\n                          <AutoColumn gap=\"md\">\n                            {noLiquidity && (\n                              <RowBetween>\n                                <ThemedText.Label>\n                                  <Trans>Set Price Range</Trans>\n                                </ThemedText.Label>\n                              </RowBetween>\n                            )}\n                            <RangeSelector\n                              priceLower={priceLower}\n                              priceUpper={priceUpper}\n                              getDecrementLower={getDecrementLower}\n                              getIncrementLower={getIncrementLower}\n                              getDecrementUpper={getDecrementUpper}\n                              getIncrementUpper={getIncrementUpper}\n                              onLeftRangeInput={onLeftRangeInput}\n                              onRightRangeInput={onRightRangeInput}\n                              currencyA={baseCurrency}\n                              currencyB={quoteCurrency}\n                              feeAmount={feeAmount}\n                              ticksAtLimit={ticksAtLimit}\n                            />\n                            {!noLiquidity && (\n                              <PresetsButtons\n                                setFullRange={() => {\n                                  setShowCapitalEfficiencyWarning(true)\n                                }}\n                              />\n                            )}\n                          </AutoColumn>\n                        </StackedItem>\n\n                        {showCapitalEfficiencyWarning && (\n                          <StackedItem zIndex={1}>\n                            <YellowCard\n                              padding=\"15px\"\n                              $borderRadius=\"12px\"\n                              height=\"100%\"\n                              style={{\n                                borderColor: theme.yellow3,\n                                border: '1px solid',\n                              }}\n                            >\n                              <AutoColumn gap=\"8px\" style={{ height: '100%' }}>\n                                <RowFixed>\n                                  <AlertTriangle stroke={theme.yellow3} size=\"16px\" />\n                                  <ThemedText.Yellow ml=\"12px\" fontSize=\"15px\">\n                                    <Trans>Efficiency Comparison</Trans>\n                                  </ThemedText.Yellow>\n                                </RowFixed>\n                                <RowFixed>\n                                  <ThemedText.Yellow ml=\"12px\" fontSize=\"13px\" margin={0} fontWeight={400}>\n                                    <Trans>\n                                      Full range positions may earn less fees than concentrated positions. Learn more{' '}\n                                      <ExternalLink\n                                        style={{ color: theme.yellow3, textDecoration: 'underline' }}\n                                        href={\n                                          'https://help.uniswap.org/en/articles/5434296-can-i-provide-liquidity-over-the-full-range-in-v3'\n                                        }\n                                      >\n                                        here\n                                      </ExternalLink>\n                                      .\n                                    </Trans>\n                                  </ThemedText.Yellow>\n                                </RowFixed>\n                                <Row>\n                                  <ButtonYellow\n                                    padding=\"8px\"\n                                    marginRight=\"8px\"\n                                    $borderRadius=\"8px\"\n                                    width=\"auto\"\n                                    onClick={() => {\n                                      setShowCapitalEfficiencyWarning(false)\n                                      getSetFullRange()\n                                    }}\n                                  >\n                                    <ThemedText.Black fontSize={13} color=\"black\">\n                                      <Trans>I understand</Trans>\n                                    </ThemedText.Black>\n                                  </ButtonYellow>\n                                </Row>\n                              </AutoColumn>\n                            </YellowCard>\n                          </StackedItem>\n                        )}\n                      </StackedContainer>\n\n                      {outOfRange ? (\n                        <YellowCard padding=\"8px 12px\" $borderRadius=\"12px\">\n                          <RowBetween>\n                            <AlertTriangle stroke={theme.yellow3} size=\"16px\" />\n                            <ThemedText.Yellow ml=\"12px\" fontSize=\"12px\">\n                              <Trans>\n                                Your position will not earn fees or be used in trades until the market price moves into\n                                your range.\n                              </Trans>\n                            </ThemedText.Yellow>\n                          </RowBetween>\n                        </YellowCard>\n                      ) : null}\n\n                      {invalidRange ? (\n                        <YellowCard padding=\"8px 12px\" $borderRadius=\"12px\">\n                          <RowBetween>\n                            <AlertTriangle stroke={theme.yellow3} size=\"16px\" />\n                            <ThemedText.Yellow ml=\"12px\" fontSize=\"12px\">\n                              <Trans>Invalid range selected. The min price must be lower than the max price.</Trans>\n                            </ThemedText.Yellow>\n                          </RowBetween>\n                        </YellowCard>\n                      ) : null}\n                    </DynamicSection>\n\n                    <MediumOnly>\n                      <Buttons />\n                    </MediumOnly>\n                  </RightContainer>\n                </>\n              ) : (\n                <Buttons />\n              )}\n            </ResponsiveTwoColumns>\n          </Wrapper>\n        </PageWrapper>\n        {addIsUnsupported && (\n          <UnsupportedCurrencyFooter\n            show={addIsUnsupported}\n            currencies={[currencies.CURRENCY_A, currencies.CURRENCY_B]}\n          />\n        )}\n      </ScrollablePage>\n      <SwitchLocaleLink />\n    </>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}