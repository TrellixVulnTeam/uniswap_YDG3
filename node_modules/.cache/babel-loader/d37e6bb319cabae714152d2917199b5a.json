{"ast":null,"code":"import _objectSpread from\"/Users/safahi/Downloads/interface-4.30.1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"/Users/safahi/Downloads/interface-4.30.1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/safahi/Downloads/interface-4.30.1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Users/safahi/Downloads/interface-4.30.1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import{ThemeContext as _ThemeContext}from\"styled-components\";import _styled from\"styled-components\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6;import{Trans}from\"@lingui/react\";import{ButtonGray,ButtonPrimary,ButtonText}from'components/Button';import{AutoColumn}from'components/Column';import{FlyoutAlignment,NewMenu}from'components/Menu';import{SwapPoolTabs}from'components/NavigationTabs';import PositionList from'components/PositionList';import{RowBetween,RowFixed}from'components/Row';import{SwitchLocaleLink}from'components/SwitchLocaleLink';import{useV3Positions}from'hooks/useV3Positions';import{useActiveWeb3React}from'hooks/web3';import{useContext}from'react';import{BookOpen,ChevronDown,ChevronsRight,Inbox,Layers,PlusCircle}from'react-feather';import{Link}from'react-router-dom';import{useWalletModalToggle}from'state/application/hooks';import{useUserHideClosedPositions}from'state/user/hooks';import{HideSmall,ThemedText}from'theme';import{V2_FACTORY_ADDRESSES}from'../../constants/addresses';import CTACards from'./CTACards';import{LoadingRows}from'./styleds';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var PageWrapper=_styled(AutoColumn).withConfig({componentId:\"sc-sqfwcm-0\"})([\"max-width:870px;width:100%;\",\";\",\";\"],function(_ref){var theme=_ref.theme;return theme.mediaWidth.upToMedium(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    max-width: 800px;\\n  \"])));},function(_ref2){var theme=_ref2.theme;return theme.mediaWidth.upToSmall(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n    max-width: 500px;\\n  \"])));});var TitleRow=_styled(RowBetween).withConfig({componentId:\"sc-sqfwcm-1\"})([\"color:\",\";\",\";\"],function(_ref3){var theme=_ref3.theme;return theme.text2;},function(_ref4){var theme=_ref4.theme;return theme.mediaWidth.upToSmall(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n    flex-wrap: wrap;\\n    gap: 12px;\\n    width: 100%;\\n  \"])));});var ButtonRow=_styled(RowFixed).withConfig({componentId:\"sc-sqfwcm-2\"})([\"& > *:not(:last-child){margin-left:8px;}\",\";\"],function(_ref5){var theme=_ref5.theme;return theme.mediaWidth.upToSmall(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n    width: 100%;\\n    flex-direction: row;\\n    justify-content: space-between;\\n    flex-direction: row-reverse;\\n  \"])));});var Menu=_styled(NewMenu).withConfig({componentId:\"sc-sqfwcm-3\"})([\"margin-left:0;\",\";a{width:100%;}\"],function(_ref6){var theme=_ref6.theme;return theme.mediaWidth.upToSmall(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n    flex: 1 1 auto;\\n    width: 49%;\\n    right: 0px;\\n  \"])));});var MenuItem=_styled.div.withConfig({componentId:\"sc-sqfwcm-4\"})([\"align-items:center;display:flex;justify-content:space-between;width:100%;font-weight:500;\"]);var MoreOptionsButton=_styled(ButtonGray).withConfig({componentId:\"sc-sqfwcm-5\"})([\"border-radius:12px;flex:1 1 auto;padding:6px 8px;width:100%;background-color:\",\";margin-right:8px;\"],function(_ref7){var theme=_ref7.theme;return theme.bg0;});var NoLiquidity=_styled.div.withConfig({componentId:\"sc-sqfwcm-6\"})([\"align-items:center;display:flex;flex-direction:column;justify-content:center;margin:auto;max-width:300px;min-height:25vh;\"]);var ResponsiveButtonPrimary=_styled(ButtonPrimary).withConfig({componentId:\"sc-sqfwcm-7\"})([\"border-radius:12px;padding:6px 8px;width:fit-content;\",\";\"],function(_ref8){var theme=_ref8.theme;return theme.mediaWidth.upToSmall(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n    flex: 1 1 auto;\\n    width: 100%;\\n  \"])));});var MainContentWrapper=_styled.main.withConfig({componentId:\"sc-sqfwcm-8\"})([\"background-color:\",\";padding:8px;border-radius:20px;display:flex;flex-direction:column;\"],function(_ref9){var theme=_ref9.theme;return theme.bg0;});function PositionsLoadingPlaceholder(){return/*#__PURE__*/_jsxs(LoadingRows,{children:[/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{})]});}export default function Pool(){var _positions$reduce;var _useActiveWeb3React=useActiveWeb3React(),account=_useActiveWeb3React.account,chainId=_useActiveWeb3React.chainId;var toggleWalletModal=useWalletModalToggle();var theme=useContext(_ThemeContext);var _useUserHideClosedPos=useUserHideClosedPositions(),_useUserHideClosedPos2=_slicedToArray(_useUserHideClosedPos,2),userHideClosedPositions=_useUserHideClosedPos2[0],setUserHideClosedPositions=_useUserHideClosedPos2[1];var _useV3Positions=useV3Positions(account),positions=_useV3Positions.positions,positionsLoading=_useV3Positions.loading;var _ref10=(_positions$reduce=positions===null||positions===void 0?void 0:positions.reduce(function(acc,p){var _p$liquidity;acc[((_p$liquidity=p.liquidity)===null||_p$liquidity===void 0?void 0:_p$liquidity.isZero())?1:0].push(p);return acc;},[[],[]]))!==null&&_positions$reduce!==void 0?_positions$reduce:[[],[]],_ref11=_slicedToArray(_ref10,2),openPositions=_ref11[0],closedPositions=_ref11[1];var filteredPositions=[].concat(_toConsumableArray(openPositions),_toConsumableArray(userHideClosedPositions?[]:closedPositions));var showConnectAWallet=Boolean(!account);var showV2Features=Boolean(chainId&&V2_FACTORY_ADDRESSES[chainId]);var menuItems=[{content:/*#__PURE__*/_jsxs(MenuItem,{children:[/*#__PURE__*/_jsx(Trans,{id:\"Create a pool\"}),/*#__PURE__*/_jsx(PlusCircle,{size:16})]}),link:'/add/ETH',external:false},{content:/*#__PURE__*/_jsxs(MenuItem,{children:[/*#__PURE__*/_jsx(Trans,{id:\"Migrate\"}),/*#__PURE__*/_jsx(ChevronsRight,{size:16})]}),link:'/migrate/v2',external:false},{content:/*#__PURE__*/_jsxs(MenuItem,{children:[/*#__PURE__*/_jsx(Trans,{id:\"V2 liquidity\"}),/*#__PURE__*/_jsx(Layers,{size:16})]}),link:'/pool/v2',external:false},{content:/*#__PURE__*/_jsxs(MenuItem,{children:[/*#__PURE__*/_jsx(Trans,{id:\"Learn\"}),/*#__PURE__*/_jsx(BookOpen,{size:16})]}),link:'https://docs.uniswap.org/',external:true}];return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(PageWrapper,{children:[/*#__PURE__*/_jsx(SwapPoolTabs,{active:'pool'}),/*#__PURE__*/_jsx(AutoColumn,{gap:\"lg\",justify:\"center\",children:/*#__PURE__*/_jsxs(AutoColumn,{gap:\"lg\",style:{width:'100%'},children:[/*#__PURE__*/_jsxs(TitleRow,{style:{marginTop:'1rem'},padding:'0',children:[/*#__PURE__*/_jsx(ThemedText.Body,{fontSize:'20px',children:/*#__PURE__*/_jsx(Trans,{id:\"Pools Overview\"})}),/*#__PURE__*/_jsxs(ButtonRow,{children:[showV2Features&&/*#__PURE__*/_jsx(Menu,{menuItems:menuItems,flyoutAlignment:FlyoutAlignment.LEFT,ToggleUI:function ToggleUI(props){return/*#__PURE__*/_jsx(MoreOptionsButton,_objectSpread(_objectSpread({},props),{},{children:/*#__PURE__*/_jsxs(ThemedText.Body,{style:{alignItems:'center',display:'flex'},children:[/*#__PURE__*/_jsx(Trans,{id:\"More\"}),/*#__PURE__*/_jsx(ChevronDown,{size:15})]})}));}}),/*#__PURE__*/_jsxs(ResponsiveButtonPrimary,{id:\"join-pool-button\",as:Link,to:\"/add/ETH\",children:[\"+ \",/*#__PURE__*/_jsx(Trans,{id:\"New Position\"})]})]})]}),/*#__PURE__*/_jsx(MainContentWrapper,{children:positionsLoading?/*#__PURE__*/_jsx(PositionsLoadingPlaceholder,{}):filteredPositions&&closedPositions&&filteredPositions.length>0?/*#__PURE__*/_jsx(PositionList,{positions:filteredPositions,setUserHideClosedPositions:setUserHideClosedPositions,userHideClosedPositions:userHideClosedPositions}):/*#__PURE__*/_jsxs(NoLiquidity,{children:[/*#__PURE__*/_jsxs(ThemedText.Body,{color:theme.text3,textAlign:\"center\",children:[/*#__PURE__*/_jsx(Inbox,{size:48,strokeWidth:1,style:{marginBottom:'.5rem'}}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Trans,{id:\"Your active V3 liquidity positions will appear here.\"})})]}),!showConnectAWallet&&closedPositions.length>0&&/*#__PURE__*/_jsx(ButtonText,{style:{marginTop:'.5rem'},onClick:function onClick(){return setUserHideClosedPositions(!userHideClosedPositions);},children:/*#__PURE__*/_jsx(Trans,{id:\"Show closed positions\"})}),showConnectAWallet&&/*#__PURE__*/_jsx(ButtonPrimary,{style:{marginTop:'2em',padding:'8px 16px'},onClick:toggleWalletModal,children:/*#__PURE__*/_jsx(Trans,{id:\"Connect a wallet\"})})]})}),/*#__PURE__*/_jsx(HideSmall,{children:/*#__PURE__*/_jsx(CTACards,{})})]})})]}),/*#__PURE__*/_jsx(SwitchLocaleLink,{})]});}","map":{"version":3,"sources":["/Users/safahi/Downloads/interface-4.30.1/src/pages/Pool/index.tsx"],"names":["ButtonGray","ButtonPrimary","ButtonText","AutoColumn","FlyoutAlignment","NewMenu","SwapPoolTabs","PositionList","RowBetween","RowFixed","SwitchLocaleLink","useV3Positions","useActiveWeb3React","useContext","BookOpen","ChevronDown","ChevronsRight","Inbox","Layers","PlusCircle","Link","useWalletModalToggle","useUserHideClosedPositions","HideSmall","ThemedText","V2_FACTORY_ADDRESSES","CTACards","LoadingRows","PageWrapper","styled","theme","mediaWidth","upToMedium","upToSmall","TitleRow","text2","ButtonRow","Menu","MenuItem","div","MoreOptionsButton","bg0","NoLiquidity","ResponsiveButtonPrimary","MainContentWrapper","main","PositionsLoadingPlaceholder","Pool","account","chainId","toggleWalletModal","ThemeContext","userHideClosedPositions","setUserHideClosedPositions","positions","positionsLoading","loading","reduce","acc","p","liquidity","isZero","push","openPositions","closedPositions","filteredPositions","showConnectAWallet","Boolean","showV2Features","menuItems","content","link","external","width","marginTop","LEFT","props","alignItems","display","length","text3","marginBottom","padding"],"mappings":"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","sourcesContent":["import { Trans } from '@lingui/macro'\nimport { ButtonGray, ButtonPrimary, ButtonText } from 'components/Button'\nimport { AutoColumn } from 'components/Column'\nimport { FlyoutAlignment, NewMenu } from 'components/Menu'\nimport { SwapPoolTabs } from 'components/NavigationTabs'\nimport PositionList from 'components/PositionList'\nimport { RowBetween, RowFixed } from 'components/Row'\nimport { SwitchLocaleLink } from 'components/SwitchLocaleLink'\nimport { useV3Positions } from 'hooks/useV3Positions'\nimport { useActiveWeb3React } from 'hooks/web3'\nimport { useContext } from 'react'\nimport { BookOpen, ChevronDown, ChevronsRight, Inbox, Layers, PlusCircle } from 'react-feather'\nimport { Link } from 'react-router-dom'\nimport { useWalletModalToggle } from 'state/application/hooks'\nimport { useUserHideClosedPositions } from 'state/user/hooks'\nimport styled, { ThemeContext } from 'styled-components/macro'\nimport { HideSmall, ThemedText } from 'theme'\nimport { PositionDetails } from 'types/position'\n\nimport { V2_FACTORY_ADDRESSES } from '../../constants/addresses'\nimport CTACards from './CTACards'\nimport { LoadingRows } from './styleds'\n\nconst PageWrapper = styled(AutoColumn)`\n  max-width: 870px;\n  width: 100%;\n\n  ${({ theme }) => theme.mediaWidth.upToMedium`\n    max-width: 800px;\n  `};\n\n  ${({ theme }) => theme.mediaWidth.upToSmall`\n    max-width: 500px;\n  `};\n`\nconst TitleRow = styled(RowBetween)`\n  color: ${({ theme }) => theme.text2};\n  ${({ theme }) => theme.mediaWidth.upToSmall`\n    flex-wrap: wrap;\n    gap: 12px;\n    width: 100%;\n  `};\n`\nconst ButtonRow = styled(RowFixed)`\n  & > *:not(:last-child) {\n    margin-left: 8px;\n  }\n\n  ${({ theme }) => theme.mediaWidth.upToSmall`\n    width: 100%;\n    flex-direction: row;\n    justify-content: space-between;\n    flex-direction: row-reverse;\n  `};\n`\nconst Menu = styled(NewMenu)`\n  margin-left: 0;\n  ${({ theme }) => theme.mediaWidth.upToSmall`\n    flex: 1 1 auto;\n    width: 49%;\n    right: 0px;\n  `};\n\n  a {\n    width: 100%;\n  }\n`\nconst MenuItem = styled.div`\n  align-items: center;\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n  font-weight: 500;\n`\nconst MoreOptionsButton = styled(ButtonGray)`\n  border-radius: 12px;\n  flex: 1 1 auto;\n  padding: 6px 8px;\n  width: 100%;\n  background-color: ${({ theme }) => theme.bg0};\n  margin-right: 8px;\n`\nconst NoLiquidity = styled.div`\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  margin: auto;\n  max-width: 300px;\n  min-height: 25vh;\n`\nconst ResponsiveButtonPrimary = styled(ButtonPrimary)`\n  border-radius: 12px;\n  padding: 6px 8px;\n  width: fit-content;\n  ${({ theme }) => theme.mediaWidth.upToSmall`\n    flex: 1 1 auto;\n    width: 100%;\n  `};\n`\n\nconst MainContentWrapper = styled.main`\n  background-color: ${({ theme }) => theme.bg0};\n  padding: 8px;\n  border-radius: 20px;\n  display: flex;\n  flex-direction: column;\n`\n\nfunction PositionsLoadingPlaceholder() {\n  return (\n    <LoadingRows>\n      <div />\n      <div />\n      <div />\n      <div />\n      <div />\n      <div />\n      <div />\n      <div />\n      <div />\n      <div />\n      <div />\n      <div />\n    </LoadingRows>\n  )\n}\n\nexport default function Pool() {\n  const { account, chainId } = useActiveWeb3React()\n  const toggleWalletModal = useWalletModalToggle()\n\n  const theme = useContext(ThemeContext)\n  const [userHideClosedPositions, setUserHideClosedPositions] = useUserHideClosedPositions()\n\n  const { positions, loading: positionsLoading } = useV3Positions(account)\n\n  const [openPositions, closedPositions] = positions?.reduce<[PositionDetails[], PositionDetails[]]>(\n    (acc, p) => {\n      acc[p.liquidity?.isZero() ? 1 : 0].push(p)\n      return acc\n    },\n    [[], []]\n  ) ?? [[], []]\n\n  const filteredPositions = [...openPositions, ...(userHideClosedPositions ? [] : closedPositions)]\n  const showConnectAWallet = Boolean(!account)\n  const showV2Features = Boolean(chainId && V2_FACTORY_ADDRESSES[chainId])\n\n  const menuItems = [\n    {\n      content: (\n        <MenuItem>\n          <Trans>Create a pool</Trans>\n          <PlusCircle size={16} />\n        </MenuItem>\n      ),\n      link: '/add/ETH',\n      external: false,\n    },\n    {\n      content: (\n        <MenuItem>\n          <Trans>Migrate</Trans>\n          <ChevronsRight size={16} />\n        </MenuItem>\n      ),\n      link: '/migrate/v2',\n      external: false,\n    },\n    {\n      content: (\n        <MenuItem>\n          <Trans>V2 liquidity</Trans>\n          <Layers size={16} />\n        </MenuItem>\n      ),\n      link: '/pool/v2',\n      external: false,\n    },\n    {\n      content: (\n        <MenuItem>\n          <Trans>Learn</Trans>\n          <BookOpen size={16} />\n        </MenuItem>\n      ),\n      link: 'https://docs.uniswap.org/',\n      external: true,\n    },\n  ]\n\n  return (\n    <>\n      <PageWrapper>\n        <SwapPoolTabs active={'pool'} />\n        <AutoColumn gap=\"lg\" justify=\"center\">\n          <AutoColumn gap=\"lg\" style={{ width: '100%' }}>\n            <TitleRow style={{ marginTop: '1rem' }} padding={'0'}>\n              <ThemedText.Body fontSize={'20px'}>\n                <Trans>Pools Overview</Trans>\n              </ThemedText.Body>\n              <ButtonRow>\n                {showV2Features && (\n                  <Menu\n                    menuItems={menuItems}\n                    flyoutAlignment={FlyoutAlignment.LEFT}\n                    ToggleUI={(props: any) => (\n                      <MoreOptionsButton {...props}>\n                        <ThemedText.Body style={{ alignItems: 'center', display: 'flex' }}>\n                          <Trans>More</Trans>\n                          <ChevronDown size={15} />\n                        </ThemedText.Body>\n                      </MoreOptionsButton>\n                    )}\n                  />\n                )}\n                <ResponsiveButtonPrimary id=\"join-pool-button\" as={Link} to=\"/add/ETH\">\n                  + <Trans>New Position</Trans>\n                </ResponsiveButtonPrimary>\n              </ButtonRow>\n            </TitleRow>\n\n            <MainContentWrapper>\n              {positionsLoading ? (\n                <PositionsLoadingPlaceholder />\n              ) : filteredPositions && closedPositions && filteredPositions.length > 0 ? (\n                <PositionList\n                  positions={filteredPositions}\n                  setUserHideClosedPositions={setUserHideClosedPositions}\n                  userHideClosedPositions={userHideClosedPositions}\n                />\n              ) : (\n                <NoLiquidity>\n                  <ThemedText.Body color={theme.text3} textAlign=\"center\">\n                    <Inbox size={48} strokeWidth={1} style={{ marginBottom: '.5rem' }} />\n                    <div>\n                      <Trans>Your active V3 liquidity positions will appear here.</Trans>\n                    </div>\n                  </ThemedText.Body>\n                  {!showConnectAWallet && closedPositions.length > 0 && (\n                    <ButtonText\n                      style={{ marginTop: '.5rem' }}\n                      onClick={() => setUserHideClosedPositions(!userHideClosedPositions)}\n                    >\n                      <Trans>Show closed positions</Trans>\n                    </ButtonText>\n                  )}\n                  {showConnectAWallet && (\n                    <ButtonPrimary style={{ marginTop: '2em', padding: '8px 16px' }} onClick={toggleWalletModal}>\n                      <Trans>Connect a wallet</Trans>\n                    </ButtonPrimary>\n                  )}\n                </NoLiquidity>\n              )}\n            </MainContentWrapper>\n            <HideSmall>\n              <CTACards />\n            </HideSmall>\n          </AutoColumn>\n        </AutoColumn>\n      </PageWrapper>\n      <SwitchLocaleLink />\n    </>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}