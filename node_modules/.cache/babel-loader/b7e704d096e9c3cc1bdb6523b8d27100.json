{"ast":null,"code":"import _styled from\"styled-components\";import{Trans}from\"@lingui/react\";import{CHAIN_INFO,SupportedChainId}from'constants/chains';import{useOnClickOutside}from'hooks/useOnClickOutside';import{useActiveWeb3React}from'hooks/web3';import{useCallback,useRef}from'react';import{ArrowDownCircle,ChevronDown}from'react-feather';import{useModalOpen,useToggleModal}from'state/application/hooks';import{addPopup,ApplicationModal}from'state/application/reducer';import{ExternalLink,MEDIA_WIDTHS}from'theme';import{useAppDispatch}from'../../state/hooks';import{switchToNetwork}from'../../utils/switchToNetwork';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ActiveRowLinkList=_styled.div.withConfig({componentId:\"sc-w04zhs-0\"})([\"display:flex;flex-direction:column;padding:0 8px;& > a{align-items:center;color:\",\";display:flex;flex-direction:row;font-size:14px;font-weight:500;justify-content:space-between;padding:8px 0 4px;text-decoration:none;}& > a:first-child{margin:0;margin-top:0px;padding-top:10px;}\"],function(_ref){var theme=_ref.theme;return theme.text2;});var ActiveRowWrapper=_styled.div.withConfig({componentId:\"sc-w04zhs-1\"})([\"background-color:\",\";border-radius:8px;cursor:pointer;padding:8px;width:100%;\"],function(_ref2){var theme=_ref2.theme;return theme.bg1;});var FlyoutHeader=_styled.div.withConfig({componentId:\"sc-w04zhs-2\"})([\"color:\",\";font-weight:400;\"],function(_ref3){var theme=_ref3.theme;return theme.text2;});var FlyoutMenu=_styled.div.withConfig({componentId:\"sc-w04zhs-3\"})([\"align-items:flex-start;background-color:\",\";box-shadow:0px 0px 1px rgba(0,0,0,0.01),0px 4px 8px rgba(0,0,0,0.04),0px 16px 24px rgba(0,0,0,0.04),0px 24px 32px rgba(0,0,0,0.01);border-radius:20px;display:flex;flex-direction:column;font-size:16px;overflow:auto;padding:16px;position:absolute;top:64px;width:272px;z-index:99;& > *:not(:last-child){margin-bottom:12px;}@media screen and (min-width:\",\"px){top:50px;}\"],function(_ref4){var theme=_ref4.theme;return theme.bg0;},MEDIA_WIDTHS.upToSmall);var FlyoutRow=_styled.div.withConfig({componentId:\"sc-w04zhs-4\"})([\"align-items:center;background-color:\",\";border-radius:8px;cursor:pointer;display:flex;font-weight:500;justify-content:space-between;padding:6px 8px;text-align:left;width:100%;\"],function(_ref5){var active=_ref5.active,theme=_ref5.theme;return active?theme.bg1:'transparent';});var FlyoutRowActiveIndicator=_styled.div.withConfig({componentId:\"sc-w04zhs-5\"})([\"background-color:\",\";border-radius:50%;height:9px;width:9px;\"],function(_ref6){var theme=_ref6.theme;return theme.green1;});var LinkOutCircle=_styled(ArrowDownCircle).withConfig({componentId:\"sc-w04zhs-6\"})([\"transform:rotate(230deg);width:16px;height:16px;\"]);var Logo=_styled.img.withConfig({componentId:\"sc-w04zhs-7\"})([\"height:20px;width:20px;margin-right:8px;\"]);var NetworkLabel=_styled.div.withConfig({componentId:\"sc-w04zhs-8\"})([\"flex:1 1 auto;\"]);var SelectorLabel=_styled(NetworkLabel).withConfig({componentId:\"sc-w04zhs-9\"})([\"display:none;@media screen and (min-width:\",\"px){display:block;margin-right:8px;}\"],MEDIA_WIDTHS.upToSmall);var SelectorControls=_styled.div.withConfig({componentId:\"sc-w04zhs-10\"})([\"align-items:center;background-color:\",\";border:2px solid \",\";border-radius:16px;color:\",\";cursor:\",\";display:flex;font-weight:500;justify-content:space-between;padding:6px 8px;\"],function(_ref7){var theme=_ref7.theme;return theme.bg0;},function(_ref8){var theme=_ref8.theme;return theme.bg0;},function(_ref9){var theme=_ref9.theme;return theme.text1;},function(_ref10){var interactive=_ref10.interactive;return interactive?'pointer':'auto';});var SelectorLogo=_styled(Logo).withConfig({componentId:\"sc-w04zhs-11\"})([\"margin-right:\",\"px;@media screen and (min-width:\",\"px){margin-right:8px;}\"],function(_ref11){var interactive=_ref11.interactive;return interactive?8:0;},MEDIA_WIDTHS.upToSmall);var SelectorWrapper=_styled.div.withConfig({componentId:\"sc-w04zhs-12\"})([\"@media screen and (min-width:\",\"px){position:relative;}\"],MEDIA_WIDTHS.upToSmall);var StyledChevronDown=_styled(ChevronDown).withConfig({componentId:\"sc-w04zhs-13\"})([\"width:16px;\"]);var BridgeLabel=function BridgeLabel(_ref12){var chainId=_ref12.chainId;switch(chainId){case SupportedChainId.ARBITRUM_ONE:case SupportedChainId.ARBITRUM_RINKEBY:return/*#__PURE__*/_jsx(Trans,{id:\"Arbitrum Bridge\"});case SupportedChainId.OPTIMISM:case SupportedChainId.OPTIMISTIC_KOVAN:return/*#__PURE__*/_jsx(Trans,{id:\"Optimism Gateway\"});case SupportedChainId.POLYGON:case SupportedChainId.POLYGON_MUMBAI:return/*#__PURE__*/_jsx(Trans,{id:\"Polygon Bridge\"});default:return/*#__PURE__*/_jsx(Trans,{id:\"Bridge\"});}};var ExplorerLabel=function ExplorerLabel(_ref13){var chainId=_ref13.chainId;switch(chainId){case SupportedChainId.ARBITRUM_ONE:case SupportedChainId.ARBITRUM_RINKEBY:return/*#__PURE__*/_jsx(Trans,{id:\"Arbiscan\"});case SupportedChainId.OPTIMISM:case SupportedChainId.OPTIMISTIC_KOVAN:return/*#__PURE__*/_jsx(Trans,{id:\"Optimistic Etherscan\"});case SupportedChainId.POLYGON:case SupportedChainId.POLYGON_MUMBAI:return/*#__PURE__*/_jsx(Trans,{id:\"Polygonscan\"});default:return/*#__PURE__*/_jsx(Trans,{id:\"Etherscan\"});}};function Row(_ref14){var targetChain=_ref14.targetChain,onSelectChain=_ref14.onSelectChain;var _useActiveWeb3React=useActiveWeb3React(),library=_useActiveWeb3React.library,chainId=_useActiveWeb3React.chainId;if(!library||!chainId){return null;}var active=chainId===targetChain;var _CHAIN_INFO$targetCha=CHAIN_INFO[targetChain],helpCenterUrl=_CHAIN_INFO$targetCha.helpCenterUrl,explorer=_CHAIN_INFO$targetCha.explorer,bridge=_CHAIN_INFO$targetCha.bridge,label=_CHAIN_INFO$targetCha.label,logoUrl=_CHAIN_INFO$targetCha.logoUrl;var rowContent=/*#__PURE__*/_jsxs(FlyoutRow,{onClick:function onClick(){return onSelectChain(targetChain);},active:active,children:[/*#__PURE__*/_jsx(Logo,{src:logoUrl}),/*#__PURE__*/_jsx(NetworkLabel,{children:label}),chainId===targetChain&&/*#__PURE__*/_jsx(FlyoutRowActiveIndicator,{})]});if(active){return/*#__PURE__*/_jsxs(ActiveRowWrapper,{children:[rowContent,/*#__PURE__*/_jsxs(ActiveRowLinkList,{children:[bridge?/*#__PURE__*/_jsxs(ExternalLink,{href:bridge,children:[/*#__PURE__*/_jsx(BridgeLabel,{chainId:chainId}),\" \",/*#__PURE__*/_jsx(LinkOutCircle,{})]}):null,explorer?/*#__PURE__*/_jsxs(ExternalLink,{href:explorer,children:[/*#__PURE__*/_jsx(ExplorerLabel,{chainId:chainId}),\" \",/*#__PURE__*/_jsx(LinkOutCircle,{})]}):null,helpCenterUrl?/*#__PURE__*/_jsxs(ExternalLink,{href:helpCenterUrl,children:[/*#__PURE__*/_jsx(Trans,{id:\"Help Center\"}),\" \",/*#__PURE__*/_jsx(LinkOutCircle,{})]}):null]})]});}return rowContent;}export default function NetworkSelector(){var _useActiveWeb3React2=useActiveWeb3React(),chainId=_useActiveWeb3React2.chainId,library=_useActiveWeb3React2.library;var node=useRef();var open=useModalOpen(ApplicationModal.NETWORK_SELECTOR);var toggle=useToggleModal(ApplicationModal.NETWORK_SELECTOR);useOnClickOutside(node,open?toggle:undefined);var info=chainId?CHAIN_INFO[chainId]:undefined;var dispatch=useAppDispatch();var handleRowClick=useCallback(function(targetChain){if(!library)return;switchToNetwork({library:library,chainId:targetChain}).then(function(){return toggle();}).catch(function(error){console.error('Failed to switch networks',error);toggle();dispatch(addPopup({content:{failedSwitchNetwork:targetChain},key:\"failed-network-switch\"}));});},[dispatch,library,toggle]);if(!chainId||!info||!library){return null;}return/*#__PURE__*/_jsxs(SelectorWrapper,{ref:node,children:[/*#__PURE__*/_jsxs(SelectorControls,{onClick:toggle,interactive:true,children:[/*#__PURE__*/_jsx(SelectorLogo,{interactive:true,src:info.logoUrl}),/*#__PURE__*/_jsx(SelectorLabel,{children:info.label}),/*#__PURE__*/_jsx(StyledChevronDown,{})]}),open&&/*#__PURE__*/_jsxs(FlyoutMenu,{onMouseLeave:toggle,children:[/*#__PURE__*/_jsx(FlyoutHeader,{children:/*#__PURE__*/_jsx(Trans,{id:\"Select a network\"})}),/*#__PURE__*/_jsx(Row,{onSelectChain:handleRowClick,targetChain:SupportedChainId.MAINNET}),/*#__PURE__*/_jsx(Row,{onSelectChain:handleRowClick,targetChain:SupportedChainId.POLYGON}),/*#__PURE__*/_jsx(Row,{onSelectChain:handleRowClick,targetChain:SupportedChainId.OPTIMISM}),/*#__PURE__*/_jsx(Row,{onSelectChain:handleRowClick,targetChain:SupportedChainId.ARBITRUM_ONE})]})]});}","map":{"version":3,"sources":["/Users/safahi/Downloads/interface-4.30.1/src/components/Header/NetworkSelector.tsx"],"names":["CHAIN_INFO","SupportedChainId","useOnClickOutside","useActiveWeb3React","useCallback","useRef","ArrowDownCircle","ChevronDown","useModalOpen","useToggleModal","addPopup","ApplicationModal","ExternalLink","MEDIA_WIDTHS","useAppDispatch","switchToNetwork","ActiveRowLinkList","styled","div","theme","text2","ActiveRowWrapper","bg1","FlyoutHeader","FlyoutMenu","bg0","upToSmall","FlyoutRow","active","FlyoutRowActiveIndicator","green1","LinkOutCircle","Logo","img","NetworkLabel","SelectorLabel","SelectorControls","text1","interactive","SelectorLogo","SelectorWrapper","StyledChevronDown","BridgeLabel","chainId","ARBITRUM_ONE","ARBITRUM_RINKEBY","OPTIMISM","OPTIMISTIC_KOVAN","POLYGON","POLYGON_MUMBAI","ExplorerLabel","Row","targetChain","onSelectChain","library","helpCenterUrl","explorer","bridge","label","logoUrl","rowContent","NetworkSelector","node","open","NETWORK_SELECTOR","toggle","undefined","info","dispatch","handleRowClick","then","catch","error","console","content","failedSwitchNetwork","key","MAINNET"],"mappings":"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","sourcesContent":["import { Trans } from '@lingui/macro'\nimport { CHAIN_INFO, SupportedChainId } from 'constants/chains'\nimport { useOnClickOutside } from 'hooks/useOnClickOutside'\nimport { useActiveWeb3React } from 'hooks/web3'\nimport { useCallback, useRef } from 'react'\nimport { ArrowDownCircle, ChevronDown } from 'react-feather'\nimport { useModalOpen, useToggleModal } from 'state/application/hooks'\nimport { addPopup, ApplicationModal } from 'state/application/reducer'\nimport styled from 'styled-components/macro'\nimport { ExternalLink, MEDIA_WIDTHS } from 'theme'\n\nimport { useAppDispatch } from '../../state/hooks'\nimport { switchToNetwork } from '../../utils/switchToNetwork'\n\nconst ActiveRowLinkList = styled.div`\n  display: flex;\n  flex-direction: column;\n  padding: 0 8px;\n  & > a {\n    align-items: center;\n    color: ${({ theme }) => theme.text2};\n    display: flex;\n    flex-direction: row;\n    font-size: 14px;\n    font-weight: 500;\n    justify-content: space-between;\n    padding: 8px 0 4px;\n    text-decoration: none;\n  }\n  & > a:first-child {\n    margin: 0;\n    margin-top: 0px;\n    padding-top: 10px;\n  }\n`\nconst ActiveRowWrapper = styled.div`\n  background-color: ${({ theme }) => theme.bg1};\n  border-radius: 8px;\n  cursor: pointer;\n  padding: 8px;\n  width: 100%;\n`\nconst FlyoutHeader = styled.div`\n  color: ${({ theme }) => theme.text2};\n  font-weight: 400;\n`\nconst FlyoutMenu = styled.div`\n  align-items: flex-start;\n  background-color: ${({ theme }) => theme.bg0};\n  box-shadow: 0px 0px 1px rgba(0, 0, 0, 0.01), 0px 4px 8px rgba(0, 0, 0, 0.04), 0px 16px 24px rgba(0, 0, 0, 0.04),\n    0px 24px 32px rgba(0, 0, 0, 0.01);\n  border-radius: 20px;\n  display: flex;\n  flex-direction: column;\n  font-size: 16px;\n  overflow: auto;\n  padding: 16px;\n  position: absolute;\n  top: 64px;\n  width: 272px;\n  z-index: 99;\n  & > *:not(:last-child) {\n    margin-bottom: 12px;\n  }\n  @media screen and (min-width: ${MEDIA_WIDTHS.upToSmall}px) {\n    top: 50px;\n  }\n`\nconst FlyoutRow = styled.div<{ active: boolean }>`\n  align-items: center;\n  background-color: ${({ active, theme }) => (active ? theme.bg1 : 'transparent')};\n  border-radius: 8px;\n  cursor: pointer;\n  display: flex;\n  font-weight: 500;\n  justify-content: space-between;\n  padding: 6px 8px;\n  text-align: left;\n  width: 100%;\n`\nconst FlyoutRowActiveIndicator = styled.div`\n  background-color: ${({ theme }) => theme.green1};\n  border-radius: 50%;\n  height: 9px;\n  width: 9px;\n`\nconst LinkOutCircle = styled(ArrowDownCircle)`\n  transform: rotate(230deg);\n  width: 16px;\n  height: 16px;\n`\nconst Logo = styled.img`\n  height: 20px;\n  width: 20px;\n  margin-right: 8px;\n`\nconst NetworkLabel = styled.div`\n  flex: 1 1 auto;\n`\nconst SelectorLabel = styled(NetworkLabel)`\n  display: none;\n  @media screen and (min-width: ${MEDIA_WIDTHS.upToSmall}px) {\n    display: block;\n    margin-right: 8px;\n  }\n`\nconst SelectorControls = styled.div<{ interactive: boolean }>`\n  align-items: center;\n  background-color: ${({ theme }) => theme.bg0};\n  border: 2px solid ${({ theme }) => theme.bg0};\n  border-radius: 16px;\n  color: ${({ theme }) => theme.text1};\n  cursor: ${({ interactive }) => (interactive ? 'pointer' : 'auto')};\n  display: flex;\n  font-weight: 500;\n  justify-content: space-between;\n  padding: 6px 8px;\n`\nconst SelectorLogo = styled(Logo)<{ interactive?: boolean }>`\n  margin-right: ${({ interactive }) => (interactive ? 8 : 0)}px;\n  @media screen and (min-width: ${MEDIA_WIDTHS.upToSmall}px) {\n    margin-right: 8px;\n  }\n`\nconst SelectorWrapper = styled.div`\n  @media screen and (min-width: ${MEDIA_WIDTHS.upToSmall}px) {\n    position: relative;\n  }\n`\nconst StyledChevronDown = styled(ChevronDown)`\n  width: 16px;\n`\nconst BridgeLabel = ({ chainId }: { chainId: SupportedChainId }) => {\n  switch (chainId) {\n    case SupportedChainId.ARBITRUM_ONE:\n    case SupportedChainId.ARBITRUM_RINKEBY:\n      return <Trans>Arbitrum Bridge</Trans>\n    case SupportedChainId.OPTIMISM:\n    case SupportedChainId.OPTIMISTIC_KOVAN:\n      return <Trans>Optimism Gateway</Trans>\n    case SupportedChainId.POLYGON:\n    case SupportedChainId.POLYGON_MUMBAI:\n      return <Trans>Polygon Bridge</Trans>\n    default:\n      return <Trans>Bridge</Trans>\n  }\n}\nconst ExplorerLabel = ({ chainId }: { chainId: SupportedChainId }) => {\n  switch (chainId) {\n    case SupportedChainId.ARBITRUM_ONE:\n    case SupportedChainId.ARBITRUM_RINKEBY:\n      return <Trans>Arbiscan</Trans>\n    case SupportedChainId.OPTIMISM:\n    case SupportedChainId.OPTIMISTIC_KOVAN:\n      return <Trans>Optimistic Etherscan</Trans>\n    case SupportedChainId.POLYGON:\n    case SupportedChainId.POLYGON_MUMBAI:\n      return <Trans>Polygonscan</Trans>\n    default:\n      return <Trans>Etherscan</Trans>\n  }\n}\n\nfunction Row({\n  targetChain,\n  onSelectChain,\n}: {\n  targetChain: SupportedChainId\n  onSelectChain: (targetChain: number) => void\n}) {\n  const { library, chainId } = useActiveWeb3React()\n  if (!library || !chainId) {\n    return null\n  }\n  const active = chainId === targetChain\n  const { helpCenterUrl, explorer, bridge, label, logoUrl } = CHAIN_INFO[targetChain]\n\n  const rowContent = (\n    <FlyoutRow onClick={() => onSelectChain(targetChain)} active={active}>\n      <Logo src={logoUrl} />\n      <NetworkLabel>{label}</NetworkLabel>\n      {chainId === targetChain && <FlyoutRowActiveIndicator />}\n    </FlyoutRow>\n  )\n\n  if (active) {\n    return (\n      <ActiveRowWrapper>\n        {rowContent}\n        <ActiveRowLinkList>\n          {bridge ? (\n            <ExternalLink href={bridge}>\n              <BridgeLabel chainId={chainId} /> <LinkOutCircle />\n            </ExternalLink>\n          ) : null}\n          {explorer ? (\n            <ExternalLink href={explorer}>\n              <ExplorerLabel chainId={chainId} /> <LinkOutCircle />\n            </ExternalLink>\n          ) : null}\n          {helpCenterUrl ? (\n            <ExternalLink href={helpCenterUrl}>\n              <Trans>Help Center</Trans> <LinkOutCircle />\n            </ExternalLink>\n          ) : null}\n        </ActiveRowLinkList>\n      </ActiveRowWrapper>\n    )\n  }\n  return rowContent\n}\n\nexport default function NetworkSelector() {\n  const { chainId, library } = useActiveWeb3React()\n  const node = useRef<HTMLDivElement>()\n  const open = useModalOpen(ApplicationModal.NETWORK_SELECTOR)\n  const toggle = useToggleModal(ApplicationModal.NETWORK_SELECTOR)\n  useOnClickOutside(node, open ? toggle : undefined)\n\n  const info = chainId ? CHAIN_INFO[chainId] : undefined\n\n  const dispatch = useAppDispatch()\n\n  const handleRowClick = useCallback(\n    (targetChain: number) => {\n      if (!library) return\n      switchToNetwork({ library, chainId: targetChain })\n        .then(() => toggle())\n        .catch((error) => {\n          console.error('Failed to switch networks', error)\n          toggle()\n          dispatch(addPopup({ content: { failedSwitchNetwork: targetChain }, key: `failed-network-switch` }))\n        })\n    },\n    [dispatch, library, toggle]\n  )\n\n  if (!chainId || !info || !library) {\n    return null\n  }\n\n  return (\n    <SelectorWrapper ref={node as any}>\n      <SelectorControls onClick={toggle} interactive>\n        <SelectorLogo interactive src={info.logoUrl} />\n        <SelectorLabel>{info.label}</SelectorLabel>\n        <StyledChevronDown />\n      </SelectorControls>\n      {open && (\n        <FlyoutMenu onMouseLeave={toggle}>\n          <FlyoutHeader>\n            <Trans>Select a network</Trans>\n          </FlyoutHeader>\n          <Row onSelectChain={handleRowClick} targetChain={SupportedChainId.MAINNET} />\n          <Row onSelectChain={handleRowClick} targetChain={SupportedChainId.POLYGON} />\n          <Row onSelectChain={handleRowClick} targetChain={SupportedChainId.OPTIMISM} />\n          <Row onSelectChain={handleRowClick} targetChain={SupportedChainId.ARBITRUM_ONE} />\n        </FlyoutMenu>\n      )}\n    </SelectorWrapper>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}