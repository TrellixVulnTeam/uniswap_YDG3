{"ast":null,"code":"import { ThemeContext as _ThemeContext } from \"styled-components\";\n\nvar _jsxFileName = \"/Users/safahi/Downloads/interface-4.30.1/src/pages/AddLiquidityV2/index.tsx\",\n    _s = $RefreshSig$();\n\nimport { Trans } from \"@lingui/react\";\nimport { BigNumber } from '@ethersproject/bignumber';\nimport { Percent } from '@uniswap/sdk-core';\nimport UnsupportedCurrencyFooter from 'components/swap/UnsupportedCurrencyFooter';\nimport { SwitchLocaleLink } from 'components/SwitchLocaleLink';\nimport { useCallback, useContext, useState } from 'react';\nimport { Plus } from 'react-feather';\nimport ReactGA from 'react-ga';\nimport { Text } from 'rebass';\nimport { ButtonError, ButtonLight, ButtonPrimary } from '../../components/Button';\nimport { BlueCard, LightCard } from '../../components/Card';\nimport { AutoColumn, ColumnCenter } from '../../components/Column';\nimport CurrencyInputPanel from '../../components/CurrencyInputPanel';\nimport DoubleCurrencyLogo from '../../components/DoubleLogo';\nimport { AddRemoveTabs } from '../../components/NavigationTabs';\nimport { MinimalPositionCard } from '../../components/PositionCard';\nimport Row, { RowBetween, RowFlat } from '../../components/Row';\nimport TransactionConfirmationModal, { ConfirmationModalContent } from '../../components/TransactionConfirmationModal';\nimport { ZERO_PERCENT } from '../../constants/misc';\nimport { WRAPPED_NATIVE_CURRENCY } from '../../constants/tokens';\nimport { useCurrency } from '../../hooks/Tokens';\nimport { ApprovalState, useApproveCallback } from '../../hooks/useApproveCallback';\nimport { useV2RouterContract } from '../../hooks/useContract';\nimport { useIsSwapUnsupported } from '../../hooks/useIsSwapUnsupported';\nimport useTransactionDeadline from '../../hooks/useTransactionDeadline';\nimport { PairState } from '../../hooks/useV2Pairs';\nimport { useActiveWeb3React } from '../../hooks/web3';\nimport { useWalletModalToggle } from '../../state/application/hooks';\nimport { Field } from '../../state/mint/actions';\nimport { useDerivedMintInfo, useMintActionHandlers, useMintState } from '../../state/mint/hooks';\nimport { TransactionType } from '../../state/transactions/actions';\nimport { useTransactionAdder } from '../../state/transactions/hooks';\nimport { useIsExpertMode, useUserSlippageToleranceWithDefault } from '../../state/user/hooks';\nimport { ThemedText } from '../../theme';\nimport { calculateGasMargin } from '../../utils/calculateGasMargin';\nimport { calculateSlippageAmount } from '../../utils/calculateSlippageAmount';\nimport { currencyId } from '../../utils/currencyId';\nimport { maxAmountSpend } from '../../utils/maxAmountSpend';\nimport AppBody from '../AppBody';\nimport { Dots, Wrapper } from '../Pool/styleds';\nimport { ConfirmAddModalBottom } from './ConfirmAddModalBottom';\nimport { PoolPriceBar } from './PoolPriceBar';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst DEFAULT_ADD_V2_SLIPPAGE_TOLERANCE = new Percent(50, 10000);\nexport default function AddLiquidity({\n  match: {\n    params: {\n      currencyIdA,\n      currencyIdB\n    }\n  },\n  history\n}) {\n  _s();\n\n  var _parsedAmounts$depend, _parsedAmounts$depend2, _parsedAmounts$Field$5, _currencies$Field$CUR7, _parsedAmounts$Field$6, _currencies$Field$CUR8, _currencies$Field$CUR9, _currencies$Field$CUR10, _currencies$Field$CUR11, _currencies$Field$CUR12, _currencies$Field$CUR13, _currencies$Field$CUR14;\n\n  const {\n    account,\n    chainId,\n    library\n  } = useActiveWeb3React();\n  const theme = useContext(_ThemeContext);\n  const currencyA = useCurrency(currencyIdA);\n  const currencyB = useCurrency(currencyIdB);\n  const oneCurrencyIsWETH = Boolean(chainId && (currencyA && currencyA.equals(WRAPPED_NATIVE_CURRENCY[chainId]) || currencyB && currencyB.equals(WRAPPED_NATIVE_CURRENCY[chainId])));\n  const toggleWalletModal = useWalletModalToggle(); // toggle wallet when disconnected\n\n  const expertMode = useIsExpertMode(); // mint state\n\n  const {\n    independentField,\n    typedValue,\n    otherTypedValue\n  } = useMintState();\n  const {\n    dependentField,\n    currencies,\n    pair,\n    pairState,\n    currencyBalances,\n    parsedAmounts,\n    price,\n    noLiquidity,\n    liquidityMinted,\n    poolTokenPercentage,\n    error\n  } = useDerivedMintInfo(currencyA !== null && currencyA !== void 0 ? currencyA : undefined, currencyB !== null && currencyB !== void 0 ? currencyB : undefined);\n  const {\n    onFieldAInput,\n    onFieldBInput\n  } = useMintActionHandlers(noLiquidity);\n  const isValid = !error; // modal and loading\n\n  const [showConfirm, setShowConfirm] = useState(false);\n  const [attemptingTxn, setAttemptingTxn] = useState(false); // clicked confirm\n  // txn values\n\n  const deadline = useTransactionDeadline(); // custom from users settings\n\n  const allowedSlippage = useUserSlippageToleranceWithDefault(DEFAULT_ADD_V2_SLIPPAGE_TOLERANCE); // custom from users\n\n  const [txHash, setTxHash] = useState(''); // get formatted amounts\n\n  const formattedAmounts = {\n    [independentField]: typedValue,\n    [dependentField]: noLiquidity ? otherTypedValue : (_parsedAmounts$depend = (_parsedAmounts$depend2 = parsedAmounts[dependentField]) === null || _parsedAmounts$depend2 === void 0 ? void 0 : _parsedAmounts$depend2.toSignificant(6)) !== null && _parsedAmounts$depend !== void 0 ? _parsedAmounts$depend : ''\n  }; // get the max amounts user can add\n\n  const maxAmounts = [Field.CURRENCY_A, Field.CURRENCY_B].reduce((accumulator, field) => {\n    return { ...accumulator,\n      [field]: maxAmountSpend(currencyBalances[field])\n    };\n  }, {});\n  const atMaxAmounts = [Field.CURRENCY_A, Field.CURRENCY_B].reduce((accumulator, field) => {\n    var _maxAmounts$field, _parsedAmounts$field;\n\n    return { ...accumulator,\n      [field]: (_maxAmounts$field = maxAmounts[field]) === null || _maxAmounts$field === void 0 ? void 0 : _maxAmounts$field.equalTo((_parsedAmounts$field = parsedAmounts[field]) !== null && _parsedAmounts$field !== void 0 ? _parsedAmounts$field : '0')\n    };\n  }, {});\n  const router = useV2RouterContract(); // check whether the user has approved the router on the tokens\n\n  const [approvalA, approveACallback] = useApproveCallback(parsedAmounts[Field.CURRENCY_A], router === null || router === void 0 ? void 0 : router.address);\n  const [approvalB, approveBCallback] = useApproveCallback(parsedAmounts[Field.CURRENCY_B], router === null || router === void 0 ? void 0 : router.address);\n  const addTransaction = useTransactionAdder();\n\n  async function onAdd() {\n    if (!chainId || !library || !account || !router) return;\n    const {\n      [Field.CURRENCY_A]: parsedAmountA,\n      [Field.CURRENCY_B]: parsedAmountB\n    } = parsedAmounts;\n\n    if (!parsedAmountA || !parsedAmountB || !currencyA || !currencyB || !deadline) {\n      return;\n    }\n\n    const amountsMin = {\n      [Field.CURRENCY_A]: calculateSlippageAmount(parsedAmountA, noLiquidity ? ZERO_PERCENT : allowedSlippage)[0],\n      [Field.CURRENCY_B]: calculateSlippageAmount(parsedAmountB, noLiquidity ? ZERO_PERCENT : allowedSlippage)[0]\n    };\n    let estimate, method, args, value;\n\n    if (currencyA.isNative || currencyB.isNative) {\n      var _wrapped$address, _ref, _ref$wrapped;\n\n      const tokenBIsETH = currencyB.isNative;\n      estimate = router.estimateGas.addLiquidityETH;\n      method = router.addLiquidityETH;\n      args = [(_wrapped$address = (_ref = tokenBIsETH ? currencyA : currencyB) === null || _ref === void 0 ? void 0 : (_ref$wrapped = _ref.wrapped) === null || _ref$wrapped === void 0 ? void 0 : _ref$wrapped.address) !== null && _wrapped$address !== void 0 ? _wrapped$address : '', // token\n      (tokenBIsETH ? parsedAmountA : parsedAmountB).quotient.toString(), // token desired\n      amountsMin[tokenBIsETH ? Field.CURRENCY_A : Field.CURRENCY_B].toString(), // token min\n      amountsMin[tokenBIsETH ? Field.CURRENCY_B : Field.CURRENCY_A].toString(), // eth min\n      account, deadline.toHexString()];\n      value = BigNumber.from((tokenBIsETH ? parsedAmountB : parsedAmountA).quotient.toString());\n    } else {\n      var _currencyA$wrapped$ad, _currencyA$wrapped, _currencyB$wrapped$ad, _currencyB$wrapped;\n\n      estimate = router.estimateGas.addLiquidity;\n      method = router.addLiquidity;\n      args = [(_currencyA$wrapped$ad = currencyA === null || currencyA === void 0 ? void 0 : (_currencyA$wrapped = currencyA.wrapped) === null || _currencyA$wrapped === void 0 ? void 0 : _currencyA$wrapped.address) !== null && _currencyA$wrapped$ad !== void 0 ? _currencyA$wrapped$ad : '', (_currencyB$wrapped$ad = currencyB === null || currencyB === void 0 ? void 0 : (_currencyB$wrapped = currencyB.wrapped) === null || _currencyB$wrapped === void 0 ? void 0 : _currencyB$wrapped.address) !== null && _currencyB$wrapped$ad !== void 0 ? _currencyB$wrapped$ad : '', parsedAmountA.quotient.toString(), parsedAmountB.quotient.toString(), amountsMin[Field.CURRENCY_A].toString(), amountsMin[Field.CURRENCY_B].toString(), account, deadline.toHexString()];\n      value = null;\n    }\n\n    setAttemptingTxn(true);\n    await estimate(...args, value ? {\n      value\n    } : {}).then(estimatedGasLimit => method(...args, { ...(value ? {\n        value\n      } : {}),\n      gasLimit: calculateGasMargin(estimatedGasLimit)\n    }).then(response => {\n      var _parsedAmounts$Field$, _parsedAmounts$Field$2, _parsedAmounts$Field$3, _parsedAmounts$Field$4, _currencies$Field$CUR, _currencies$Field$CUR2;\n\n      setAttemptingTxn(false);\n      addTransaction(response, {\n        type: TransactionType.ADD_LIQUIDITY_V2_POOL,\n        baseCurrencyId: currencyId(currencyA),\n        expectedAmountBaseRaw: (_parsedAmounts$Field$ = (_parsedAmounts$Field$2 = parsedAmounts[Field.CURRENCY_A]) === null || _parsedAmounts$Field$2 === void 0 ? void 0 : _parsedAmounts$Field$2.quotient.toString()) !== null && _parsedAmounts$Field$ !== void 0 ? _parsedAmounts$Field$ : '0',\n        quoteCurrencyId: currencyId(currencyB),\n        expectedAmountQuoteRaw: (_parsedAmounts$Field$3 = (_parsedAmounts$Field$4 = parsedAmounts[Field.CURRENCY_B]) === null || _parsedAmounts$Field$4 === void 0 ? void 0 : _parsedAmounts$Field$4.quotient.toString()) !== null && _parsedAmounts$Field$3 !== void 0 ? _parsedAmounts$Field$3 : '0'\n      });\n      setTxHash(response.hash);\n      ReactGA.event({\n        category: 'Liquidity',\n        action: 'Add',\n        label: [(_currencies$Field$CUR = currencies[Field.CURRENCY_A]) === null || _currencies$Field$CUR === void 0 ? void 0 : _currencies$Field$CUR.symbol, (_currencies$Field$CUR2 = currencies[Field.CURRENCY_B]) === null || _currencies$Field$CUR2 === void 0 ? void 0 : _currencies$Field$CUR2.symbol].join('/')\n      });\n    })).catch(error => {\n      setAttemptingTxn(false); // we only care if the error is something _other_ than the user rejected the tx\n\n      if ((error === null || error === void 0 ? void 0 : error.code) !== 4001) {\n        console.error(error);\n      }\n    });\n  }\n\n  const modalHeader = () => {\n    var _currencies$Field$CUR3, _currencies$Field$CUR4, _currencies$Field$CUR5, _currencies$Field$CUR6;\n\n    return noLiquidity ? /*#__PURE__*/_jsxDEV(AutoColumn, {\n      gap: \"20px\",\n      children: /*#__PURE__*/_jsxDEV(LightCard, {\n        mt: \"20px\",\n        $borderRadius: \"20px\",\n        children: /*#__PURE__*/_jsxDEV(RowFlat, {\n          children: [/*#__PURE__*/_jsxDEV(Text, {\n            fontSize: \"48px\",\n            fontWeight: 500,\n            lineHeight: \"42px\",\n            marginRight: 10,\n            children: ((_currencies$Field$CUR3 = currencies[Field.CURRENCY_A]) === null || _currencies$Field$CUR3 === void 0 ? void 0 : _currencies$Field$CUR3.symbol) + '/' + ((_currencies$Field$CUR4 = currencies[Field.CURRENCY_B]) === null || _currencies$Field$CUR4 === void 0 ? void 0 : _currencies$Field$CUR4.symbol)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(DoubleCurrencyLogo, {\n            currency0: currencies[Field.CURRENCY_A],\n            currency1: currencies[Field.CURRENCY_B],\n            size: 30\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 7\n    }, this) : /*#__PURE__*/_jsxDEV(AutoColumn, {\n      gap: \"20px\",\n      children: [/*#__PURE__*/_jsxDEV(RowFlat, {\n        style: {\n          marginTop: '20px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Text, {\n          fontSize: \"48px\",\n          fontWeight: 500,\n          lineHeight: \"42px\",\n          marginRight: 10,\n          children: liquidityMinted === null || liquidityMinted === void 0 ? void 0 : liquidityMinted.toSignificant(6)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(DoubleCurrencyLogo, {\n          currency0: currencies[Field.CURRENCY_A],\n          currency1: currencies[Field.CURRENCY_B],\n          size: 30\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Text, {\n          fontSize: \"24px\",\n          children: ((_currencies$Field$CUR5 = currencies[Field.CURRENCY_A]) === null || _currencies$Field$CUR5 === void 0 ? void 0 : _currencies$Field$CUR5.symbol) + '/' + ((_currencies$Field$CUR6 = currencies[Field.CURRENCY_B]) === null || _currencies$Field$CUR6 === void 0 ? void 0 : _currencies$Field$CUR6.symbol) + ' Pool Tokens'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ThemedText.Italic, {\n        fontSize: 12,\n        textAlign: \"left\",\n        padding: '8px 0 0 0 ',\n        children: /*#__PURE__*/_jsxDEV(Trans, {\n          id: \"Output is estimated. If the price changes by more than {0}% your transaction will revert.\",\n          values: {\n            0: allowedSlippage.toSignificant(4)\n          }\n        }, void 0, false, void 0, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 7\n    }, this);\n  };\n\n  const modalBottom = () => {\n    return /*#__PURE__*/_jsxDEV(ConfirmAddModalBottom, {\n      price: price,\n      currencies: currencies,\n      parsedAmounts: parsedAmounts,\n      noLiquidity: noLiquidity,\n      onAdd: onAdd,\n      poolTokenPercentage: poolTokenPercentage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 7\n    }, this);\n  };\n\n  const pendingText = /*#__PURE__*/_jsxDEV(Trans, {\n    id: \"Supplying {0} {1} and {2} {3}\",\n    values: {\n      0: (_parsedAmounts$Field$5 = parsedAmounts[Field.CURRENCY_A]) === null || _parsedAmounts$Field$5 === void 0 ? void 0 : _parsedAmounts$Field$5.toSignificant(6),\n      1: (_currencies$Field$CUR7 = currencies[Field.CURRENCY_A]) === null || _currencies$Field$CUR7 === void 0 ? void 0 : _currencies$Field$CUR7.symbol,\n      2: (_parsedAmounts$Field$6 = parsedAmounts[Field.CURRENCY_B]) === null || _parsedAmounts$Field$6 === void 0 ? void 0 : _parsedAmounts$Field$6.toSignificant(6),\n      3: (_currencies$Field$CUR8 = currencies[Field.CURRENCY_B]) === null || _currencies$Field$CUR8 === void 0 ? void 0 : _currencies$Field$CUR8.symbol\n    }\n  }, void 0, false, void 0, this);\n\n  const handleCurrencyASelect = useCallback(currencyA => {\n    const newCurrencyIdA = currencyId(currencyA);\n\n    if (newCurrencyIdA === currencyIdB) {\n      history.push(`/add/v2/${currencyIdB}/${currencyIdA}`);\n    } else {\n      history.push(`/add/v2/${newCurrencyIdA}/${currencyIdB}`);\n    }\n  }, [currencyIdB, history, currencyIdA]);\n  const handleCurrencyBSelect = useCallback(currencyB => {\n    const newCurrencyIdB = currencyId(currencyB);\n\n    if (currencyIdA === newCurrencyIdB) {\n      if (currencyIdB) {\n        history.push(`/add/v2/${currencyIdB}/${newCurrencyIdB}`);\n      } else {\n        history.push(`/add/v2/${newCurrencyIdB}`);\n      }\n    } else {\n      history.push(`/add/v2/${currencyIdA ? currencyIdA : 'ETH'}/${newCurrencyIdB}`);\n    }\n  }, [currencyIdA, history, currencyIdB]);\n  const handleDismissConfirmation = useCallback(() => {\n    setShowConfirm(false); // if there was a tx hash, we want to clear the input\n\n    if (txHash) {\n      onFieldAInput('');\n    }\n\n    setTxHash('');\n  }, [onFieldAInput, txHash]);\n  const isCreate = history.location.pathname.includes('/create');\n  const addIsUnsupported = useIsSwapUnsupported(currencies === null || currencies === void 0 ? void 0 : currencies.CURRENCY_A, currencies === null || currencies === void 0 ? void 0 : currencies.CURRENCY_B);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(AppBody, {\n      children: [/*#__PURE__*/_jsxDEV(AddRemoveTabs, {\n        creating: isCreate,\n        adding: true,\n        defaultSlippage: DEFAULT_ADD_V2_SLIPPAGE_TOLERANCE\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Wrapper, {\n        children: [/*#__PURE__*/_jsxDEV(TransactionConfirmationModal, {\n          isOpen: showConfirm,\n          onDismiss: handleDismissConfirmation,\n          attemptingTxn: attemptingTxn,\n          hash: txHash,\n          content: () => /*#__PURE__*/_jsxDEV(ConfirmationModalContent, {\n            title: noLiquidity ? /*#__PURE__*/_jsxDEV(Trans, {\n              id: \"You are creating a pool\"\n            }, void 0, false, void 0, this) : /*#__PURE__*/_jsxDEV(Trans, {\n              id: \"You will receive\"\n            }, void 0, false, void 0, this),\n            onDismiss: handleDismissConfirmation,\n            topContent: modalHeader,\n            bottomContent: modalBottom\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 15\n          }, this),\n          pendingText: pendingText,\n          currencyToAdd: pair === null || pair === void 0 ? void 0 : pair.liquidityToken\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(AutoColumn, {\n          gap: \"20px\",\n          children: [noLiquidity || (isCreate ? /*#__PURE__*/_jsxDEV(ColumnCenter, {\n            children: /*#__PURE__*/_jsxDEV(BlueCard, {\n              children: /*#__PURE__*/_jsxDEV(AutoColumn, {\n                gap: \"10px\",\n                children: [/*#__PURE__*/_jsxDEV(ThemedText.Link, {\n                  fontWeight: 600,\n                  color: 'primaryText1',\n                  children: /*#__PURE__*/_jsxDEV(Trans, {\n                    id: \"You are the first liquidity provider.\"\n                  }, void 0, false, void 0, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 347,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(ThemedText.Link, {\n                  fontWeight: 400,\n                  color: 'primaryText1',\n                  children: /*#__PURE__*/_jsxDEV(Trans, {\n                    id: \"The ratio of tokens you add will set the price of this pool.\"\n                  }, void 0, false, void 0, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 350,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(ThemedText.Link, {\n                  fontWeight: 400,\n                  color: 'primaryText1',\n                  children: /*#__PURE__*/_jsxDEV(Trans, {\n                    id: \"Once you are happy with the rate click supply to review.\"\n                  }, void 0, false, void 0, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 353,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 346,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 345,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(ColumnCenter, {\n            children: /*#__PURE__*/_jsxDEV(BlueCard, {\n              children: /*#__PURE__*/_jsxDEV(AutoColumn, {\n                gap: \"10px\",\n                children: /*#__PURE__*/_jsxDEV(ThemedText.Link, {\n                  fontWeight: 400,\n                  color: 'primaryText1',\n                  children: /*#__PURE__*/_jsxDEV(Trans, {\n                    id: \"<0>Tip:</0> When you add liquidity, you will receive pool tokens representing your position. These tokens automatically earn fees proportional to your share of the pool, and can be redeemed at any time.\",\n                    components: {\n                      0: /*#__PURE__*/_jsxDEV(\"b\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 365,\n                        columnNumber: 27\n                      }, this)\n                    }\n                  }, void 0, false, void 0, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 363,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 362,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 17\n          }, this)), /*#__PURE__*/_jsxDEV(CurrencyInputPanel, {\n            value: formattedAmounts[Field.CURRENCY_A],\n            onUserInput: onFieldAInput,\n            onMax: () => {\n              var _maxAmounts$Field$CUR, _maxAmounts$Field$CUR2;\n\n              onFieldAInput((_maxAmounts$Field$CUR = (_maxAmounts$Field$CUR2 = maxAmounts[Field.CURRENCY_A]) === null || _maxAmounts$Field$CUR2 === void 0 ? void 0 : _maxAmounts$Field$CUR2.toExact()) !== null && _maxAmounts$Field$CUR !== void 0 ? _maxAmounts$Field$CUR : '');\n            },\n            onCurrencySelect: handleCurrencyASelect,\n            showMaxButton: !atMaxAmounts[Field.CURRENCY_A],\n            currency: (_currencies$Field$CUR9 = currencies[Field.CURRENCY_A]) !== null && _currencies$Field$CUR9 !== void 0 ? _currencies$Field$CUR9 : null,\n            id: \"add-liquidity-input-tokena\",\n            showCommonBases: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 377,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ColumnCenter, {\n            children: /*#__PURE__*/_jsxDEV(Plus, {\n              size: \"16\",\n              color: theme.text2\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 390,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 389,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(CurrencyInputPanel, {\n            value: formattedAmounts[Field.CURRENCY_B],\n            onUserInput: onFieldBInput,\n            onCurrencySelect: handleCurrencyBSelect,\n            onMax: () => {\n              var _maxAmounts$Field$CUR3, _maxAmounts$Field$CUR4;\n\n              onFieldBInput((_maxAmounts$Field$CUR3 = (_maxAmounts$Field$CUR4 = maxAmounts[Field.CURRENCY_B]) === null || _maxAmounts$Field$CUR4 === void 0 ? void 0 : _maxAmounts$Field$CUR4.toExact()) !== null && _maxAmounts$Field$CUR3 !== void 0 ? _maxAmounts$Field$CUR3 : '');\n            },\n            showMaxButton: !atMaxAmounts[Field.CURRENCY_B],\n            currency: (_currencies$Field$CUR10 = currencies[Field.CURRENCY_B]) !== null && _currencies$Field$CUR10 !== void 0 ? _currencies$Field$CUR10 : null,\n            id: \"add-liquidity-input-tokenb\",\n            showCommonBases: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 392,\n            columnNumber: 13\n          }, this), currencies[Field.CURRENCY_A] && currencies[Field.CURRENCY_B] && pairState !== PairState.INVALID && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: /*#__PURE__*/_jsxDEV(LightCard, {\n              padding: \"0px\",\n              $borderRadius: '20px',\n              children: [/*#__PURE__*/_jsxDEV(RowBetween, {\n                padding: \"1rem\",\n                children: /*#__PURE__*/_jsxDEV(ThemedText.SubHeader, {\n                  fontWeight: 500,\n                  fontSize: 14,\n                  children: noLiquidity ? /*#__PURE__*/_jsxDEV(Trans, {\n                    id: \"Initial prices and pool share\"\n                  }, void 0, false, void 0, this) : /*#__PURE__*/_jsxDEV(Trans, {\n                    id: \"Prices and pool share\"\n                  }, void 0, false, void 0, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 408,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 407,\n                columnNumber: 19\n              }, this), ' ', /*#__PURE__*/_jsxDEV(LightCard, {\n                padding: \"1rem\",\n                $borderRadius: '20px',\n                children: /*#__PURE__*/_jsxDEV(PoolPriceBar, {\n                  currencies: currencies,\n                  poolTokenPercentage: poolTokenPercentage,\n                  noLiquidity: noLiquidity,\n                  price: price\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 417,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 416,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 406,\n              columnNumber: 17\n            }, this)\n          }, void 0, false), addIsUnsupported ? /*#__PURE__*/_jsxDEV(ButtonPrimary, {\n            disabled: true,\n            children: /*#__PURE__*/_jsxDEV(ThemedText.Main, {\n              mb: \"4px\",\n              children: /*#__PURE__*/_jsxDEV(Trans, {\n                id: \"Unsupported Asset\"\n              }, void 0, false, void 0, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 430,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 429,\n            columnNumber: 15\n          }, this) : !account ? /*#__PURE__*/_jsxDEV(ButtonLight, {\n            onClick: toggleWalletModal,\n            children: /*#__PURE__*/_jsxDEV(Trans, {\n              id: \"Connect Wallet\"\n            }, void 0, false, void 0, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 435,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(AutoColumn, {\n            gap: 'md',\n            children: [(approvalA === ApprovalState.NOT_APPROVED || approvalA === ApprovalState.PENDING || approvalB === ApprovalState.NOT_APPROVED || approvalB === ApprovalState.PENDING) && isValid && /*#__PURE__*/_jsxDEV(RowBetween, {\n              children: [approvalA !== ApprovalState.APPROVED && /*#__PURE__*/_jsxDEV(ButtonPrimary, {\n                onClick: approveACallback,\n                disabled: approvalA === ApprovalState.PENDING,\n                width: approvalB !== ApprovalState.APPROVED ? '48%' : '100%',\n                children: approvalA === ApprovalState.PENDING ? /*#__PURE__*/_jsxDEV(Dots, {\n                  children: /*#__PURE__*/_jsxDEV(Trans, {\n                    id: \"Approving {0}\",\n                    values: {\n                      0: (_currencies$Field$CUR11 = currencies[Field.CURRENCY_A]) === null || _currencies$Field$CUR11 === void 0 ? void 0 : _currencies$Field$CUR11.symbol\n                    }\n                  }, void 0, false, void 0, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 453,\n                  columnNumber: 29\n                }, this) : /*#__PURE__*/_jsxDEV(Trans, {\n                  id: \"Approve {0}\",\n                  values: {\n                    0: (_currencies$Field$CUR12 = currencies[Field.CURRENCY_A]) === null || _currencies$Field$CUR12 === void 0 ? void 0 : _currencies$Field$CUR12.symbol\n                  }\n                }, void 0, false, void 0, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 447,\n                columnNumber: 25\n              }, this), approvalB !== ApprovalState.APPROVED && /*#__PURE__*/_jsxDEV(ButtonPrimary, {\n                onClick: approveBCallback,\n                disabled: approvalB === ApprovalState.PENDING,\n                width: approvalA !== ApprovalState.APPROVED ? '48%' : '100%',\n                children: approvalB === ApprovalState.PENDING ? /*#__PURE__*/_jsxDEV(Dots, {\n                  children: /*#__PURE__*/_jsxDEV(Trans, {\n                    id: \"Approving {0}\",\n                    values: {\n                      0: (_currencies$Field$CUR13 = currencies[Field.CURRENCY_B]) === null || _currencies$Field$CUR13 === void 0 ? void 0 : _currencies$Field$CUR13.symbol\n                    }\n                  }, void 0, false, void 0, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 468,\n                  columnNumber: 29\n                }, this) : /*#__PURE__*/_jsxDEV(Trans, {\n                  id: \"Approve {0}\",\n                  values: {\n                    0: (_currencies$Field$CUR14 = currencies[Field.CURRENCY_B]) === null || _currencies$Field$CUR14 === void 0 ? void 0 : _currencies$Field$CUR14.symbol\n                  }\n                }, void 0, false, void 0, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 462,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 445,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(ButtonError, {\n              onClick: () => {\n                expertMode ? onAdd() : setShowConfirm(true);\n              },\n              disabled: !isValid || approvalA !== ApprovalState.APPROVED || approvalB !== ApprovalState.APPROVED,\n              error: !isValid && !!parsedAmounts[Field.CURRENCY_A] && !!parsedAmounts[Field.CURRENCY_B],\n              children: /*#__PURE__*/_jsxDEV(Text, {\n                fontSize: 20,\n                fontWeight: 500,\n                children: error !== null && error !== void 0 ? error : /*#__PURE__*/_jsxDEV(Trans, {\n                  id: \"Supply\"\n                }, void 0, false, void 0, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 485,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 478,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 439,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SwitchLocaleLink, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 494,\n      columnNumber: 7\n    }, this), !addIsUnsupported ? pair && !noLiquidity && pairState !== PairState.INVALID ? /*#__PURE__*/_jsxDEV(AutoColumn, {\n      style: {\n        minWidth: '20rem',\n        width: '100%',\n        maxWidth: '400px',\n        marginTop: '1rem'\n      },\n      children: /*#__PURE__*/_jsxDEV(MinimalPositionCard, {\n        showUnwrapped: oneCurrencyIsWETH,\n        pair: pair\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 499,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 498,\n      columnNumber: 11\n    }, this) : null : /*#__PURE__*/_jsxDEV(UnsupportedCurrencyFooter, {\n      show: addIsUnsupported,\n      currencies: [currencies.CURRENCY_A, currencies.CURRENCY_B]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 503,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n\n_s(AddLiquidity, \"+eDfdP5f/DemBz2Z4Eh+dllUC2k=\", false, function () {\n  return [useActiveWeb3React, useCurrency, useCurrency, useWalletModalToggle, useIsExpertMode, useMintState, useDerivedMintInfo, useMintActionHandlers, useTransactionDeadline, useUserSlippageToleranceWithDefault, useV2RouterContract, useApproveCallback, useApproveCallback, useTransactionAdder, useIsSwapUnsupported];\n});\n\n_c = AddLiquidity;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddLiquidity\");","map":{"version":3,"sources":["/Users/safahi/Downloads/interface-4.30.1/src/pages/AddLiquidityV2/index.tsx"],"names":["BigNumber","Percent","UnsupportedCurrencyFooter","SwitchLocaleLink","useCallback","useContext","useState","Plus","ReactGA","Text","ButtonError","ButtonLight","ButtonPrimary","BlueCard","LightCard","AutoColumn","ColumnCenter","CurrencyInputPanel","DoubleCurrencyLogo","AddRemoveTabs","MinimalPositionCard","Row","RowBetween","RowFlat","TransactionConfirmationModal","ConfirmationModalContent","ZERO_PERCENT","WRAPPED_NATIVE_CURRENCY","useCurrency","ApprovalState","useApproveCallback","useV2RouterContract","useIsSwapUnsupported","useTransactionDeadline","PairState","useActiveWeb3React","useWalletModalToggle","Field","useDerivedMintInfo","useMintActionHandlers","useMintState","TransactionType","useTransactionAdder","useIsExpertMode","useUserSlippageToleranceWithDefault","ThemedText","calculateGasMargin","calculateSlippageAmount","currencyId","maxAmountSpend","AppBody","Dots","Wrapper","ConfirmAddModalBottom","PoolPriceBar","DEFAULT_ADD_V2_SLIPPAGE_TOLERANCE","AddLiquidity","match","params","currencyIdA","currencyIdB","history","account","chainId","library","theme","ThemeContext","currencyA","currencyB","oneCurrencyIsWETH","Boolean","equals","toggleWalletModal","expertMode","independentField","typedValue","otherTypedValue","dependentField","currencies","pair","pairState","currencyBalances","parsedAmounts","price","noLiquidity","liquidityMinted","poolTokenPercentage","error","undefined","onFieldAInput","onFieldBInput","isValid","showConfirm","setShowConfirm","attemptingTxn","setAttemptingTxn","deadline","allowedSlippage","txHash","setTxHash","formattedAmounts","toSignificant","maxAmounts","CURRENCY_A","CURRENCY_B","reduce","accumulator","field","atMaxAmounts","equalTo","router","approvalA","approveACallback","address","approvalB","approveBCallback","addTransaction","onAdd","parsedAmountA","parsedAmountB","amountsMin","estimate","method","args","value","isNative","tokenBIsETH","estimateGas","addLiquidityETH","wrapped","quotient","toString","toHexString","from","addLiquidity","then","estimatedGasLimit","gasLimit","response","type","ADD_LIQUIDITY_V2_POOL","baseCurrencyId","expectedAmountBaseRaw","quoteCurrencyId","expectedAmountQuoteRaw","hash","event","category","action","label","symbol","join","catch","code","console","modalHeader","marginTop","modalBottom","pendingText","handleCurrencyASelect","newCurrencyIdA","push","handleCurrencyBSelect","newCurrencyIdB","handleDismissConfirmation","isCreate","location","pathname","includes","addIsUnsupported","liquidityToken","toExact","text2","INVALID","NOT_APPROVED","PENDING","APPROVED","minWidth","width","maxWidth"],"mappings":"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","sourcesContent":["import { BigNumber } from '@ethersproject/bignumber'\nimport { TransactionResponse } from '@ethersproject/providers'\nimport { Trans } from '@lingui/macro'\nimport { Currency, CurrencyAmount, Percent } from '@uniswap/sdk-core'\nimport UnsupportedCurrencyFooter from 'components/swap/UnsupportedCurrencyFooter'\nimport { SwitchLocaleLink } from 'components/SwitchLocaleLink'\nimport { useCallback, useContext, useState } from 'react'\nimport { Plus } from 'react-feather'\nimport ReactGA from 'react-ga'\nimport { RouteComponentProps } from 'react-router-dom'\nimport { Text } from 'rebass'\nimport { ThemeContext } from 'styled-components/macro'\n\nimport { ButtonError, ButtonLight, ButtonPrimary } from '../../components/Button'\nimport { BlueCard, LightCard } from '../../components/Card'\nimport { AutoColumn, ColumnCenter } from '../../components/Column'\nimport CurrencyInputPanel from '../../components/CurrencyInputPanel'\nimport DoubleCurrencyLogo from '../../components/DoubleLogo'\nimport { AddRemoveTabs } from '../../components/NavigationTabs'\nimport { MinimalPositionCard } from '../../components/PositionCard'\nimport Row, { RowBetween, RowFlat } from '../../components/Row'\nimport TransactionConfirmationModal, { ConfirmationModalContent } from '../../components/TransactionConfirmationModal'\nimport { ZERO_PERCENT } from '../../constants/misc'\nimport { WRAPPED_NATIVE_CURRENCY } from '../../constants/tokens'\nimport { useCurrency } from '../../hooks/Tokens'\nimport { ApprovalState, useApproveCallback } from '../../hooks/useApproveCallback'\nimport { useV2RouterContract } from '../../hooks/useContract'\nimport { useIsSwapUnsupported } from '../../hooks/useIsSwapUnsupported'\nimport useTransactionDeadline from '../../hooks/useTransactionDeadline'\nimport { PairState } from '../../hooks/useV2Pairs'\nimport { useActiveWeb3React } from '../../hooks/web3'\nimport { useWalletModalToggle } from '../../state/application/hooks'\nimport { Field } from '../../state/mint/actions'\nimport { useDerivedMintInfo, useMintActionHandlers, useMintState } from '../../state/mint/hooks'\nimport { TransactionType } from '../../state/transactions/actions'\nimport { useTransactionAdder } from '../../state/transactions/hooks'\nimport { useIsExpertMode, useUserSlippageToleranceWithDefault } from '../../state/user/hooks'\nimport { ThemedText } from '../../theme'\nimport { calculateGasMargin } from '../../utils/calculateGasMargin'\nimport { calculateSlippageAmount } from '../../utils/calculateSlippageAmount'\nimport { currencyId } from '../../utils/currencyId'\nimport { maxAmountSpend } from '../../utils/maxAmountSpend'\nimport AppBody from '../AppBody'\nimport { Dots, Wrapper } from '../Pool/styleds'\nimport { ConfirmAddModalBottom } from './ConfirmAddModalBottom'\nimport { PoolPriceBar } from './PoolPriceBar'\n\nconst DEFAULT_ADD_V2_SLIPPAGE_TOLERANCE = new Percent(50, 10_000)\n\nexport default function AddLiquidity({\n  match: {\n    params: { currencyIdA, currencyIdB },\n  },\n  history,\n}: RouteComponentProps<{ currencyIdA?: string; currencyIdB?: string }>) {\n  const { account, chainId, library } = useActiveWeb3React()\n  const theme = useContext(ThemeContext)\n\n  const currencyA = useCurrency(currencyIdA)\n  const currencyB = useCurrency(currencyIdB)\n\n  const oneCurrencyIsWETH = Boolean(\n    chainId &&\n      ((currencyA && currencyA.equals(WRAPPED_NATIVE_CURRENCY[chainId])) ||\n        (currencyB && currencyB.equals(WRAPPED_NATIVE_CURRENCY[chainId])))\n  )\n\n  const toggleWalletModal = useWalletModalToggle() // toggle wallet when disconnected\n\n  const expertMode = useIsExpertMode()\n\n  // mint state\n  const { independentField, typedValue, otherTypedValue } = useMintState()\n  const {\n    dependentField,\n    currencies,\n    pair,\n    pairState,\n    currencyBalances,\n    parsedAmounts,\n    price,\n    noLiquidity,\n    liquidityMinted,\n    poolTokenPercentage,\n    error,\n  } = useDerivedMintInfo(currencyA ?? undefined, currencyB ?? undefined)\n\n  const { onFieldAInput, onFieldBInput } = useMintActionHandlers(noLiquidity)\n\n  const isValid = !error\n\n  // modal and loading\n  const [showConfirm, setShowConfirm] = useState<boolean>(false)\n  const [attemptingTxn, setAttemptingTxn] = useState<boolean>(false) // clicked confirm\n\n  // txn values\n  const deadline = useTransactionDeadline() // custom from users settings\n  const allowedSlippage = useUserSlippageToleranceWithDefault(DEFAULT_ADD_V2_SLIPPAGE_TOLERANCE) // custom from users\n  const [txHash, setTxHash] = useState<string>('')\n\n  // get formatted amounts\n  const formattedAmounts = {\n    [independentField]: typedValue,\n    [dependentField]: noLiquidity ? otherTypedValue : parsedAmounts[dependentField]?.toSignificant(6) ?? '',\n  }\n\n  // get the max amounts user can add\n  const maxAmounts: { [field in Field]?: CurrencyAmount<Currency> } = [Field.CURRENCY_A, Field.CURRENCY_B].reduce(\n    (accumulator, field) => {\n      return {\n        ...accumulator,\n        [field]: maxAmountSpend(currencyBalances[field]),\n      }\n    },\n    {}\n  )\n\n  const atMaxAmounts: { [field in Field]?: CurrencyAmount<Currency> } = [Field.CURRENCY_A, Field.CURRENCY_B].reduce(\n    (accumulator, field) => {\n      return {\n        ...accumulator,\n        [field]: maxAmounts[field]?.equalTo(parsedAmounts[field] ?? '0'),\n      }\n    },\n    {}\n  )\n\n  const router = useV2RouterContract()\n\n  // check whether the user has approved the router on the tokens\n  const [approvalA, approveACallback] = useApproveCallback(parsedAmounts[Field.CURRENCY_A], router?.address)\n  const [approvalB, approveBCallback] = useApproveCallback(parsedAmounts[Field.CURRENCY_B], router?.address)\n\n  const addTransaction = useTransactionAdder()\n\n  async function onAdd() {\n    if (!chainId || !library || !account || !router) return\n\n    const { [Field.CURRENCY_A]: parsedAmountA, [Field.CURRENCY_B]: parsedAmountB } = parsedAmounts\n    if (!parsedAmountA || !parsedAmountB || !currencyA || !currencyB || !deadline) {\n      return\n    }\n\n    const amountsMin = {\n      [Field.CURRENCY_A]: calculateSlippageAmount(parsedAmountA, noLiquidity ? ZERO_PERCENT : allowedSlippage)[0],\n      [Field.CURRENCY_B]: calculateSlippageAmount(parsedAmountB, noLiquidity ? ZERO_PERCENT : allowedSlippage)[0],\n    }\n\n    let estimate,\n      method: (...args: any) => Promise<TransactionResponse>,\n      args: Array<string | string[] | number>,\n      value: BigNumber | null\n    if (currencyA.isNative || currencyB.isNative) {\n      const tokenBIsETH = currencyB.isNative\n      estimate = router.estimateGas.addLiquidityETH\n      method = router.addLiquidityETH\n      args = [\n        (tokenBIsETH ? currencyA : currencyB)?.wrapped?.address ?? '', // token\n        (tokenBIsETH ? parsedAmountA : parsedAmountB).quotient.toString(), // token desired\n        amountsMin[tokenBIsETH ? Field.CURRENCY_A : Field.CURRENCY_B].toString(), // token min\n        amountsMin[tokenBIsETH ? Field.CURRENCY_B : Field.CURRENCY_A].toString(), // eth min\n        account,\n        deadline.toHexString(),\n      ]\n      value = BigNumber.from((tokenBIsETH ? parsedAmountB : parsedAmountA).quotient.toString())\n    } else {\n      estimate = router.estimateGas.addLiquidity\n      method = router.addLiquidity\n      args = [\n        currencyA?.wrapped?.address ?? '',\n        currencyB?.wrapped?.address ?? '',\n        parsedAmountA.quotient.toString(),\n        parsedAmountB.quotient.toString(),\n        amountsMin[Field.CURRENCY_A].toString(),\n        amountsMin[Field.CURRENCY_B].toString(),\n        account,\n        deadline.toHexString(),\n      ]\n      value = null\n    }\n\n    setAttemptingTxn(true)\n    await estimate(...args, value ? { value } : {})\n      .then((estimatedGasLimit) =>\n        method(...args, {\n          ...(value ? { value } : {}),\n          gasLimit: calculateGasMargin(estimatedGasLimit),\n        }).then((response) => {\n          setAttemptingTxn(false)\n\n          addTransaction(response, {\n            type: TransactionType.ADD_LIQUIDITY_V2_POOL,\n            baseCurrencyId: currencyId(currencyA),\n            expectedAmountBaseRaw: parsedAmounts[Field.CURRENCY_A]?.quotient.toString() ?? '0',\n            quoteCurrencyId: currencyId(currencyB),\n            expectedAmountQuoteRaw: parsedAmounts[Field.CURRENCY_B]?.quotient.toString() ?? '0',\n          })\n\n          setTxHash(response.hash)\n\n          ReactGA.event({\n            category: 'Liquidity',\n            action: 'Add',\n            label: [currencies[Field.CURRENCY_A]?.symbol, currencies[Field.CURRENCY_B]?.symbol].join('/'),\n          })\n        })\n      )\n      .catch((error) => {\n        setAttemptingTxn(false)\n        // we only care if the error is something _other_ than the user rejected the tx\n        if (error?.code !== 4001) {\n          console.error(error)\n        }\n      })\n  }\n\n  const modalHeader = () => {\n    return noLiquidity ? (\n      <AutoColumn gap=\"20px\">\n        <LightCard mt=\"20px\" $borderRadius=\"20px\">\n          <RowFlat>\n            <Text fontSize=\"48px\" fontWeight={500} lineHeight=\"42px\" marginRight={10}>\n              {currencies[Field.CURRENCY_A]?.symbol + '/' + currencies[Field.CURRENCY_B]?.symbol}\n            </Text>\n            <DoubleCurrencyLogo\n              currency0={currencies[Field.CURRENCY_A]}\n              currency1={currencies[Field.CURRENCY_B]}\n              size={30}\n            />\n          </RowFlat>\n        </LightCard>\n      </AutoColumn>\n    ) : (\n      <AutoColumn gap=\"20px\">\n        <RowFlat style={{ marginTop: '20px' }}>\n          <Text fontSize=\"48px\" fontWeight={500} lineHeight=\"42px\" marginRight={10}>\n            {liquidityMinted?.toSignificant(6)}\n          </Text>\n          <DoubleCurrencyLogo\n            currency0={currencies[Field.CURRENCY_A]}\n            currency1={currencies[Field.CURRENCY_B]}\n            size={30}\n          />\n        </RowFlat>\n        <Row>\n          <Text fontSize=\"24px\">\n            {currencies[Field.CURRENCY_A]?.symbol + '/' + currencies[Field.CURRENCY_B]?.symbol + ' Pool Tokens'}\n          </Text>\n        </Row>\n        <ThemedText.Italic fontSize={12} textAlign=\"left\" padding={'8px 0 0 0 '}>\n          <Trans>\n            Output is estimated. If the price changes by more than {allowedSlippage.toSignificant(4)}% your transaction\n            will revert.\n          </Trans>\n        </ThemedText.Italic>\n      </AutoColumn>\n    )\n  }\n\n  const modalBottom = () => {\n    return (\n      <ConfirmAddModalBottom\n        price={price}\n        currencies={currencies}\n        parsedAmounts={parsedAmounts}\n        noLiquidity={noLiquidity}\n        onAdd={onAdd}\n        poolTokenPercentage={poolTokenPercentage}\n      />\n    )\n  }\n\n  const pendingText = (\n    <Trans>\n      Supplying {parsedAmounts[Field.CURRENCY_A]?.toSignificant(6)} {currencies[Field.CURRENCY_A]?.symbol} and{' '}\n      {parsedAmounts[Field.CURRENCY_B]?.toSignificant(6)} {currencies[Field.CURRENCY_B]?.symbol}\n    </Trans>\n  )\n\n  const handleCurrencyASelect = useCallback(\n    (currencyA: Currency) => {\n      const newCurrencyIdA = currencyId(currencyA)\n      if (newCurrencyIdA === currencyIdB) {\n        history.push(`/add/v2/${currencyIdB}/${currencyIdA}`)\n      } else {\n        history.push(`/add/v2/${newCurrencyIdA}/${currencyIdB}`)\n      }\n    },\n    [currencyIdB, history, currencyIdA]\n  )\n  const handleCurrencyBSelect = useCallback(\n    (currencyB: Currency) => {\n      const newCurrencyIdB = currencyId(currencyB)\n      if (currencyIdA === newCurrencyIdB) {\n        if (currencyIdB) {\n          history.push(`/add/v2/${currencyIdB}/${newCurrencyIdB}`)\n        } else {\n          history.push(`/add/v2/${newCurrencyIdB}`)\n        }\n      } else {\n        history.push(`/add/v2/${currencyIdA ? currencyIdA : 'ETH'}/${newCurrencyIdB}`)\n      }\n    },\n    [currencyIdA, history, currencyIdB]\n  )\n\n  const handleDismissConfirmation = useCallback(() => {\n    setShowConfirm(false)\n    // if there was a tx hash, we want to clear the input\n    if (txHash) {\n      onFieldAInput('')\n    }\n    setTxHash('')\n  }, [onFieldAInput, txHash])\n\n  const isCreate = history.location.pathname.includes('/create')\n\n  const addIsUnsupported = useIsSwapUnsupported(currencies?.CURRENCY_A, currencies?.CURRENCY_B)\n\n  return (\n    <>\n      <AppBody>\n        <AddRemoveTabs creating={isCreate} adding={true} defaultSlippage={DEFAULT_ADD_V2_SLIPPAGE_TOLERANCE} />\n        <Wrapper>\n          <TransactionConfirmationModal\n            isOpen={showConfirm}\n            onDismiss={handleDismissConfirmation}\n            attemptingTxn={attemptingTxn}\n            hash={txHash}\n            content={() => (\n              <ConfirmationModalContent\n                title={noLiquidity ? <Trans>You are creating a pool</Trans> : <Trans>You will receive</Trans>}\n                onDismiss={handleDismissConfirmation}\n                topContent={modalHeader}\n                bottomContent={modalBottom}\n              />\n            )}\n            pendingText={pendingText}\n            currencyToAdd={pair?.liquidityToken}\n          />\n          <AutoColumn gap=\"20px\">\n            {noLiquidity ||\n              (isCreate ? (\n                <ColumnCenter>\n                  <BlueCard>\n                    <AutoColumn gap=\"10px\">\n                      <ThemedText.Link fontWeight={600} color={'primaryText1'}>\n                        <Trans>You are the first liquidity provider.</Trans>\n                      </ThemedText.Link>\n                      <ThemedText.Link fontWeight={400} color={'primaryText1'}>\n                        <Trans>The ratio of tokens you add will set the price of this pool.</Trans>\n                      </ThemedText.Link>\n                      <ThemedText.Link fontWeight={400} color={'primaryText1'}>\n                        <Trans>Once you are happy with the rate click supply to review.</Trans>\n                      </ThemedText.Link>\n                    </AutoColumn>\n                  </BlueCard>\n                </ColumnCenter>\n              ) : (\n                <ColumnCenter>\n                  <BlueCard>\n                    <AutoColumn gap=\"10px\">\n                      <ThemedText.Link fontWeight={400} color={'primaryText1'}>\n                        <Trans>\n                          <b>\n                            <Trans>Tip:</Trans>\n                          </b>{' '}\n                          When you add liquidity, you will receive pool tokens representing your position. These tokens\n                          automatically earn fees proportional to your share of the pool, and can be redeemed at any\n                          time.\n                        </Trans>\n                      </ThemedText.Link>\n                    </AutoColumn>\n                  </BlueCard>\n                </ColumnCenter>\n              ))}\n            <CurrencyInputPanel\n              value={formattedAmounts[Field.CURRENCY_A]}\n              onUserInput={onFieldAInput}\n              onMax={() => {\n                onFieldAInput(maxAmounts[Field.CURRENCY_A]?.toExact() ?? '')\n              }}\n              onCurrencySelect={handleCurrencyASelect}\n              showMaxButton={!atMaxAmounts[Field.CURRENCY_A]}\n              currency={currencies[Field.CURRENCY_A] ?? null}\n              id=\"add-liquidity-input-tokena\"\n              showCommonBases\n            />\n            <ColumnCenter>\n              <Plus size=\"16\" color={theme.text2} />\n            </ColumnCenter>\n            <CurrencyInputPanel\n              value={formattedAmounts[Field.CURRENCY_B]}\n              onUserInput={onFieldBInput}\n              onCurrencySelect={handleCurrencyBSelect}\n              onMax={() => {\n                onFieldBInput(maxAmounts[Field.CURRENCY_B]?.toExact() ?? '')\n              }}\n              showMaxButton={!atMaxAmounts[Field.CURRENCY_B]}\n              currency={currencies[Field.CURRENCY_B] ?? null}\n              id=\"add-liquidity-input-tokenb\"\n              showCommonBases\n            />\n            {currencies[Field.CURRENCY_A] && currencies[Field.CURRENCY_B] && pairState !== PairState.INVALID && (\n              <>\n                <LightCard padding=\"0px\" $borderRadius={'20px'}>\n                  <RowBetween padding=\"1rem\">\n                    <ThemedText.SubHeader fontWeight={500} fontSize={14}>\n                      {noLiquidity ? (\n                        <Trans>Initial prices and pool share</Trans>\n                      ) : (\n                        <Trans>Prices and pool share</Trans>\n                      )}\n                    </ThemedText.SubHeader>\n                  </RowBetween>{' '}\n                  <LightCard padding=\"1rem\" $borderRadius={'20px'}>\n                    <PoolPriceBar\n                      currencies={currencies}\n                      poolTokenPercentage={poolTokenPercentage}\n                      noLiquidity={noLiquidity}\n                      price={price}\n                    />\n                  </LightCard>\n                </LightCard>\n              </>\n            )}\n\n            {addIsUnsupported ? (\n              <ButtonPrimary disabled={true}>\n                <ThemedText.Main mb=\"4px\">\n                  <Trans>Unsupported Asset</Trans>\n                </ThemedText.Main>\n              </ButtonPrimary>\n            ) : !account ? (\n              <ButtonLight onClick={toggleWalletModal}>\n                <Trans>Connect Wallet</Trans>\n              </ButtonLight>\n            ) : (\n              <AutoColumn gap={'md'}>\n                {(approvalA === ApprovalState.NOT_APPROVED ||\n                  approvalA === ApprovalState.PENDING ||\n                  approvalB === ApprovalState.NOT_APPROVED ||\n                  approvalB === ApprovalState.PENDING) &&\n                  isValid && (\n                    <RowBetween>\n                      {approvalA !== ApprovalState.APPROVED && (\n                        <ButtonPrimary\n                          onClick={approveACallback}\n                          disabled={approvalA === ApprovalState.PENDING}\n                          width={approvalB !== ApprovalState.APPROVED ? '48%' : '100%'}\n                        >\n                          {approvalA === ApprovalState.PENDING ? (\n                            <Dots>\n                              <Trans>Approving {currencies[Field.CURRENCY_A]?.symbol}</Trans>\n                            </Dots>\n                          ) : (\n                            <Trans>Approve {currencies[Field.CURRENCY_A]?.symbol}</Trans>\n                          )}\n                        </ButtonPrimary>\n                      )}\n                      {approvalB !== ApprovalState.APPROVED && (\n                        <ButtonPrimary\n                          onClick={approveBCallback}\n                          disabled={approvalB === ApprovalState.PENDING}\n                          width={approvalA !== ApprovalState.APPROVED ? '48%' : '100%'}\n                        >\n                          {approvalB === ApprovalState.PENDING ? (\n                            <Dots>\n                              <Trans>Approving {currencies[Field.CURRENCY_B]?.symbol}</Trans>\n                            </Dots>\n                          ) : (\n                            <Trans>Approve {currencies[Field.CURRENCY_B]?.symbol}</Trans>\n                          )}\n                        </ButtonPrimary>\n                      )}\n                    </RowBetween>\n                  )}\n                <ButtonError\n                  onClick={() => {\n                    expertMode ? onAdd() : setShowConfirm(true)\n                  }}\n                  disabled={!isValid || approvalA !== ApprovalState.APPROVED || approvalB !== ApprovalState.APPROVED}\n                  error={!isValid && !!parsedAmounts[Field.CURRENCY_A] && !!parsedAmounts[Field.CURRENCY_B]}\n                >\n                  <Text fontSize={20} fontWeight={500}>\n                    {error ?? <Trans>Supply</Trans>}\n                  </Text>\n                </ButtonError>\n              </AutoColumn>\n            )}\n          </AutoColumn>\n        </Wrapper>\n      </AppBody>\n      <SwitchLocaleLink />\n\n      {!addIsUnsupported ? (\n        pair && !noLiquidity && pairState !== PairState.INVALID ? (\n          <AutoColumn style={{ minWidth: '20rem', width: '100%', maxWidth: '400px', marginTop: '1rem' }}>\n            <MinimalPositionCard showUnwrapped={oneCurrencyIsWETH} pair={pair} />\n          </AutoColumn>\n        ) : null\n      ) : (\n        <UnsupportedCurrencyFooter\n          show={addIsUnsupported}\n          currencies={[currencies.CURRENCY_A, currencies.CURRENCY_B]}\n        />\n      )}\n    </>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}